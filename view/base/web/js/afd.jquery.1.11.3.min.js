!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).$)}(this,(function(t){"use strict";var e={pceUrl:"//pce.afd.co.uk/afddata.pce",nativeValidationMessages:!1,defaultCountry:null,afdc:0,platformVersion:null,phone:{defaultDialingCode:"+44",invalidPhoneNumberMessage:"Please input a valid phone number",loadingSpinner:null,countryControl:null,countryControlConverter:null,additionalPCEParams:{}},email:{invalidEmailMessage:"Please input a valid email address",loadingSpinner:null,task:"live",additionalPCEParams:{}},card:{invalidCardNumberMessage:"Please input a valid card number",invalidCardOrExpiryMessage:"Either the card number or expiry date are not valid",invalidExpiryMonthMessage:"Please input a valid month",invalidExpiryDateMessage:"Please input a valid expiry date",loadingSpinner:null,logoHeight:16,logoWidth:24,additionalPCEParams:{}},account:{invalidAccountNumberMessage:"Please input a valid account number",invalidSortCodeMessage:"Please input a valid Sort Code",loadingSpinner:null,additionalPCEParams:{}},typeahead:{maxItems:5,pushUp:!1,afterHideTypeahead:!1,searchAgain:!0,afterClearTypeahead:!0,beforeHideResults:!1,parentClass:null,fieldSets:[],manualInputButton:!1,fewResultsManualInput:!0,fewResultsManualInputText:"Can't see your address? Enter it manually",notEmptyShowResults:!1,hideEmpties:!1,containers:[],retrieveFields:"standard",availableCountries:[],minLength:2,matchPositions:!1,postcodeFirst:!0,hideForCountries:[],showForCountries:[],containerOnlyContainsControl:!1,regionMap:null,regionAttribute:"value",listEnv:!1,flatSubBuild:!1,extraPCESearchParams:{},extraPCERetrieveParams:{},bankLookup:!1,providerInfo:!1,w3wMode:1,w3wNear:!1,w3wNearTemplate:"Near {near}",w3wFocusMode:!1,w3wDistance:!1,w3wDistanceUnit:"m",w3wDistanceTemplate:"{distance} Miles",requiredSelector:null},lookup:{prefetch:!0,pushUp:!1,afterHideButtonAndFields:!1,fieldContainer:null,searchAgain:!0,beforeHideResults:!1,parentClass:null,fieldSets:[],manualInputButton:!1,hideEmpties:!1,afterRetrieveHideResultsList:!0,postcodeIsLookup:!1,resultsContainer:"",containers:[],retrieveFields:"standard",availableCountries:[],postcodeFirst:!0,hideForCountries:[],showForCountries:[],regionMap:null,regionAttribute:"value",selectAddressText:"Please select an address",noResultsText:"No results found, click to enter address manually",listEnv:!1,flatSubBuild:!1,extraPCESearchParams:{},extraPCERetrieveParams:{},bankLookup:!1,requiredSelector:null},country:{containers:[],defaultCountry:null,availableCountries:[],preferredCountries:[],customCountryControl:null,customCountryConverter:null},reverseGeocode:{maxItems:100,pushUp:!1,fieldSets:[],hideEmpties:!1,afterRetrieveHideResultsList:!0,containers:[],retrieveFields:"standard",postcodeFirst:!0,hideForCountries:[],showForCountries:["GBR"],linkedControl:"typeahead",hideOnDesktop:!1,buttonContainer:null}};function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function r(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function d(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=jQuery,p=r((function t(e,i){var o=this;if(n(this,t),d(this,"countryCodeMap",{AF:"AFG",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BR:"BRA",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",SZ:"SWZ",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"}),d(this,"setupParams",(function(t){var e={format:"json"};if(o.options.serial&&o.options.password)e.serial=o.options.serial,e.password=o.options.password;else{if(!o.options.token||!o.options.id)throw"You must either supply password and serial, or token and id";e.token=o.options.token,e.id=o.options.id}e.intf="jqu011103",o.options.platformVersion&&(e.intp=o.options.platformVersion),o.options.defaultCountry&&(e.countryiso=o.options.defaultCountry),o.options.country.defaultCountry&&(e.countryiso=o.options.country.defaultCountry),o.$container||(o.$container=h(document));var n=o.$container.find(h('[data-afd-control="country"]'));if(n.length>0&&"country"!==o.$element.attr("data-afd-control")&&(e.countryiso="SELECT"===n.prop("tagName")?n.val():o.iso2ToIso3(n.countrySelect("getSelectedCountryData").iso2.toUpperCase())),o.$afdCountryCodeField&&void 0!==o.$afdCountryCodeField&&o.$afdCountryCodeField.length>0&&(e.countryiso=o.$afdCountryCodeField.val()),o.options.country.customCountryControl){var i=0===h(o.options.typeahead.containers.toString()).length?h(o.options.country.customCountryControl):o.$element.closest(o.options.typeahead.containers.toString()).find(o.options.country.customCountryControl);if(o.options.country.customCountryConverter){if("function"!=typeof o.options.country.customCountryConverter)throw"customCountryConverter Must be a function";e.countryiso=o.options.country.customCountryConverter(i.val())}else e.countryiso=i.val()}try{return{method:"GET",url:o.options.pceUrl,error:function(t,e,n){console.error(t),console.error(e),console.error(n),h(document).trigger("afd:pceError",t)},data:h.extend(!0,{},e,t),callback:void 0!==o.requestCallback?{done:o.requestCallback}:null,beforeSend:void 0!==o.beforeSend?o.beforeSend:null}}catch(t){console.error("Error setting up request"),console.error(t)}})),d(this,"eventHandler",(function(t,e,n){t.off(e+".afd"+o.controlID).on(e+".afd"+o.controlID,n)})),d(this,"handlePCEError",(function(t,e){"1"!==t&&console.error(e)})),d(this,"iso2ToIso3",(function(t){return o.countryCodeMap[t.toUpperCase()]||null})),d(this,"iso3ToIso2",(function(t){return t&&Object.keys(o.countryCodeMap).find((function(e){return o.countryCodeMap[e]===t.toUpperCase()}))||null})),this.$element=e,this.element=e.get()[0],void 0===this.$element.data("afd-control-id")&&this.$element.data("afd-control-id",Math.random().toString().slice(2,11)),this.controlID=this.$element.data("afd-control-id"),void 0!==e.data("afd-additional-options")){var a=window[e.data("afd-additional-options")];a=void 0===a?e.data("afdAdditionalOptions"):a,this.options=h.extend(!0,{},i,a)}else this.options=i}));function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m=Object.prototype.hasOwnProperty;var C=function(t,e){return null!=t&&m.call(t,e)},b=Array.isArray,w="object"==typeof g&&g&&g.Object===Object&&g,k=w,S="object"==typeof self&&self&&self.Object===Object&&self,I=k||S||Function("return this")(),L=I.Symbol,x=L,_=Object.prototype,M=_.hasOwnProperty,A=_.toString,E=x?x.toStringTag:void 0;var F=function(t){var e=M.call(t,E),n=t[E];try{t[E]=void 0;var i=!0}catch(t){}var o=A.call(t);return i&&(e?t[E]=n:delete t[E]),o},O=Object.prototype.toString;var z=F,R=function(t){return O.call(t)},T=L?L.toStringTag:void 0;var B=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":T&&T in Object(t)?z(t):R(t)};var D=function(t){return null!=t&&"object"==typeof t},P=B,V=D;var N=function(t){return"symbol"==typeof t||V(t)&&"[object Symbol]"==P(t)},j=b,G=N,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/;var H=function(t,e){if(j(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!G(t))||(q.test(t)||!U.test(t)||null!=e&&t in Object(e))};var K=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},W=B,Z=K;var Q,J=function(t){if(!Z(t))return!1;var e=W(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Y=I["__core-js_shared__"],X=(Q=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"";var tt=function(t){return!!X&&X in t},et=Function.prototype.toString;var nt=function(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""},it=J,ot=tt,at=K,rt=nt,st=/^\[object .+?Constructor\]$/,lt=Function.prototype,ut=Object.prototype,ct=lt.toString,dt=ut.hasOwnProperty,ht=RegExp("^"+ct.call(dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var pt=function(t){return!(!at(t)||ot(t))&&(it(t)?ht:st).test(rt(t))},ft=function(t,e){return null==t?void 0:t[e]};var vt=function(t,e){var n=ft(t,e);return pt(n)?n:void 0},gt=vt(Object,"create"),yt=gt;var mt=function(){this.__data__=yt?yt(null):{},this.size=0};var Ct=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt=gt,wt=Object.prototype.hasOwnProperty;var kt=function(t){var e=this.__data__;if(bt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return wt.call(e,t)?e[t]:void 0},St=gt,It=Object.prototype.hasOwnProperty;var Lt=gt;var xt=mt,_t=Ct,Mt=kt,At=function(t){var e=this.__data__;return St?void 0!==e[t]:It.call(e,t)},Et=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Lt&&void 0===e?"__lodash_hash_undefined__":e,this};function Ft(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ft.prototype.clear=xt,Ft.prototype.delete=_t,Ft.prototype.get=Mt,Ft.prototype.has=At,Ft.prototype.set=Et;var Ot=Ft;var zt=function(){this.__data__=[],this.size=0};var $t=function(t,e){return t===e||t!=t&&e!=e},Rt=$t;var Tt=function(t,e){for(var n=t.length;n--;)if(Rt(t[n][0],e))return n;return-1},Bt=Tt,Dt=Array.prototype.splice;var Pt=Tt;var Vt=Tt;var Nt=Tt;var jt=zt,Gt=function(t){var e=this.__data__,n=Bt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Dt.call(e,n,1),--this.size,!0)},Ut=function(t){var e=this.__data__,n=Pt(e,t);return n<0?void 0:e[n][1]},qt=function(t){return Vt(this.__data__,t)>-1},Ht=function(t,e){var n=this.__data__,i=Nt(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function Kt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Kt.prototype.clear=jt,Kt.prototype.delete=Gt,Kt.prototype.get=Ut,Kt.prototype.has=qt,Kt.prototype.set=Ht;var Wt=Kt,Zt=vt(I,"Map"),Qt=Ot,Jt=Wt,Yt=Zt;var Xt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var te=function(t,e){var n=t.__data__;return Xt(e)?n["string"==typeof e?"string":"hash"]:n.map},ee=te;var ne=te;var ie=te;var oe=te;var ae=function(){this.size=0,this.__data__={hash:new Qt,map:new(Yt||Jt),string:new Qt}},re=function(t){var e=ee(this,t).delete(t);return this.size-=e?1:0,e},se=function(t){return ne(this,t).get(t)},le=function(t){return ie(this,t).has(t)},ue=function(t,e){var n=oe(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function ce(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ce.prototype.clear=ae,ce.prototype.delete=re,ce.prototype.get=se,ce.prototype.has=le,ce.prototype.set=ue;var de=ce,he=de;function pe(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var r=t.apply(this,i);return n.cache=a.set(o,r)||a,r};return n.cache=new(pe.Cache||he),n}pe.Cache=he;var fe=pe;var ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ge=/\\(\\)?/g,ye=function(t){var e=fe(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ve,(function(t,n,i,o){e.push(i?o.replace(ge,"$1"):n||t)})),e}));var me=function(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o},Ce=b,be=N,we=L?L.prototype:void 0,ke=we?we.toString:void 0;var Se=function t(e){if("string"==typeof e)return e;if(Ce(e))return me(e,t)+"";if(be(e))return ke?ke.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},Ie=Se;var Le=b,xe=H,_e=ye,Me=function(t){return null==t?"":Ie(t)};var Ae=function(t,e){return Le(t)?t:xe(t,e)?[t]:_e(Me(t))},Ee=B,Fe=D;var Oe=function(t){return Fe(t)&&"[object Arguments]"==Ee(t)},ze=D,$e=Object.prototype,Re=$e.hasOwnProperty,Te=$e.propertyIsEnumerable,Be=Oe(function(){return arguments}())?Oe:function(t){return ze(t)&&Re.call(t,"callee")&&!Te.call(t,"callee")},De=Be,Pe=/^(?:0|[1-9]\d*)$/;var Ve=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Pe.test(t))&&t>-1&&t%1==0&&t<e};var Ne=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},je=N;var Ge=function(t){if("string"==typeof t||je(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Ue=Ae,qe=De,He=b,Ke=Ve,We=Ne,Ze=Ge;var Qe=function(t,e,n){for(var i=-1,o=(e=Ue(e,t)).length,a=!1;++i<o;){var r=Ze(e[i]);if(!(a=null!=t&&n(t,r)))break;t=t[r]}return a||++i!=o?a:!!(o=null==t?0:t.length)&&We(o)&&Ke(r,o)&&(He(t)||qe(t))},Je=C,Ye=Qe;var Xe=y((function(t,e){return null!=t&&Ye(t,e,Je)})),tn=Ae,en=Ge;var nn=function(t,e){for(var n=0,i=(e=tn(e,t)).length;null!=t&&n<i;)t=t[en(e[n++])];return n&&n==i?t:void 0},on=nn;var an=function(t,e,n){var i=null==t?void 0:on(t,e);return void 0===i?n:i},rn=y(an);function sn(t,e,n){return e=l(e),s(t,ln()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function ln(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ln=function(){return!!t})()}
/**
     *
     *
     * @author Jerry Bendy <jerry@icewingcc.com>
     * @licence MIT
     *
     */
!function(t){var e,n=t.URLSearchParams&&t.URLSearchParams.prototype.get?t.URLSearchParams:null,i=n&&"a=1"===new n({a:1}).toString(),o=n&&"+"===new n("s=%2B").get("s"),a="__URLSearchParams__",r=!n||((e=new n).append("s"," &"),"s=+%26"===e.toString()),s=d.prototype,l=!(!t.Symbol||!t.Symbol.iterator);if(!(n&&i&&o&&r)){s.append=function(t,e){g(this[a],t,e)},s.delete=function(t){delete this[a][t]},s.get=function(t){var e=this[a];return t in e?e[t][0]:null},s.getAll=function(t){var e=this[a];return t in e?e[t].slice(0):[]},s.has=function(t){return t in this[a]},s.set=function(t,e){this[a][t]=[""+e]},s.toString=function(){var t,e,n,i,o=this[a],r=[];for(e in o)for(n=h(e),t=0,i=o[e];t<i.length;t++)r.push(n+"="+h(i[t]));return r.join("&")};var u=!!o&&n&&!i&&t.Proxy;Object.defineProperty(t,"URLSearchParams",{value:u?new Proxy(n,{construct:function(t,e){return new t(new d(e[0]).toString())}}):d});var c=t.URLSearchParams.prototype;c.polyfill=!0,c.forEach=c.forEach||function(t,e){var n=v(this.toString());Object.getOwnPropertyNames(n).forEach((function(i){n[i].forEach((function(n){t.call(e,n,i,this)}),this)}),this)},c.sort=c.sort||function(){var t,e,n,i=v(this.toString()),o=[];for(t in i)o.push(t);for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++){var a=o[e],r=i[a];for(n=0;n<r.length;n++)this.append(a,r[n])}},c.keys=c.keys||function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},c.values=c.values||function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},c.entries=c.entries||function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},l&&(c[t.Symbol.iterator]=c[t.Symbol.iterator]||c.entries)}function d(t){((t=t||"")instanceof URLSearchParams||t instanceof d)&&(t=t.toString()),this[a]=v(t)}function h(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'\(\)~]|%20|%00/g,(function(t){return e[t]}))}function p(t){return t.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(t){return decodeURIComponent(t)}))}function f(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return l&&(n[t.Symbol.iterator]=function(){return n}),n}function v(t){var e={};if("object"==typeof t)if(y(t))for(var n=0;n<t.length;n++){var i=t[n];if(!y(i)||2!==i.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");g(e,i[0],i[1])}else for(var o in t)t.hasOwnProperty(o)&&g(e,o,t[o]);else{0===t.indexOf("?")&&(t=t.slice(1));for(var a=t.split("&"),r=0;r<a.length;r++){var s=a[r],l=s.indexOf("=");-1<l?g(e,p(s.slice(0,l)),p(s.slice(l+1))):s&&g(e,p(s),"")}}return e}function g(t,e,n){var i="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);e in t?t[e].push(i):t[e]=[i]}function y(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}}(void 0!==g?g:"undefined"!=typeof window?window:g);var un=jQuery,cn=function(t){return function(t){function e(t,i){var o;return n(this,e),d(o=sn(this,e,[t,i]),"initRequestSequence",(function(){o.seq=0,o.lastSeq=0})),d(o,"beforeSend",(function(t,e){var n=new URLSearchParams(e.url);t.lookup=n.get("lookup"),t.seq=o.seq,o.seq++,un(document).trigger("afd:pceLookupStarted",[t,n.get("lookup")])})),d(o,"requestCallback",(function(t,e,n){o.w3w=void 0!==t.W3W||void 0!==t.Suggestion&&"What3Words"===t.Suggestion,un(document).trigger("afd:pceLookupComplete",[t,n,n.lookup])})),d(o,"getUniqueID",(function(){return Math.floor(9e4*Math.random())+1e4})),d(o,"setFields",(function(){"init"===o.options[o.controlType].w3wFocusMode&&navigator.geolocation.getCurrentPosition(o.onGeolocationSuccess,o.onGeolocationError);var t=o.options[o.controlType].linkedControl?o.options[o.controlType].linkedControl:o.controlType;o.containers=o.options[t].containers.toString();var e=o.$element.closest(o.containers).length>0?o.$element.closest(o.containers):un(document);o.$container=e,o.$typeaheadFieldandLabel=rn(o.options,t+".containerOnlyContainsControl",!1)?e.find(".afd-typeahead-container"):e.find(".afd-typeahead-container > label, .afd-typeahead-field"),o.$typeAheadInput=e.find(".afd-typeahead-container input"),o.$resultFields=e.find("[data-afd-result]"),o.$typeaheadContainer=e.find(".afd-typeahead-container"),o.$errorField=e.find(".afd-"+t+"-error"),o.$manualInputButton=Xe(o.options,t+".manualInputButtonIdentifier")?e.find(o.options[t].manualInputButtonIdentifier):e.find(".afd-manual-input-button"),o.$manualInputSearchButton=Xe(o.options,t+".manualInputSearchButtonIdentifier")?e.find(o.options[t].manualInputSearchButtonIdentifier):e.find(".afd-manual-input-search-button"),o.$searchAgainButton=Xe(o.options,t+".searchAgainButtonIdentifier")?e.find(o.options[t].searchAgainButtonIdentifier):e.find(".afd-search-again"),o.$fieldSets=e.find(o.options[t].fieldSets.toString());var n=void 0!==o.originalControlType?o.originalControlType:t;if(o.$afdCountryField=e.find('[data-afd-control="country"]').length>0?e.find('[data-afd-control="country"]').off("change.afd"+n).on("change.afd"+n,o.onAfdCountryChange):null,o.$customCountryField=e.find(o.options.country.customCountryControl).length>0?e.find(o.options.country.customCountryControl).off("change.afd"+n).on("change.afd"+n,o.onCustomCountryChange):null,o.multiForms=un(o.containers).length>0,o.$customCountryField&&0===o.$customCountryField.length)throw"Custom country field selector `"+o.options.country.customCountryControl+"` supplied, but no matching control found.";o.parentSelector=o.options[t].parentClass?"."===o.options[t].parentClass.charAt(0)?o.options[t].parentClass:"."+o.options[t].parentClass:null})),d(o,"initFields",(function(){var t=o.controlType;o.$typeaheadFieldandLabel.show();var e=o.options[t].fieldSets,n=o.getInitialCountry();if(o.options[t].beforeHideResults){if(o.$manualInputSearchButton.hide(),o.hideResultFields(n),e.length>0)for(var i=0;i<e.length;i++)un(e[i]).hide()}else if(o.showResultFields(),e.length>0)for(var a=0;a<e.length;a++)un(e[a]).show()})),d(o,"addressLookup",(function(t){var e=o.controlType,n={data:"address",task:"fastfindv4",fields:o.options[e].postcodeFirst?"list":"fflist",uniqueid:o.uniqueID,lookup:t,allpc:"1"};(o.options[e].listEnv||"USA"===o.country&&!o.options[e].postcodeFirst)&&(n.listEnv="1"),o.position&&(n.longitude=o.position.coords.longitude,n.latitude=o.position.coords.latitude),o.options[e].bankLookup&&(n.data="bank",n.task="fastfind",n.clearing="all"),un.extend(n,o.options[e].extraPCESearchParams);var i=o.setupParams(n);return 1===o.options.afdc&&(i.data.afdc=1),un.ajax(i)})),d(o,"addressRetrieve",(function(t){var e={key:t,data:"address",task:"retrieve",fields:o.options[o.controlType].retrieveFields};o.options[o.controlType].flatSubBuild&&(e.flatSubBuild="1"),o.options[o.controlType].bankLookup&&(e.data="bank",e.clearing="all",e.task="retrieve",e.fields="standard"),o.options[o.controlType].listEnv&&(e.listEnv="1"),un.extend(e,o.options[o.controlType].extraPCERetrieveParams);var n=o.setupParams(e);return 1===o.options.afdc&&(n.data.afdc=1),un.ajax(n)})),d(o,"reverseGeocodeLookup",(function(t){var e=o.controlType,n=o.setupParams({data:"address",task:"nearest",fields:o.options[e].postcodeFirst?"list":"fflist",uniqueid:o.uniqueID,longitude:t.longitude,latitude:t.latitude,allpc:"1"});return 1===o.options.afdc&&(n.data.afdc=1),un.ajax(n)})),d(o,"handleAddressRetrieve",(function(t,e){var n=o.controlType;if(void 0!==t.Item){var i=v(t.Item,1);o.result=i[0],un(document).trigger("afd:pceRetrieveComplete",[o.result,e]),o.$element.trigger("afd:pceRetrieveComplete",[o.result,e]),o.$manualInputButton.hide(),o.options[n].afterClearTypeahead&&o.$typeAheadInput.val(""),o.options[n].afterHideTypeahead&&o.$typeaheadFieldandLabel.hide(),o.options[n].afterHideButtonAndFields&&(o.$container.find('[data-afd-control="reverseGeocodeButton"]').hide(),o.$container.find('[data-afd-control="lookupButton"]').hide(),o.$container.find('[data-afd-control="lookupField"]').hide()),o.options[n].searchAgain&&o.$searchAgainButton.show(),o.$fieldSets.show(),o.$resultFields.length<1||(o.$resultFields.each(o.populateResult),o.$typeAheadInput.blur())}})),d(o,"populateResult",(function(t){var e=un(o.$resultFields[t]),n=e.data("afd-result");if(e.val(""),"w3w"===n.toLowerCase())return e.val(o.result.Key.split("///")[1]),e.closest(o.parentSelector).show(),void e.show();var i=o.options[o.controlType].linkedControl?o.options[o.controlType].linkedControl:o.controlType;if(["Region","State","AbbreviatedOptionalCounty","AbbreviatedPostalCounty","AdministrativeCounty","PostalCounty","TraditionalCounty"].indexOf(n)>-1&&o.options[i].regionMap&&e.is("select")){var a=o.options[i].regionAttribute;o.result[n];var r=o.options[i].regionMap(o.result),s=e.find("["+a+'="'+r+'"]').val();return e.val(s),e.closest(o.parentSelector).show(),void e.show()}o.options[i].pushUp?Array.isArray(o.options[i].pushUp)?o.handlePushUp(o.options[i].pushUp,n,e):o.handlePushUp(["Property","Street","Locality"],n,e):o.setResultValue(e,n),!o.options[i].hideEmpties||e.val()&&e.val().length>0||e.is("[required]")||e.is(o.options[i].requiredSelector)||e.closest(o.parentSelector).is(o.options[i].requiredSelector)?o.parentSelector?e.closest(o.parentSelector).show():e.show():o.parentSelector?e.closest(o.parentSelector).hide():e.hide(),o.$fieldSets.show(),e.triggerHandler("keyup"),e.triggerHandler("change"),un(document).trigger("afd:populateResultsComplete")})),d(o,"setResultValue",(function(t,e){t.val(""),e.indexOf(",")>-1?e.split(",").forEach((function(e,n){0!==n&&o.result[e].length>0&&t.val().length>0&&t.val(t.val()+", "),t.val(t.val()+o.result[e])})):t.val(o.result[e]),t.val()})),d(o,"populateResultsList",(function(){if(1!==o.results.length){var t="SELECT"===o.$resultList.prop("tagName")?"option":"li";o.$resultList.empty(),"option"===t&&void 0===o.$resultList.attr("multiple")&&o.$resultList.append('<option value="null">'+o.options.lookup.selectAddressText+"</option>"),0===o.results.length&&o.$resultList.append("<"+t+' value="null">'+o.options.lookup.noResultsText+"</"+t+">");for(var e=0;e<o.results.length;e++){var n=o.results[e];o.$resultList.append("<"+t+' value="'+n.Key+'">'+n.List+"</"+t+">")}"li"===t&&(o.$resultListResults=o.$resultList.children("li"),o.eventHandler(o.$resultListResults,"click",o.onResultListItemClick)),o.$resultList.show().closest(".afd-form-control").show(),o.$resultList.focus()}else o.selectResult(o.results[0].Key)})),d(o,"onResultListItemClick",(function(t){o.selectResult(un(t.target).attr("value"))})),d(o,"onKeyDownResult",(function(t){var e=t.keyCode?t.keyCode:t.which;13===e&&t.preventDefault(),[38,40].indexOf(e)>-1&&(o.blockChange=!0)})),d(o,"onKeyUpResult",(function(t){13===(t.keyCode?t.keyCode:t.which)&&o.selectResult(t.target.value)})),d(o,"onChangeResult",(function(t){o.blockChange||o.selectResult(t.target.value),o.blockChange=!1})),d(o,"selectResult",(function(t){(o.options[o.controlType].afterRetrieveHideResultsList||o.isReverseGeocode)&&o.hideResultsElement(),"null"===t&&o.onAfdManualInputButtonClick(),o.addressRetrieve(t).then((function(t,e,n){o.handleAddressRetrieve(t,n)})).fail((function(t){throw t}))})),d(o,"hideResultsElement",(function(){o.$resultList.closest(".afd-form-control").hide()})),d(o,"hideResultFields",(function(t){var e=o.controlType;(!(o.options[e].showForCountries.length>0||o.options[e].hideForCountries.length>0)||null===t||o.options[e].showForCountries.length>0&&o.options[e].showForCountries.indexOf(t)>-1||o.options[e].length>0&&-1===o.options[e].hideForCountries.indexOf(t))&&(o.parentSelector?o.$resultFields.closest(o.parentSelector).hide():o.$resultFields.hide(),o.$fieldSets.hide(),rn(o.options,e+".postcodeIsLookup",!1)&&(o.parentSelector?un('[data-afd-result="Postcode"]').closest(o.parentSelector).show():un('[data-afd-result="Postcode"]').show()))})),d(o,"showResultFields",(function(){o.parentSelector?o.$resultFields.closest(o.parentSelector).show():o.$resultFields.show(),o.$fieldSets.show()})),d(o,"fieldEmpty",(function(t){return void 0!==o.result[t]&&0===o.result[t].length})),d(o,"onAfdSearchAgainButtonClick",(function(){var t=o.controlType;o.$resultFields.val(""),o.$searchAgainButton.hide(),o.$container.find('[data-afd-control="reverseGeocodeButton"]').show(),o.isReverseGeocode?o.$button.show():"typeahead"===t?o.$typeaheadFieldandLabel.show():"lookup"===t&&(o.$lookupButton.show(),o.$lookupField.show().focus().val(""),o.$resultList.empty()),void 0!==o.$button&&o.$button.show(),o.options[t].beforeHideResults?(o.$manualInputButton.show(),o.hideResultFields(o.country),o.$fieldSets.hide()):(o.$manualInputButton.hide(),o.showResultFields(),o.$fieldSets.show())})),d(o,"onAfdManualInputButtonClick",(function(){var t=o.controlType;if(o.$manualInputButton.hide(),o.$manualInputSearchButton.show(),"typeahead"===t?o.$typeaheadFieldandLabel.hide():(o.$lookupButton.hide(),o.$lookupField.hide(),o.hideResultsElement()),o.showResultFields(),o.options[t].fieldSets.length>0)for(var e=0;e<o.options[t].fieldSets.length;e++)un(o.options[t].fieldSets[e]).show();un(document).trigger("afd:manualInputButtonClicked",[o.$el,o.$container])})),d(o,"onAfdManualInputSearchButtonClick",(function(){var t=o.controlType;"typeahead"===t?o.$typeaheadFieldandLabel.show():"lookup"===t&&(o.$lookupButton.show(),o.$lookupField.show()),o.$manualInputButton.show(),o.$manualInputSearchButton.hide(),o.hideResultFields(o.country),o.$fieldSets.hide()})),d(o,"onCustomCountryChange",(function(t){var e=t.target.value;if(o.options.country.customCountryConverter){if("function"!=typeof o.options.country.customCountryConverter)throw"customCountryConverter Must be a function";e=o.options.country.customCountryConverter(e)}o.$element.trigger("afd:customCountryChanged",[e]),o.onCountryChanged(e)})),d(o,"onAfdCountryChange",(function(t){var e;e="SELECT"===o.$afdCountryField[0].tagName?o.$afdCountryField.val():o.$afdCountryField.countrySelect("getSelectedCountryData").iso2,o.$element.trigger("afd:afdCountryChanged",[e]),o.onCountryChanged(e)})),d(o,"onCountryChanged",(function(t){o.$resultFields.val(""),o.$typeAheadInput&&o.$typeAheadInput.val(""),o.$lookupField&&o.$lookupField.val(""),o.$resultList&&o.$resultList.hide(),o.country=t,o.handleHideShowControls(t),o.$element.trigger("afd:countryChanged",[t]),void 0!==o.onCountryChangedLocal&&o.onCountryChangedLocal(t)})),d(o,"handleHideShowControls",(function(t){var e,n=o.controlType;o.$searchAgainButton.hide(),o.$manualInputSearchButton.hide();var i=null;if("typeahead"===n?(e=o.$container.find('[data-afd-control="lookupButton"]'),i="lookup"):"lookup"===n&&(e=o.$container.find('[data-afd-control="typeahead"]'),i="typeahead"),e.length>0&&o.options[i].showForCountries.indexOf(t)>-1)o.hideControls(n);else{if(o.options[n].hideForCountries.length>0&&(o.options[n].hideForCountries.indexOf(t)>-1?o.hideControls(n):o.showControls(n)),o.options[n].showForCountries.length>0)if(o.options[n].showForCountries.indexOf(t)>-1)if(o.showControls(n),o.options[n].beforeHideResults){if(o.$manualInputButton.show(),o.hideResultFields(t),o.options[n].notEmptyShowResults)0===o.$container.find("[data-afd-result]:empty").filter((function(){return 0!==un.trim(un(this).val()).length})).length||(o.showResultFields(),o.$manualInputButton.hide())}else o.$manualInputButton.hide(),o.showResultFields(),o.$fieldSets.show();else o.hideControls(n),o.showResultFields();0===o.options[n].hideForCountries.length&&0===o.options[n].showForCountries.length&&o.showControls(n)}})),d(o,"showControls",(function(t){o.isReverseGeocode?o.$button.show():"lookup"===t?(o.$lookupButton.closest(".afd-form-control").show(),o.$lookupField.closest(".afd-form-control").show()):o.$typeaheadFieldandLabel.show(),o.options[t].manualInputButton&&o.$manualInputButton.show()})),d(o,"hideControls",(function(t){"lookup"===t?(o.$lookupButton.closest(".afd-form-control").hide(),o.$lookupField.closest(".afd-form-control").hide(),o.$resultList.closest(".afd-form-control").hide()):o.$typeaheadFieldandLabel.hide(),o.$manualInputButton.hide()})),d(o,"getInitialCountry",(function(){var t=null;if(o.$customCountryField){if(t=o.$customCountryField.val(),o.options.country.customCountryConverter){if("function"!=typeof o.options.country.customCountryConverter)throw"customCountryConverter Must be a function";t=o.options.country.customCountryConverter(t)}o.handleHideShowControls(t)}else o.options.country.defaultCountry?(t=o.options.country.defaultCountry,o.handleHideShowControls(o.options.country.defaultCountry)):o.options.defaultCountry&&(t=o.options.defaultCountry,o.handleHideShowControls(o.options.defaultCountry));return t})),d(o,"handlePushUp",(function(t,e,n){var i=t.indexOf(e);if(-1!==i){for(var a=[],r=0;r<t.length;r++)if(t[r].indexOf(",")>-1){for(var s=e.split(","),l=0;l<s.length;l++)o.result[s[l]].length;a.push(t[r])}else o.result[t[r]].length>0&&a.push(t[r]);void 0!==a[i]&&o.setResultValue(n,a[i])}else o.setResultValue(n,e)})),d(o,"onGeolocationSuccess",(function(t){o.position=t,void 0!==o.typeaheadOptions&&(o.typeaheadOptions.source.lookup.ajax.data.longitude=t.coords.longitude,o.typeaheadOptions.source.lookup.ajax.data.latitude=t.coords.latitude,o.$element.typeahead(o.typeaheadOptions))})),d(o,"onGeolocationError",(function(t){o.position=null,console.log(t)})),o.isReverseGeocode=!1,o}return c(e,t),r(e)}(t)},dn=vt(I,"DataView"),hn=Zt,pn=vt(I,"Promise"),fn=vt(I,"Set"),vn=vt(I,"WeakMap"),gn=B,yn=nt,mn="[object Map]",Cn="[object Promise]",bn="[object Set]",wn="[object WeakMap]",kn="[object DataView]",Sn=yn(dn),In=yn(hn),Ln=yn(pn),xn=yn(fn),_n=yn(vn),Mn=gn;(dn&&Mn(new dn(new ArrayBuffer(1)))!=kn||hn&&Mn(new hn)!=mn||pn&&Mn(pn.resolve())!=Cn||fn&&Mn(new fn)!=bn||vn&&Mn(new vn)!=wn)&&(Mn=function(t){var e=gn(t),n="[object Object]"==e?t.constructor:void 0,i=n?yn(n):"";if(i)switch(i){case Sn:return kn;case In:return mn;case Ln:return Cn;case xn:return bn;case _n:return wn}return e});var An=Mn;var En=function(t){return function(e){return t(e)}},Fn={exports:{}};!function(t,e){var n=w,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&n.process,r=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=r}(Fn,Fn.exports);var On=Fn.exports;function zn(t,e,n){return e=l(e),s(t,$n()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function $n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($n=function(){return!!t})()}On&&On.isSet;var Rn=jQuery,Tn=function(t){function e(t,i,o,a){var r;return n(this,e),d(r=zn(this,e,[t,a]),"onClickButton",(function(t){t.preventDefault(),r.handleLookup()})),d(r,"onKeydownField",(function(){r.hideResultsElement()})),d(r,"onKeyupField",(function(t){if(r.$lookupButton.attr("disabled",!t.target.value.length),13===(t.keyCode?t.keyCode:t.which))t.preventDefault(),r.handleLookup();else if(r.options.lookup.prefetch){var e=r.addressLookup(t.target.value);r.preFetchRequests.push(e),e.then((function(e,n,i){i.lookup===t.target.value&&(r.results=void 0!==e.Item?e.Item:[],Rn(document).trigger("afd:pcePrefetchComplete",[e,i,i.lookup]),r.$element.trigger("afd:pcePrefetchComplete",[e,i,i.lookup]))}))}})),d(r,"hideResultsElement",(function(){r.$resultList.closest(".afd-form-control").hide()})),d(r,"initFieldsLookup",(function(){r.options.lookup.beforeHideResults&&(r.hideResultFields(),r.options.lookup.postcodeIsLookup&&(r.options.lookup.parentClass?Rn('[data-afd-result="Postcode"]').closest("."+r.options.lookup.parentClass).show():Rn('[data-afd-result="Postcode"]').show()))})),d(r,"handleLookup",(function(){var t=r.options.postcodeIsLookup?Rn('[data-afd-result="Postcode"]').val():Rn('[data-afd-control="lookupField"]').val();r.options.lookup.prefetch?(0===r.preFetchRequests.length&&r.$lookupField.trigger("keyup"),Promise.all(r.preFetchRequests).then((function(){r.populateResultsList(),Rn(document).trigger("afd:lookupComplete",[r.results]),r.$element.trigger("afd:lookupComplete",[r.results])}))):r.addressLookup(t).then((function(t){r.handlePCEError(t.Result,t.Other),r.results=void 0!==t.Item?t.Item:[],r.populateResultsList(),Rn(document).trigger("afd:lookupComplete",[r.results]),r.$element.trigger("afd:lookupComplete",[r.results])}))})),r.$lookupButton=t,r.$element=t,r.$lookupField=i,r.$resultList=o,r.controlType="lookup",r.setFields(),r.preFetchRequests=[],r.results=[],r.blockChange=!1,r.uniqueID=r.getUniqueID(),r}return c(e,t),r(e,[{key:"init",value:function(){this.hideResultsElement(this.$resultList,this.options);var t=this.eventHandler;t(this.$lookupButton,"click",this.onClickButton),t(this.$lookupField,"keydown",this.onKeydownField),t(this.$lookupField,"keyup",this.onKeyupField),t(this.$resultList,"keydown",this.onKeyDownResult),t(this.$resultList,"keyup",this.onKeyUpResult),t(this.$resultList,"change",this.onChangeResult),t(this.$searchAgainButton,"click",this.onAfdSearchAgainButtonClick),this.options.lookup.manualInputButton&&t(this.$manualInputButton,"click",this.onAfdManualInputButtonClick),this.options.lookup.manualInputButton&&t(this.$manualInputSearchButton,"click",this.onAfdManualInputSearchButtonClick),this.initFields(),this.initFieldsLookup(),this.getInitialCountry()}}])}(cn(p));function Bn(t,n){var i={};n?i=n:"undefined"!=typeof afdOptions&&(i=afdOptions),i=$.extend(!0,{},e,i),$(this).each((function(t,e){var n=$(e),o=0===i.lookup.containers.length?$(document):n.closest(i.lookup.containers.toString());if(o.find('[data-afd-control="lookupButton"]').length>1)throw"More than one instance of `lookupButton` detected.  If these are in separate containers please define the containers in `afdOptions.lookup.containers";if(!n.is("a, button"))throw"<"+n.prop("tagName").toLowerCase()+"> is not a valid tag for `lookupButton`, use either <a> or <button>";var a="";if(i.lookup.postcodeIsLookup){if(a=o.find('[data-afd-result="Postcode"]'),0===o.find('[data-afd-result="Postcode"]').length)throw"Could not find an instance of `Postcode` field.  If afdOptions.lookup.containers is set, have you included the lookup field inside the supplied container?";if(!a.is("input"))throw"<"+n.prop("tagName").toLowerCase()+"> is not a valid tag for `Postcode`, use <input>"}else{if(a=o.find('[data-afd-control="lookupField"]'),0===o.find('[data-afd-control="lookupField"]').length)throw"Could not find an instance of `lookupField`.  If afdOptions.lookup.containers is set, have you included the lookup field inside the supplied container?";if(!a.is("input"))throw"<"+n.prop("tagName").toLowerCase()+"> is not a valid tag for `lookupField`, use <input>"}var r=o.find('[data-afd-control="lookupResultsList"]'),s=o.find('[data-afd-control="lookupResultsList"]').length;if(0===s)throw"Could not find an instance of `lookupResultsList`.  If afdOptions.lookup.containers is set, have you included the results list inside the supplied container?";if(s>1)throw"More than one instance of `lookupResultsList` found";if(!r.is("select, ul"))throw"<"+n.prop("tagName").toLowerCase()+"> is not a valid tag for `lookupResultsList`, use <select> or <ul>";var l=new Tn(n,a,r,i);$(document).off("afd:init.afd").on("afd:init.afd",(function(){l.init()})),l.init()}))}
/*!
     * jQuery Typeahead
     * Copyright (C) 2018 RunningCoder.org
     * Licensed under the MIT license
     *
     * @author Tom Bertrand
     * @version 2.10.6 (2018-7-30)
     * @link http://www.runningcoder.org/jquerytypeahead/
     */function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vn(t,e,n){return e=l(e),s(t,Nn()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function Nn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nn=function(){return!!t})()}!function(t){window.Typeahead={version:"2.10.6"};var e,n={input:null,minLength:2,maxLength:!1,maxItem:8,dynamic:!1,delay:300,order:null,offset:!1,hint:!1,accent:!1,highlight:!0,multiselect:null,group:!1,groupOrder:null,maxItemPerGroup:null,dropdownFilter:!1,dynamicFilter:null,backdrop:!1,backdropOnFocus:!1,cache:!1,ttl:36e5,compression:!1,searchOnFocus:!1,blurOnTab:!0,resultContainer:null,generateOnLoad:null,mustSelectItem:!1,href:null,display:["display"],template:null,templateValue:null,groupTemplate:null,correlativeTemplate:!1,emptyTemplate:!1,cancelButton:!0,loadingAnimation:!0,filter:!0,matcher:null,source:null,abortAjax:!0,callback:{onInit:null,onReady:null,onShowLayout:null,onHideLayout:null,onSearch:null,onResult:null,onLayoutBuiltBefore:null,onLayoutBuiltAfter:null,onNavigateBefore:null,onNavigateAfter:null,onEnter:null,onLeave:null,onClickBefore:null,onClickAfter:null,onDropdownFilter:null,onSendRequest:null,onReceiveRequest:null,onPopulateSource:null,onCacheSave:null,onSubmit:null,onCancel:null},selector:{container:"typeahead__container",result:"typeahead__result",list:"typeahead__list",group:"typeahead__group",item:"typeahead__item",empty:"typeahead__empty",display:"typeahead__display",query:"typeahead__query",filter:"typeahead__filter",filterButton:"typeahead__filter-button",dropdown:"typeahead__dropdown",dropdownItem:"typeahead__dropdown-item",labelContainer:"typeahead__label-container",label:"typeahead__label",button:"typeahead__button",backdrop:"typeahead__backdrop",hint:"typeahead__hint",cancelButton:"typeahead__cancel-button"},debug:!1},o={from:"ãàáäâẽèéëêìíïîõòóöôùúüûñç",to:"aaaaaeeeeeiiiiooooouuuunc"},a=~window.navigator.appVersion.indexOf("MSIE 9."),r=~window.navigator.appVersion.indexOf("MSIE 10"),s=!!~window.navigator.userAgent.indexOf("Trident")&&~window.navigator.userAgent.indexOf("rv:11"),l=0,u=function(t,e){this.rawQuery=t.val()||"",this.query=t.val()||"",this.selector=t[0].selector,this.deferred=null,this.tmpSource={},this.source={},this.dynamicGroups=[],this.hasDynamicGroups=!1,this.generatedGroupCount=0,this.groupBy="group",this.groups=[],this.searchGroups=[],this.generateGroups=[],this.requestGroups=[],this.result=[],this.tmpResult={},this.groupTemplate="",this.resultHtml=null,this.resultCount=0,this.resultCountPerGroup={},this.options=e,this.node=t,this.namespace="."+this.helper.slugify.call(this,this.selector)+".typeahead",this.isContentEditable=void 0!==this.node.attr("contenteditable")&&"false"!==this.node.attr("contenteditable"),this.container=null,this.resultContainer=null,this.item=null,this.items=null,this.comparedItems=null,this.xhr={},this.hintIndex=null,this.filters={dropdown:{},dynamic:{}},this.dropdownFilter={static:[],dynamic:[]},this.dropdownFilterAll=null,this.isDropdownEvent=!1,this.requests={},this.backdrop={},this.hint={},this.label={},this.hasDragged=!1,this.focusOnly=!1,this.displayEmptyTemplate,this._lastSeq=0,this.__construct()};u.prototype={_validateCacheMethod:function(t){var e;if(!0===t)t="localStorage";else if("string"==typeof t&&!~["localStorage","sessionStorage"].indexOf(t))return this.options.debug&&(d.log({node:this.selector,function:"extendOptions()",message:'Invalid options.cache, possible options are "localStorage" or "sessionStorage"'}),d.print()),!1;e=void 0!==window[t];try{window[t].setItem("typeahead","typeahead"),window[t].removeItem("typeahead")}catch(t){e=!1}return e&&t||!1},extendOptions:function(){if(this.options.cache=this._validateCacheMethod(this.options.cache),this.options.compression&&("object"===("undefined"==typeof LZString?"undefined":i(LZString))&&this.options.cache||(this.options.debug&&(d.log({node:this.selector,function:"extendOptions()",message:"Missing LZString Library or options.cache, no compression will occur."}),d.print()),this.options.compression=!1)),this.options.maxLength&&!isNaN(this.options.maxLength)||(this.options.maxLength=1/0),void 0!==this.options.maxItem&&~[0,!1].indexOf(this.options.maxItem)&&(this.options.maxItem=1/0),this.options.maxItemPerGroup&&!/^\d+$/.test(this.options.maxItemPerGroup)&&(this.options.maxItemPerGroup=null),this.options.display&&!Array.isArray(this.options.display)&&(this.options.display=[this.options.display]),this.options.multiselect&&(this.items=[],this.comparedItems=[],"string"==typeof this.options.multiselect.matchOn&&(this.options.multiselect.matchOn=[this.options.multiselect.matchOn])),this.options.group&&(Array.isArray(this.options.group)?this.options.debug&&(d.log({node:this.selector,function:"extendOptions()",message:"options.group must be a boolean|string|object as of 2.5.0"}),d.print()):("string"==typeof this.options.group?this.options.group={key:this.options.group}:"boolean"==typeof this.options.group&&(this.options.group={key:"group"}),this.options.group.key=this.options.group.key||"group")),this.options.highlight&&!~["any",!0].indexOf(this.options.highlight)&&(this.options.highlight=!1),this.options.dropdownFilter&&this.options.dropdownFilter instanceof Object){Array.isArray(this.options.dropdownFilter)||(this.options.dropdownFilter=[this.options.dropdownFilter]);for(var e=0,a=this.options.dropdownFilter.length;e<a;++e)this.dropdownFilter[this.options.dropdownFilter[e].value?"static":"dynamic"].push(this.options.dropdownFilter[e])}this.options.dynamicFilter&&!Array.isArray(this.options.dynamicFilter)&&(this.options.dynamicFilter=[this.options.dynamicFilter]),this.options.accent&&("object"===i(this.options.accent)?this.options.accent.from&&this.options.accent.to&&this.options.accent.from.length!==this.options.accent.to.length&&this.options.debug&&(d.log({node:this.selector,function:"extendOptions()",message:'Invalid "options.accent", from and to must be defined and same length.'}),d.print()):this.options.accent=o),this.options.groupTemplate&&(this.groupTemplate=this.options.groupTemplate),this.options.resultContainer&&("string"==typeof this.options.resultContainer&&(this.options.resultContainer=t(this.options.resultContainer)),this.options.resultContainer instanceof t&&this.options.resultContainer[0]?this.resultContainer=this.options.resultContainer:this.options.debug&&(d.log({node:this.selector,function:"extendOptions()",message:'Invalid jQuery selector or jQuery Object for "options.resultContainer".'}),d.print())),this.options.group&&this.options.group.key&&(this.groupBy=this.options.group.key),this.options.callback&&this.options.callback.onClick&&(this.options.callback.onClickBefore=this.options.callback.onClick,delete this.options.callback.onClick),this.options.callback&&this.options.callback.onNavigate&&(this.options.callback.onNavigateBefore=this.options.callback.onNavigate,delete this.options.callback.onNavigate),this.options=t.extend(!0,{},n,this.options)},unifySourceFormat:function(){var t,e,n;for(t in this.dynamicGroups=[],Array.isArray(this.options.source)&&(this.options.source={group:{data:this.options.source}}),"string"==typeof this.options.source&&(this.options.source={group:{ajax:{url:this.options.source}}}),this.options.source.ajax&&(this.options.source={group:{ajax:this.options.source.ajax}}),(this.options.source.url||this.options.source.data)&&(this.options.source={group:this.options.source}),this.options.source)if(this.options.source.hasOwnProperty(t)){if("string"==typeof(e=this.options.source[t])&&(e={ajax:{url:e}}),n=e.url||e.ajax,Array.isArray(n)?(e.ajax="string"==typeof n[0]?{url:n[0]}:n[0],e.ajax.path=e.ajax.path||n[1]||null,delete e.url):("object"===i(e.url)?e.ajax=e.url:"string"==typeof e.url&&(e.ajax={url:e.url}),delete e.url),!e.data&&!e.ajax)return this.options.debug&&(d.log({node:this.selector,function:"unifySourceFormat()",arguments:JSON.stringify(this.options.source),message:'Undefined "options.source.'+t+'.[data|ajax]" is Missing - Typeahead dropped'}),d.print()),!1;e.display&&!Array.isArray(e.display)&&(e.display=[e.display]),e.minLength="number"==typeof e.minLength?e.minLength:this.options.minLength,e.maxLength="number"==typeof e.maxLength?e.maxLength:this.options.maxLength,e.dynamic="boolean"==typeof e.dynamic||this.options.dynamic,e.minLength>e.maxLength&&(e.minLength=e.maxLength),this.options.source[t]=e,this.options.source[t].dynamic&&this.dynamicGroups.push(t),e.cache=void 0!==e.cache?this._validateCacheMethod(e.cache):this.options.cache,e.compression&&("object"===("undefined"==typeof LZString?"undefined":i(LZString))&&e.cache||(this.options.debug&&(d.log({node:this.selector,function:"unifySourceFormat()",message:"Missing LZString Library or group.cache, no compression will occur on group: "+t}),d.print()),e.compression=!1))}return this.hasDynamicGroups=this.options.dynamic||!!this.dynamicGroups.length,!0},init:function(){this._lastSeq=0,this.helper.executeCallback.call(this,this.options.callback.onInit,[this.node]),this.container=this.node.closest("."+this.options.selector.container),this.options.debug&&(d.log({node:this.selector,function:"init()",message:"OK - Typeahead activated on "+this.selector}),d.print())},delegateEvents:function(){var e=this,n=["focus"+this.namespace,"input"+this.namespace,"propertychange"+this.namespace,"keydown"+this.namespace,"keyup"+this.namespace,"search"+this.namespace,"generate"+this.namespace];t("html").on("touchmove",(function(){e.hasDragged=!0})).on("touchstart",(function(){e.hasDragged=!1})),this.node.closest("form").on("submit",(function(t){if(!e.options.mustSelectItem||!e.helper.isEmpty(e.item))return e.options.backdropOnFocus||e.hideLayout(),e.options.callback.onSubmit?e.helper.executeCallback.call(e,e.options.callback.onSubmit,[e.node,this,e.item||e.items,t]):void 0;t.preventDefault()})).on("reset",(function(){setTimeout((function(){e.node.trigger("input"+e.namespace),e.hideLayout()}))}));var i=!1;if(this.node.attr("placeholder")&&(r||s)){var o=!0;this.node.on("focusin focusout",(function(){o=!(this.value||!this.placeholder)})),this.node.on("input",(function(t){o&&(t.stopImmediatePropagation(),o=!1)}))}this.node.off(this.namespace).on(n.join(" "),(function(n,o){switch(n.type){case"generate":e.generateSource(Object.keys(e.options.source));break;case"focus":if(e.focusOnly){e.focusOnly=!1;break}e.options.backdropOnFocus&&(e.buildBackdropLayout(),e.showLayout()),e.options.searchOnFocus&&!e.item&&(e.deferred=t.Deferred(),e.assignQuery(),e.generateSource());break;case"keydown":8===n.keyCode&&e.options.multiselect&&e.options.multiselect.cancelOnBackspace&&""===e.query&&e.items.length?e.cancelMultiselectItem(e.items.length-1,null,n):n.keyCode&&~[9,13,27,38,39,40].indexOf(n.keyCode)&&(i=!0,e.navigate(n));break;case"keyup":a&&e.node[0].value.replace(/^\s+/,"").toString().length<e.query.length&&e.node.trigger("input"+e.namespace);break;case"propertychange":if(i){i=!1;break}case"input":e.deferred=t.Deferred(),e.assignQuery(),""===e.rawQuery&&""===e.query&&(n.originalEvent=o||{},e.helper.executeCallback.call(e,e.options.callback.onCancel,[e.node,e.item,n]),e.item=null),e.options.cancelButton&&e.toggleCancelButtonVisibility(),e.options.hint&&e.hint.container&&""!==e.hint.container.val()&&0!==e.hint.container.val().indexOf(e.rawQuery)&&(e.hint.container.val(""),e.isContentEditable&&e.hint.container.text("")),e.hasDynamicGroups?e.helper.typeWatch((function(){e.generateSource()}),e.options.delay):e.generateSource();break;case"search":e.searchResult(),e.buildLayout(),e.result.length||e.searchGroups.length&&e.displayEmptyTemplate?e.showLayout():e.hideLayout(),e.deferred&&e.deferred.resolve()}return e.deferred&&e.deferred.promise()})),this.options.generateOnLoad&&this.node.trigger("generate"+this.namespace)},assignQuery:function(){this.isContentEditable?this.rawQuery=this.node.text():this.rawQuery=this.node.val().toString(),this.rawQuery=this.rawQuery.replace(/^\s+/,""),this.rawQuery!==this.query&&(this.query=this.rawQuery)},filterGenerateSource:function(){if(this.searchGroups=[],this.generateGroups=[],!this.focusOnly||this.options.multiselect)for(var t in this.options.source)if(this.options.source.hasOwnProperty(t)&&this.query.length>=this.options.source[t].minLength&&this.query.length<=this.options.source[t].maxLength){if(this.filters.dropdown&&"group"===this.filters.dropdown.key&&this.filters.dropdown.value!==t)continue;if(this.searchGroups.push(t),!this.options.source[t].dynamic&&this.source[t])continue;this.generateGroups.push(t)}},generateSource:function(e){if(this.filterGenerateSource(),this.generateGroups=["lookup"],Array.isArray(e)&&e.length)this.generateGroups=e;else if(!this.generateGroups.length)return void this.node.trigger("search"+this.namespace);if(this.requestGroups=[],this.generatedGroupCount=0,this.options.loadingAnimation&&this.container.addClass("loading"),!this.helper.isEmpty(this.xhr)){for(var n in this.xhr)this.xhr.hasOwnProperty(n)&&this.options.abortAjax&&this.xhr[n].abort();this.xhr={}}for(var i,o,a,r,s,l,u,c=this,h=(n=0,this.generateGroups.length);n<h;++n){if(i=this.generateGroups[n],r=(a=this.options.source[i]).cache,s=a.compression,r&&(l=window[r].getItem("TYPEAHEAD_"+this.selector+":"+i))){s&&(l=LZString.decompressFromUTF16(l)),u=!1;try{(l=JSON.parse(l+"")).data&&l.ttl>(new Date).getTime()?(this.populateSource(l.data,i),u=!0,this.options.debug&&(d.log({node:this.selector,function:"generateSource()",message:'Source for group "'+i+'" found in '+r}),d.print())):window[r].removeItem("TYPEAHEAD_"+this.selector+":"+i)}catch(t){}if(u)continue}!a.data||a.ajax?a.ajax&&(this.requests[i]||(this.requests[i]=this.generateRequestObject(i)),this.requestGroups.push(i)):"function"==typeof a.data?(o=a.data.call(this),Array.isArray(o)?c.populateSource(o,i):"function"==typeof o.promise&&function(e){t.when(o).then((function(t){t&&Array.isArray(t)&&c.populateSource(t,e)}))}(i)):this.populateSource(t.extend(!0,[],a.data),i)}return this.requestGroups.length&&this.handleRequests(),!!this.generateGroups.length},generateRequestObject:function(t){var e=this,n=this.options.source[t],i={request:{url:n.ajax.url||null,dataType:"json",beforeSend:function(i,o){e.xhr[t]=i,e.options.abortAjax||(i.seq=l,l++);var a=e.requests[t].callback.beforeSend||n.ajax.beforeSend;"function"==typeof a&&a.apply(null,arguments)}},callback:{beforeSend:null,done:null,fail:null,then:null,always:null},extra:{path:n.ajax.path||null,group:t},validForGroup:[t]};if("function"!=typeof n.ajax&&(n.ajax instanceof Object&&(i=this.extendXhrObject(i,n.ajax)),Object.keys(this.options.source).length>1))for(var o in this.requests)this.requests.hasOwnProperty(o)&&(this.requests[o].isDuplicated||i.request.url&&i.request.url===this.requests[o].request.url&&(this.requests[o].validForGroup.push(t),i.isDuplicated=!0,delete i.validForGroup));return i},extendXhrObject:function(e,n){return"object"===i(n.callback)&&(e.callback=n.callback,delete n.callback),"function"==typeof n.beforeSend&&(e.callback.beforeSend=n.beforeSend,delete n.beforeSend),e.request=t.extend(!0,e.request,n),"jsonp"!==e.request.dataType.toLowerCase()||e.request.jsonpCallback||(e.request.jsonpCallback="callback_"+e.extra.group),e},handleRequests:function(){var e,n=this,o=this.requestGroups.length;if(!1!==this.helper.executeCallback.call(this,this.options.callback.onSendRequest,[this.node,this.query]))for(var a=0,r=this.requestGroups.length;a<r;++a)e=this.requestGroups[a],this.requests[e].isDuplicated||function(e,a){if("function"==typeof n.options.source[e].ajax){var r=n.options.source[e].ajax.call(n,n.query);if(a=n.extendXhrObject(n.generateRequestObject(e),"object"===i(r)?r:{}),"object"!==i(a.request)||!a.request.url)return n.options.debug&&(d.log({node:n.selector,function:"handleRequests",message:'Source function must return an object containing ".url" key for group "'+e+'"'}),d.print()),void n.populateSource([],e);n.requests[e]=a}var s,l=!1,u={};if(~a.request.url.indexOf("{{query}}")&&(l||(a=t.extend(!0,{},a),l=!0),a.request.url=a.request.url.replace("{{query}}",encodeURIComponent(n.query))),a.request.data)for(var c in a.request.data)if(a.request.data.hasOwnProperty(c)&&~String(a.request.data[c]).indexOf("{{query}}")){l||(a=t.extend(!0,{},a),l=!0),a.request.data[c]=a.request.data[c].replace("{{query}}",n.query);break}t.ajax(a.request).done((function(t,e,o){for(var r,l=0,c=a.validForGroup.length;l<c;l++)r=a.validForGroup[l],"function"==typeof(s=n.requests[r]).callback.done&&(u[r]=s.callback.done.call(n,t,e,o),Array.isArray(u[r])&&"object"===i(u[r])||n.options.debug&&(d.log({node:n.selector,function:"Ajax.callback.done()",message:"Invalid returned data has to be an Array"}),d.print()))})).fail((function(t,e,i){for(var o=0,r=a.validForGroup.length;o<r;o++)(s=n.requests[a.validForGroup[o]]).callback.fail instanceof Function&&s.callback.fail.call(n,t,e,i);n.options.debug&&(d.log({node:n.selector,function:"Ajax.callback.fail()",arguments:JSON.stringify(a.request),message:e}),console.log(i),d.print())})).always((function(t,e,i){for(var r,l=0,c=a.validForGroup.length;l<c;l++){if(r=a.validForGroup[l],(s=n.requests[r]).callback.always instanceof Function&&s.callback.always.call(n,t,e,i),"abort"===e)return;if(!n.options.abortAjax){if(i.seq<n._lastSeq)return;n._lastSeq=i.seq}n.populateSource(null!==t&&"function"==typeof t.promise&&[]||u[r]||t,s.extra.group,s.extra.path||s.request.path),0===(o-=1)&&n.helper.executeCallback.call(n,n.options.callback.onReceiveRequest,[n.node,n.query,t])}})).then((function(t,e){for(var i=0,o=a.validForGroup.length;i<o;i++)(s=n.requests[a.validForGroup[i]]).callback.then instanceof Function&&s.callback.then.call(n,t,e)}))}(e,this.requests[e])},populateSource:function(e,n,i){var o=this,a=this.options.source[n],r=a.ajax&&a.data,s=e;i&&"string"==typeof i&&(e=this.helper.namespace.call(this,i,e)),void 0===e&&this.options.debug&&(d.log({node:this.selector,function:"populateSource()",arguments:i,message:"Invalid data path."}),d.print()),Array.isArray(e)||(this.options.debug&&(d.log({node:this.selector,function:"populateSource()",arguments:JSON.stringify({group:n}),message:"Invalid data type, must be Array type."}),d.print()),e=[]),r&&("function"==typeof r&&(r=r()),Array.isArray(r)?e=e.concat(r):this.options.debug&&(d.log({node:this.selector,function:"populateSource()",arguments:JSON.stringify(r),message:"WARNING - this.options.source."+n+".data Must be an Array or a function that returns an Array."}),d.print()));for(var l,u=a.display?"compiled"===a.display[0]?a.display[1]:a.display[0]:"compiled"===this.options.display[0]?this.options.display[1]:this.options.display[0],c=0,h=e.length;c<h;c++)null!==e[c]&&"boolean"!=typeof e[c]?("string"==typeof e[c]&&((l={})[u]=e[c],e[c]=l),e[c].group=n):this.options.debug&&(d.log({node:this.selector,function:"populateSource()",message:"WARNING - NULL/BOOLEAN value inside "+n+"! The data was skipped."}),d.print());if(!this.hasDynamicGroups&&this.dropdownFilter.dynamic.length){var p,f,v={};for(c=0,h=e.length;c<h;c++)for(var g=0,y=this.dropdownFilter.dynamic.length;g<y;g++)p=this.dropdownFilter.dynamic[g].key,(f=e[c][p])&&(this.dropdownFilter.dynamic[g].value||(this.dropdownFilter.dynamic[g].value=[]),v[p]||(v[p]=[]),~v[p].indexOf(f.toLowerCase())||(v[p].push(f.toLowerCase()),this.dropdownFilter.dynamic[g].value.push(f)))}if(this.options.correlativeTemplate){var m=a.template||this.options.template,C="";if("function"==typeof m&&(m=m.call(this,"",{})),m){if(Array.isArray(this.options.correlativeTemplate))for(c=0,h=this.options.correlativeTemplate.length;c<h;c++)C+="{{"+this.options.correlativeTemplate[c]+"}} ";else C=m.replace(/<.+?>/g," ").replace(/\s{2,}/," ").trim();for(c=0,h=e.length;c<h;c++)e[c].compiled=t("<textarea />").html(C.replace(/\{\{([\w\-\.]+)(?:\|(\w+))?}}/g,(function(t,n){return o.helper.namespace.call(o,n,e[c],"get","")})).trim()).text();a.display?~a.display.indexOf("compiled")||a.display.unshift("compiled"):~this.options.display.indexOf("compiled")||this.options.display.unshift("compiled")}else this.options.debug&&(d.log({node:this.selector,function:"populateSource()",arguments:String(n),message:"WARNING - this.options.correlativeTemplate is enabled but no template was found."}),d.print())}this.options.callback.onPopulateSource&&(e=this.helper.executeCallback.call(this,this.options.callback.onPopulateSource,[this.node,e,n,i,s,this.query]),this.options.debug&&(e&&Array.isArray(e)||(d.log({node:this.selector,function:"callback.populateSource()",message:'callback.onPopulateSource must return the "data" parameter'}),d.print()))),this.tmpSource[n]=Array.isArray(e)&&e||[];var b=this.options.source[n].cache,w=this.options.source[n].compression,k=this.options.source[n].ttl||this.options.ttl;if(b&&!window[b].getItem("TYPEAHEAD_"+this.selector+":"+n)){this.options.callback.onCacheSave&&(e=this.helper.executeCallback.call(this,this.options.callback.onCacheSave,[this.node,e,n,i]),this.options.debug&&(e&&Array.isArray(e)||(d.log({node:this.selector,function:"callback.populateSource()",message:'callback.onCacheSave must return the "data" parameter'}),d.print())));var S=JSON.stringify({data:e,ttl:(new Date).getTime()+k});w&&(S=LZString.compressToUTF16(S)),window[b].setItem("TYPEAHEAD_"+this.selector+":"+n,S)}this.incrementGeneratedGroup()},incrementGeneratedGroup:function(){this.generatedGroupCount++,this.options.abortAjax||(this.generatedGroupCount,this.generateGroups.length),this.xhr={};for(var t=0,e=this.generateGroups.length;t<e;t++)this.source[this.generateGroups[t]]=this.tmpSource[this.generateGroups[t]];this.hasDynamicGroups||this.buildDropdownItemLayout("dynamic"),this.options.loadingAnimation&&this.container.removeClass("loading"),this.node.trigger("search"+this.namespace)},navigate:function(t){if(this.helper.executeCallback.call(this,this.options.callback.onNavigateBefore,[this.node,this.query,t]),27===t.keyCode)return t.preventDefault(),void(this.query.length?(this.resetInput(),this.node.trigger("input"+this.namespace,[t])):(this.node.blur(),this.hideLayout()));if(this.result.length){var e,n=this.resultContainer.find("."+this.options.selector.item).not("[disabled]"),i=n.filter(".active"),o=i[0]?n.index(i):null,a=i[0]?i.attr("data-index"):null,r=null;if(this.clearActiveItem(),this.helper.executeCallback.call(this,this.options.callback.onLeave,[this.node,null!==o&&n.eq(o)||void 0,null!==a&&this.result[a]||void 0,t]),13===t.keyCode)return t.preventDefault(),1===n.length&&n.click(),void(i.length>0?"javascript:;"===i.find("a:first")[0].href?i.find("a:first").trigger("click",t):i.find("a:first")[0].click():this.node.closest("form").trigger("submit"));if(15802020!==t.keyCode){9===t.keyCode?this.options.blurOnTab?this.hideLayout():i.length>0?o+1<n.length?(t.preventDefault(),r=o+1,this.addActiveItem(n.eq(r))):this.hideLayout():n.length?(t.preventDefault(),r=0,this.addActiveItem(n.first())):this.hideLayout():38===t.keyCode?(t.preventDefault(),i.length>0?o-1>=0&&(r=o-1,this.addActiveItem(n.eq(r))):n.length&&(r=n.length-1,this.addActiveItem(n.last()))):40===t.keyCode&&(t.preventDefault(),i.length>0?o+1<n.length&&(r=o+1,this.addActiveItem(n.eq(r))):n.length&&(r=0,this.addActiveItem(n.first()))),e=null!==r?n.eq(r).attr("data-index"):null,this.helper.executeCallback.call(this,this.options.callback.onEnter,[this.node,null!==r&&n.eq(r)||void 0,null!==e&&this.result[e]||void 0,t]),t.preventInputChange&&~[38,40].indexOf(t.keyCode)&&this.buildHintLayout(null!==e&&e<this.result.length?[this.result[e]]:null),this.options.hint&&this.hint.container&&this.hint.container.css("color",t.preventInputChange?this.hint.css.color:null===e&&this.hint.css.color||this.hint.container.css("background-color")||"fff");var s=null===e||t.preventInputChange?this.rawQuery:this.getTemplateValue.call(this,this.result[e]);this.node.val(s),this.isContentEditable&&this.node.text(s),this.helper.executeCallback.call(this,this.options.callback.onNavigateAfter,[this.node,n,null!==r&&n.eq(r).find("a:first")||void 0,null!==e&&this.result[e]||void 0,this.query,t])}else null!==o?n.eq(o).find("a:first")[0].click():this.options.hint&&""!==this.hint.container.val()&&this.helper.getCaret(this.node[0])>=this.query.length&&n.filter('[data-index="'+this.hintIndex+'"]').find("a:first")[0].click()}},getTemplateValue:function(t){if(t){var e=t.group&&this.options.source[t.group].templateValue||this.options.templateValue;if("function"==typeof e&&(e=e.call(this)),!e)return this.helper.namespace.call(this,t.matchedKey,t).toString();var n=this;return e.replace(/\{\{([\w\-.]+)}}/gi,(function(e,i){return n.helper.namespace.call(n,i,t,"get","")}))}},clearActiveItem:function(){this.resultContainer.find("."+this.options.selector.item).removeClass("active")},addActiveItem:function(t){t.addClass("active")},searchResult:function(){this.resetLayout(),!1!==this.helper.executeCallback.call(this,this.options.callback.onSearch,[this.node,this.query])&&(this.searchGroups=["lookup"],!this.searchGroups.length||this.options.multiselect&&this.options.multiselect.limit&&this.items.length>=this.options.multiselect.limit||this.searchResultData(),this.helper.executeCallback.call(this,this.options.callback.onResult,[this.node,this.query,this.result,this.resultCount,this.resultCountPerGroup]),this.isDropdownEvent&&(this.helper.executeCallback.call(this,this.options.callback.onDropdownFilter,[this.node,this.query,this.filters.dropdown,this.result]),this.isDropdownEvent=!1))},searchResultData:function(){var e,n,o,a,r,s,l,u,c,h,p,f=this,v=this.groupBy,g=null,y=this.query.toLowerCase(),m=this.options.maxItem,C=this.options.maxItemPerGroup,b=this.filters.dynamic&&!this.helper.isEmpty(this.filters.dynamic),w={},k="function"==typeof this.options.matcher&&this.options.matcher;this.options.accent&&(y=this.helper.removeAccent.call(this,y));for(var S=0,I=this.searchGroups.length;S<I;++S)if(z=this.searchGroups[S],!this.filters.dropdown||"group"!==this.filters.dropdown.key||this.filters.dropdown.value===z){r=void 0!==this.options.source[z].filter?this.options.source[z].filter:this.options.filter,l="function"==typeof this.options.source[z].matcher&&this.options.source[z].matcher||k;for(var L=0,x=this.source[z].length;L<x&&(!(this.resultItemCount>=m)||this.options.callback.onResult);L++)if((!b||this.dynamicFilter.validate.apply(this,[this.source[z][L]]))&&null!==(e=this.source[z][L])&&"boolean"!=typeof e&&(!this.options.multiselect||this.isMultiselectUniqueData(e))&&(!this.filters.dropdown||(e[this.filters.dropdown.key]||"").toLowerCase()===(this.filters.dropdown.value||"").toLowerCase())){if((g="group"===v?z:e[v]?e[v]:e.group)&&!this.tmpResult[g]&&(this.tmpResult[g]=[],this.resultCountPerGroup[g]=0),C&&"group"===v&&this.tmpResult[g].length>=C&&!this.options.callback.onResult)break;for(var _=0,M=(O=this.options.source[z].display||this.options.display).length;_<M;++_){if(!1!==r){if(void 0===(a=/\./.test(O[_])?this.helper.namespace.call(this,O[_],e):e[O[_]])||""===a){this.options.debug&&(w[_]={display:O[_],data:e});continue}a=this.helper.cleanStringFromScript(a)}if("function"==typeof r){if(void 0===(s=r.call(this,e,a)))break;if(!s)continue;"object"===i(s)&&(e=s)}if(~[void 0,!0].indexOf(r)){if(null===a)continue;if(o=(o=a).toString().toLowerCase(),this.options.accent&&(o=this.helper.removeAccent.call(this,o)),n=o.indexOf(y),this.options.correlativeTemplate&&"compiled"===O[_]&&n<0&&/\s/.test(y)){c=!0,p=o;for(var A=0,E=(h=y.split(" ")).length;A<E;A++)if(""!==h[A]){if(!~p.indexOf(h[A])){c=!1;break}p=p.replace(h[A],"")}}if(n<0&&!c)continue;if(this.options.offset&&0!==n)continue;if(l){if(void 0===(u=l.call(this,e,a)))break;if(!u)continue;"object"===i(u)&&(e=u)}}if(this.resultCount++,this.resultCountPerGroup[g]++,this.resultItemCount<m){if(C&&this.tmpResult[g].length>=C)break;this.tmpResult[g].push(t.extend(!0,{matchedKey:O[_]},e)),this.resultItemCount++}break}if(!this.options.callback.onResult){if(this.resultItemCount>=m)break;if(C&&this.tmpResult[g].length>=C&&"group"===v)break}}}if(this.options.debug&&(this.helper.isEmpty(w)||(d.log({node:this.selector,function:"searchResult()",arguments:JSON.stringify(w),message:"Missing keys for display, make sure options.display is set properly."}),d.print())),this.options.order){var F,O=[];for(var z in this.tmpResult)if(this.tmpResult.hasOwnProperty(z)){for(S=0,I=this.tmpResult[z].length;S<I;S++)F=this.options.source[this.tmpResult[z][S].group].display||this.options.display,~O.indexOf(F[0])||O.push(F[0]);this.tmpResult[z].sort(f.helper.sort(O,"asc"===f.options.order,(function(t){return t.toString().toUpperCase()})))}}var $=[],R=[];for(S=0,I=(R="function"==typeof this.options.groupOrder?this.options.groupOrder.apply(this,[this.node,this.query,this.tmpResult,this.resultCount,this.resultCountPerGroup]):Array.isArray(this.options.groupOrder)?this.options.groupOrder:"string"==typeof this.options.groupOrder&&~["asc","desc"].indexOf(this.options.groupOrder)?Object.keys(this.tmpResult).sort(f.helper.sort([],"asc"===f.options.groupOrder,(function(t){return t.toString().toUpperCase()}))):Object.keys(this.tmpResult)).length;S<I;S++)$=$.concat(this.tmpResult[R[S]]||[]);this.groups=JSON.parse(JSON.stringify(R)),this.result=$},buildLayout:function(){this.buildHtmlLayout(),this.buildBackdropLayout(),this.buildHintLayout(),this.options.callback.onLayoutBuiltBefore&&(this.tmpResultHtml=this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltBefore,[this.node,this.query,this.result,this.resultHtml])),this.tmpResultHtml instanceof t?this.resultContainer.html(this.tmpResultHtml):this.resultHtml instanceof t&&this.resultContainer.html(this.resultHtml),this.options.callback.onLayoutBuiltAfter&&this.helper.executeCallback.call(this,this.options.callback.onLayoutBuiltAfter,[this.node,this.query,this.result])},buildHtmlLayout:function(){if(!1!==this.options.resultContainer){var e;if(this.resultContainer||(this.resultContainer=t("<div/>",{class:this.options.selector.result}),this.container.append(this.resultContainer)),!this.result.length)if(this.options.multiselect&&this.options.multiselect.limit&&this.items.length>=this.options.multiselect.limit)e=this.options.multiselect.limitTemplate?"function"==typeof this.options.multiselect.limitTemplate?this.options.multiselect.limitTemplate.call(this,this.query):this.options.multiselect.limitTemplate.replace(/\{\{query}}/gi,t("<div>").text(this.helper.cleanStringFromScript(this.query)).html()):"Can't select more than "+this.items.length+" items.";else{if(!this.options.emptyTemplate||""===this.query)return;e="function"==typeof this.options.emptyTemplate?this.options.emptyTemplate.call(this,this.query):this.options.emptyTemplate.replace(/\{\{query}}/gi,t("<div>").text(this.helper.cleanStringFromScript(this.query)).html())}this.displayEmptyTemplate=!!e;var n=this.query.toLowerCase();this.options.accent&&(n=this.helper.removeAccent.call(this,n));var o=this,a=this.groupTemplate||"<ul></ul>",r=!1;this.groupTemplate?a=t(a.replace(/<([^>]+)>\{\{(.+?)}}<\/[^>]+>/g,(function(t,n,i,a,s){var l="",u="group"===i?o.groups:[i];if(!o.result.length)return!0===r?"":(r=!0,"<"+n+' class="'+o.options.selector.empty+'">'+e+"</"+n+">");for(var c=0,d=u.length;c<d;++c)l+="<"+n+' data-group-template="'+u[c]+'"><ul></ul></'+n+">";return l}))):(a=t(a),this.result.length||a.append(e instanceof t?e:'<li class="'+o.options.selector.empty+'">'+e+"</li>")),a.addClass(this.options.selector.list+(this.helper.isEmpty(this.result)?" empty":""));for(var s,l,u,c,d,h,p,f,v,g,y,m,C,b=this.groupTemplate&&this.result.length&&o.groups||[],w=0,k=this.result.length;w<k;++w)s=(u=this.result[w]).group,c=!this.options.multiselect&&this.options.source[u.group].href||this.options.href,f=[],v=this.options.source[u.group].display||this.options.display,this.options.group&&(s=u[this.options.group.key],this.options.group.template&&("function"==typeof this.options.group.template?l=this.options.group.template.call(this,u):"string"==typeof this.options.group.template&&(l=this.options.group.template.replace(/\{\{([\w\-\.]+)}}/gi,(function(t,e){return o.helper.namespace.call(o,e,u,"get","")})))),a.find('[data-search-group="'+s+'"]')[0]||(this.groupTemplate?a.find('[data-group-template="'+s+'"] ul'):a).append(t("<li/>",{class:o.options.selector.group,html:t("<a/>",{href:"javascript:;",html:l||s,tabindex:-1}),"data-search-group":s}))),this.groupTemplate&&b.length&&~(y=b.indexOf(s||u.group))&&b.splice(y,1),d=t("<li/>",{class:o.options.selector.item+" "+o.options.selector.group+"-"+this.helper.slugify.call(this,s),disabled:!!u.disabled,"data-group":s,"data-index":w,html:t("<a/>",{href:c&&!u.disabled?(m=c,C=u,C.href=o.generateHref.call(o,m,C)):"javascript:;",html:function(){if(h=u.group&&o.options.source[u.group].template||o.options.template)"function"==typeof h&&(h=h.call(o,o.query,u)),p=h.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,(function(t,e,i){var a=o.helper.cleanStringFromScript(String(o.helper.namespace.call(o,e,u,"get","")));return~(i=i&&i.split("|")||[]).indexOf("slugify")&&(a=o.helper.slugify.call(o,a)),~i.indexOf("raw")||!0===o.options.highlight&&n&&~v.indexOf(e)&&(a=o.helper.highlight.call(o,a,n.split(" "),o.options.accent)),a}));else{for(var e=0,i=v.length;e<i;e++)void 0!==(g=/\./.test(v[e])?o.helper.namespace.call(o,v[e],u,"get",""):u[v[e]])&&""!==g&&f.push(g);p='<span class="'+o.options.selector.display+'">'+o.helper.cleanStringFromScript(String(f.join(" ")))+"</span>"}(!0===o.options.highlight&&n&&!h||"any"===o.options.highlight)&&(p=o.helper.highlight.call(o,p,n.split(" "),o.options.accent)),t(this).append(p)}})}),function(e,n,a){a.on("click",(function(e,a){n.disabled?e.preventDefault():(a&&"object"===i(a)&&(e.originalEvent=a),o.options.mustSelectItem&&o.helper.isEmpty(n)?e.preventDefault():(o.options.multiselect||(o.item=n),!1!==o.helper.executeCallback.call(o,o.options.callback.onClickBefore,[o.node,t(this),n,e])&&(e.originalEvent&&e.originalEvent.defaultPrevented||e.isDefaultPrevented()||(o.options.multiselect?(o.query=o.rawQuery="",o.addMultiselectItemLayout(n)):(o.focusOnly=!0,o.query=o.rawQuery=o.getTemplateValue.call(o,n),o.isContentEditable&&(o.node.text(o.query),o.helper.setCaretAtEnd(o.node[0]))),o.hideLayout(),o.node.val(o.query),o.options.cancelButton&&o.toggleCancelButtonVisibility(),o.helper.executeCallback.call(o,o.options.callback.onClickAfter,[o.node,t(this),n,e])))))})),a.on("mouseenter",(function(e){n.disabled||(o.clearActiveItem(),o.addActiveItem(t(this))),o.helper.executeCallback.call(o,o.options.callback.onEnter,[o.node,t(this),n,e])})),a.on("mouseleave",(function(e){n.disabled||o.clearActiveItem(),o.helper.executeCallback.call(o,o.options.callback.onLeave,[o.node,t(this),n,e])}))}(0,u,d),(this.groupTemplate?a.find('[data-group-template="'+s+'"] ul'):a).append(d);if(this.result.length&&b.length)for(w=0,k=b.length;w<k;++w)a.find('[data-group-template="'+b[w]+'"]').remove();this.resultHtml=a}},generateHref:function(t,e){var n=this;return"string"==typeof t?t=t.replace(/\{\{([^\|}]+)(?:\|([^}]+))*}}/gi,(function(t,i,o){var a=n.helper.namespace.call(n,i,e,"get","");return~(o=o&&o.split("|")||[]).indexOf("slugify")&&(a=n.helper.slugify.call(n,a)),a})):"function"==typeof t&&(t=t.call(this,e)),t},getMultiselectComparedData:function(t){var e="";if(Array.isArray(this.options.multiselect.matchOn))for(var n=0,i=this.options.multiselect.matchOn.length;n<i;++n)e+=void 0!==t[this.options.multiselect.matchOn[n]]?t[this.options.multiselect.matchOn[n]]:"";else{var o=JSON.parse(JSON.stringify(t)),a=["group","matchedKey","compiled","href"];for(n=0,i=a.length;n<i;++n)delete o[a[n]];e=JSON.stringify(o)}return e},buildBackdropLayout:function(){this.options.backdrop&&(this.backdrop.container||(this.backdrop.css=t.extend({opacity:.6,filter:"alpha(opacity=60)",position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":1040,"background-color":"#000"},this.options.backdrop),this.backdrop.container=t("<div/>",{class:this.options.selector.backdrop,css:this.backdrop.css}).insertAfter(this.container)),this.container.addClass("backdrop").css({"z-index":this.backdrop.css["z-index"]+1,position:"relative"}))},buildHintLayout:function(e){if(this.options.hint)if(this.node[0].scrollWidth>Math.ceil(this.node.innerWidth()))this.hint.container&&this.hint.container.val("");else{var n=this,i="",o=(e=e||this.result,this.query.toLowerCase());if(this.options.accent&&(o=this.helper.removeAccent.call(this,o)),this.hintIndex=null,this.searchGroups.length){if(this.hint.container||(this.hint.css=t.extend({"border-color":"transparent",position:"absolute",top:0,display:"inline","z-index":-1,float:"none",color:"silver","box-shadow":"none",cursor:"default","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},this.options.hint),this.hint.container=t("<"+this.node[0].nodeName+"/>",{type:this.node.attr("type"),class:this.node.attr("class"),readonly:!0,unselectable:"on","aria-hidden":"true",tabindex:-1,click:function(){n.node.focus()}}).addClass(this.options.selector.hint).css(this.hint.css).insertAfter(this.node),this.node.parent().css({position:"relative"})),this.hint.container.css("color",this.hint.css.color),o)for(var a,r,s,l=0,u=e.length;l<u;l++)if(!e[l].disabled){r=e[l].group;for(var c=0,d=(a=this.options.source[r].display||this.options.display).length;c<d;c++)if(s=String(e[l][a[c]]).toLowerCase(),this.options.accent&&(s=this.helper.removeAccent.call(this,s)),0===s.indexOf(o)){i=String(e[l][a[c]]),this.hintIndex=l;break}if(null!==this.hintIndex)break}var h=i.length>0&&this.rawQuery+i.substring(this.query.length)||"";this.hint.container.val(h),this.isContentEditable&&this.hint.container.text(h)}}},buildDropdownLayout:function(){if(this.options.dropdownFilter){var e=this;t("<span/>",{class:this.options.selector.filter,html:function(){t(this).append(t("<button/>",{type:"button",class:e.options.selector.filterButton,style:"display: none;",click:function(){e.container.toggleClass("filter");var n=e.namespace+"-dropdown-filter";t("html").off(n),e.container.hasClass("filter")&&t("html").on("click"+n+" touchend"+n,(function(i){t(i.target).closest("."+e.options.selector.filter)[0]&&t(i.target).closest(e.container)[0]||e.hasDragged||(e.container.removeClass("filter"),t("html").off(n))}))}})),t(this).append(t("<ul/>",{class:e.options.selector.dropdown}))}}).insertAfter(e.container.find("."+e.options.selector.query))}},buildDropdownItemLayout:function(e){if(this.options.dropdownFilter){var n,i,o=this,a="string"==typeof this.options.dropdownFilter&&this.options.dropdownFilter||"All",r=this.container.find("."+this.options.selector.dropdown);"static"!==e||!0!==this.options.dropdownFilter&&"string"!=typeof this.options.dropdownFilter||this.dropdownFilter.static.push({key:"group",template:"{{group}}",all:a,value:Object.keys(this.options.source)});for(var s=0,l=this.dropdownFilter[e].length;s<l;s++){i=this.dropdownFilter[e][s],Array.isArray(i.value)||(i.value=[i.value]),i.all&&(this.dropdownFilterAll=i.all);for(var u=0,c=i.value.length;u<=c;u++)u===c&&s!==l-1||u===c&&s===l-1&&"static"===e&&this.dropdownFilter.dynamic.length||(n=this.dropdownFilterAll||a,i.value[u]?n=i.template?i.template.replace(new RegExp("{{"+i.key+"}}","gi"),i.value[u]):i.value[u]:this.container.find("."+o.options.selector.filterButton).html(n),function(e,n,i){r.append(t("<li/>",{class:o.options.selector.dropdownItem+" "+o.helper.slugify.call(o,n.key+"-"+(n.value[e]||a)),html:t("<a/>",{href:"javascript:;",html:i,click:function(t){t.preventDefault(),d.call(o,{key:n.key,value:n.value[e]||"*",template:i})}})}))}(u,i,n))}this.dropdownFilter[e].length&&this.container.find("."+o.options.selector.filterButton).removeAttr("style")}function d(t){"*"===t.value?delete this.filters.dropdown:this.filters.dropdown=t,this.container.removeClass("filter").find("."+this.options.selector.filterButton).html(t.template),this.isDropdownEvent=!0,this.node.trigger("input"+this.namespace),this.options.multiselect&&this.adjustInputSize(),this.node.focus()}},dynamicFilter:{isEnabled:!1,init:function(){this.options.dynamicFilter&&(this.dynamicFilter.bind.call(this),this.dynamicFilter.isEnabled=!0)},validate:function(t){var e,n,i=null,o=null;for(var a in this.filters.dynamic)if(this.filters.dynamic.hasOwnProperty(a)&&(n=~a.indexOf(".")?this.helper.namespace.call(this,a,t,"get"):t[a],"|"!==this.filters.dynamic[a].modifier||i||(i=n==this.filters.dynamic[a].value||!1),"&"===this.filters.dynamic[a].modifier)){if(n!=this.filters.dynamic[a].value){o=!1;break}o=!0}return e=i,null!==o&&(e=o,!0===o&&null!==i&&(e=i)),!!e},set:function(t,e){var n=t.match(/^([|&])?(.+)/);e?this.filters.dynamic[n[2]]={modifier:n[1]||"|",value:e}:delete this.filters.dynamic[n[2]],this.dynamicFilter.isEnabled&&this.generateSource()},bind:function(){for(var e,n=this,i=0,o=this.options.dynamicFilter.length;i<o;i++)"string"==typeof(e=this.options.dynamicFilter[i]).selector&&(e.selector=t(e.selector)),e.selector instanceof t&&e.selector[0]&&e.key?function(t){t.selector.off(n.namespace).on("change"+n.namespace,(function(){n.dynamicFilter.set.apply(n,[t.key,n.dynamicFilter.getValue(this)])})).trigger("change"+n.namespace)}(e):this.options.debug&&(d.log({node:this.selector,function:"buildDynamicLayout()",message:'Invalid jQuery selector or jQuery Object for "filter.selector" or missing filter.key'}),d.print())},getValue:function(t){var e;return"SELECT"===t.tagName?e=t.value:"INPUT"===t.tagName&&("checkbox"===t.type?e=t.checked&&t.getAttribute("value")||t.checked||null:"radio"===t.type&&t.checked&&(e=t.value)),e}},buildMultiselectLayout:function(){if(this.options.multiselect){var e,n=this;this.label.container=t("<span/>",{class:this.options.selector.labelContainer,"data-padding-left":parseFloat(this.node.css("padding-left"))||0,"data-padding-right":parseFloat(this.node.css("padding-right"))||0,"data-padding-top":parseFloat(this.node.css("padding-top"))||0,click:function(e){t(e.target).hasClass(n.options.selector.labelContainer)&&n.node.focus()}}),this.node.closest("."+this.options.selector.query).prepend(this.label.container),this.options.multiselect.data&&(Array.isArray(this.options.multiselect.data)?this.populateMultiselectData(this.options.multiselect.data):"function"==typeof this.options.multiselect.data&&(e=this.options.multiselect.data.call(this),Array.isArray(e)?this.populateMultiselectData(e):"function"==typeof e.promise&&t.when(e).then((function(t){t&&Array.isArray(t)&&n.populateMultiselectData(t)}))))}},isMultiselectUniqueData:function(t){for(var e=!0,n=0,i=this.comparedItems.length;n<i;++n)if(this.comparedItems[n]===this.getMultiselectComparedData(t)){e=!1;break}return e},populateMultiselectData:function(t){for(var e=0,n=t.length;e<n;++e)this.addMultiselectItemLayout(t[e]);this.node.trigger("search"+this.namespace,{origin:"populateMultiselectData"})},addMultiselectItemLayout:function(e){if(this.isMultiselectUniqueData(e)){this.items.push(e),this.comparedItems.push(this.getMultiselectComparedData(e));var n=this.getTemplateValue(e),i=this,o=this.options.multiselect.href?"a":"span",a=t("<span/>",{class:this.options.selector.label,html:t("<"+o+"/>",{text:n,click:function(e){var n=t(this).closest("."+i.options.selector.label),o=i.label.container.find("."+i.options.selector.label).index(n);i.options.multiselect.callback&&i.helper.executeCallback.call(i,i.options.multiselect.callback.onClick,[i.node,i.items[o],e])},href:this.options.multiselect.href?function(t){return i.generateHref.call(i,i.options.multiselect.href,t)}(i.items[i.items.length-1]):null})});return a.append(t("<span/>",{class:this.options.selector.cancelButton,html:"×",click:function(e){var n=t(this).closest("."+i.options.selector.label),o=i.label.container.find("."+i.options.selector.label).index(n);i.cancelMultiselectItem(o,n,e)}})),this.label.container.append(a),this.adjustInputSize(),!0}},cancelMultiselectItem:function(t,e,n){var i=this.items[t];(e=e||this.label.container.find("."+this.options.selector.label).eq(t)).remove(),this.items.splice(t,1),this.comparedItems.splice(t,1),this.options.multiselect.callback&&this.helper.executeCallback.call(this,this.options.multiselect.callback.onCancel,[this.node,i,n]),this.adjustInputSize(),this.focusOnly=!0,this.node.focus().trigger("input"+this.namespace,{origin:"cancelMultiselectItem"})},adjustInputSize:function(){var e=this.node[0].getBoundingClientRect().width-(parseFloat(this.label.container.data("padding-right"))||0)-(parseFloat(this.label.container.css("padding-left"))||0),n=0,i=0,o=0,a=!1,r=0;this.label.container.find("."+this.options.selector.label).filter((function(s,l){0===s&&(r=t(l)[0].getBoundingClientRect().height+parseFloat(t(l).css("margin-bottom")||0)),n=t(l)[0].getBoundingClientRect().width+parseFloat(t(l).css("margin-right")||0),o+n>.7*e&&!a&&(i++,a=!0),o+n<e?o+=n:(a=!1,o=n)}));var s=parseFloat(this.label.container.data("padding-left")||0)+(a?0:o),l=i*r+parseFloat(this.label.container.data("padding-top")||0);this.container.find("."+this.options.selector.query).find("input, textarea, [contenteditable], .typeahead__hint").css({paddingLeft:s,paddingTop:l})},showLayout:function(){!this.container.hasClass("result")&&(this.result.length||this.displayEmptyTemplate||this.options.backdropOnFocus)&&(function(){var e=this;t("html").off("keydown"+this.namespace).on("keydown"+this.namespace,(function(n){n.keyCode&&9===n.keyCode&&setTimeout((function(){t(":focus").closest(e.container).find(e.node)[0]||e.hideLayout()}),0)})),t("html").off("click"+this.namespace+" touchend"+this.namespace).on("click"+this.namespace+" touchend"+this.namespace,(function(n){t(n.target).closest(e.container)[0]||t(n.target).closest("."+e.options.selector.item)[0]||n.target.className===e.options.selector.cancelButton||e.hasDragged||e.hideLayout()}))}.call(this),this.container.addClass([this.result.length||this.searchGroups.length&&this.displayEmptyTemplate?"result ":"",this.options.hint&&this.searchGroups.length?"hint":"",this.options.backdrop||this.options.backdropOnFocus?"backdrop":""].join(" ")),this.helper.executeCallback.call(this,this.options.callback.onShowLayout,[this.node,this.query]))},hideLayout:function(){(this.container.hasClass("result")||this.container.hasClass("backdrop"))&&(this.container.removeClass("result hint filter"+(this.options.backdropOnFocus&&t(this.node).is(":focus")?"":" backdrop")),this.options.backdropOnFocus&&this.container.hasClass("backdrop")||(t("html").off(this.namespace),this.helper.executeCallback.call(this,this.options.callback.onHideLayout,[this.node,this.query])))},resetLayout:function(){this.result=[],this.tmpResult={},this.groups=[],this.resultCount=0,this.resultCountPerGroup={},this.resultItemCount=0,this.resultHtml=null,this.options.hint&&this.hint.container&&(this.hint.container.val(""),this.isContentEditable&&this.hint.container.text(""))},resetInput:function(){this.node.val(""),this.isContentEditable&&this.node.text(""),this.query="",this.rawQuery=""},buildCancelButtonLayout:function(){if(this.options.cancelButton){var e=this;t("<span/>",{class:this.options.selector.cancelButton,html:"×",mousedown:function(t){t.stopImmediatePropagation(),t.preventDefault(),e.resetInput(),e.node.trigger("input"+e.namespace,[t])}}).insertBefore(this.node)}},toggleCancelButtonVisibility:function(){this.container.toggleClass("cancel",!!this.query.length)},__construct:function(){this.extendOptions(),this.unifySourceFormat()&&(this.dynamicFilter.init.apply(this),this.init(),this.buildDropdownLayout(),this.buildDropdownItemLayout("static"),this.buildMultiselectLayout(),this.delegateEvents(),this.buildCancelButtonLayout(),this.helper.executeCallback.call(this,this.options.callback.onReady,[this.node]))},helper:{isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},removeAccent:function(t){if("string"==typeof t){var e=o;return"object"===i(this.options.accent)&&(e=this.options.accent),t=t.toLowerCase().replace(new RegExp("["+e.from+"]","g"),(function(t){return e.to[e.from.indexOf(t)]}))}},slugify:function(t){return""!==(t=String(t))&&(t=(t=this.helper.removeAccent.call(this,t)).replace(/[^-a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")),t},sort:function(t,e,n){var i=function(e){for(var i=0,o=t.length;i<o;i++)if(void 0!==e[t[i]])return n(e[t[i]]);return e};return e=[-1,1][+!!e],function(t,n){return t=i(t),n=i(n),e*((t>n)-(n>t))}},replaceAt:function(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)},highlight:function(t,e,n){t=String(t);var i=n&&this.helper.removeAccent.call(this,t)||t,o=[];Array.isArray(e)||(e=[e]),e.sort((function(t,e){return e.length-t.length}));for(var a=e.length-1;a>=0;a--)""!==e[a].trim()?e[a]=e[a].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e.splice(a,1);i.replace(new RegExp("(?:"+e.join("|")+")(?!([^<]+)?>)","gi"),(function(t,e,n){o.push({offset:n,length:t.length})}));for(a=o.length-1;a>=0;a--)t=this.helper.replaceAt(t,o[a].offset,o[a].length,"<strong>"+t.substr(o[a].offset,o[a].length)+"</strong>");return t},getCaret:function(t){var e=0;if(t.selectionStart)return t.selectionStart;if(document.selection){var n=document.selection.createRange();if(null===n)return e;var i=t.createTextRange(),o=i.duplicate();i.moveToBookmark(n.getBookmark()),o.setEndPoint("EndToStart",i),e=o.text.length}else if(window.getSelection){var a=window.getSelection();if(a.rangeCount){var r=a.getRangeAt(0);r.commonAncestorContainer.parentNode==t&&(e=r.endOffset)}}return e},setCaretAtEnd:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}else if(void 0!==document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(t),i.collapse(!1),i.select()}},cleanStringFromScript:function(t){return"string"==typeof t&&t.replace(/<\/?(?:script|iframe)\b[^>]*>/gm,"")||t},executeCallback:function(t,e){if(t){var n;if("function"==typeof t)n=t;else if(("string"==typeof t||Array.isArray(t))&&("string"==typeof t&&(t=[t,[]]),"function"!=typeof(n=this.helper.namespace.call(this,t[0],window))))return void(this.options.debug&&(d.log({node:this.selector,function:"executeCallback()",arguments:JSON.stringify(t),message:'WARNING - Invalid callback function"'}),d.print()));return n.apply(this,(t[1]||[]).concat(e||[]))}},namespace:function(t,e,n,i){if("string"!=typeof t||""===t)return this.options.debug&&(d.log({node:this.options.input||this.selector,function:"helper.namespace()",arguments:t,message:'ERROR - Missing string"'}),d.print()),!1;var o=void 0!==i?i:void 0;if(!~t.indexOf("."))return e[t]||o;for(var a=t.split("."),r=e||window,s=(n=n||"get",""),l=0,u=a.length;l<u;l++){if(void 0===r[s=a[l]]){if(~["get","delete"].indexOf(n))return void 0!==i?i:void 0;r[s]={}}if(~["set","create","delete"].indexOf(n)&&l===u-1){if("set"!==n&&"create"!==n)return delete r[s],!0;r[s]=o}r=r[s]}return r},typeWatch:(e=0,function(t,n){clearTimeout(e),e=setTimeout(t,n)})}},(t=jQuery).fn.typeahead=t.typeahead=function(t){return c.typeahead(this,t)};var c={typeahead:function(e,n){if(!n||!n.source||"object"!==i(n.source))return d.log({node:e.selector||n&&n.input,function:"$.typeahead()",arguments:JSON.stringify(n&&n.source||""),message:'Undefined "options" or "options.source" or invalid source type - Typeahead dropped'}),void d.print();if("function"==typeof e){if(!n.input)return d.log({node:e.selector,function:"$.typeahead()",message:'Undefined "options.input" - Typeahead dropped'}),void d.print();e=t(n.input)}if(void 0===e[0].value&&(e[0].value=e.text()),!e.length)return d.log({node:e.selector,function:"$.typeahead()",arguments:JSON.stringify(n.input),message:"Unable to find jQuery input element - Typeahead dropped"}),void d.print();if(1===e.length)return e[0].selector=e.selector||n.input||e[0].nodeName.toLowerCase(),window.Typeahead[e[0].selector]=new u(e,n);for(var o,a={},r=0,s=e.length;r<s;++r)void 0!==a[o=e[r].nodeName.toLowerCase()]&&(o+=r),e[r].selector=o,window.Typeahead[o]=a[o]=new u(e.eq(r),n);return a}},d={table:{},log:function(e){e.message&&"string"==typeof e.message&&(this.table[e.message]=t.extend({node:"",function:"",arguments:""},e))},print:function(){!u.prototype.helper.isEmpty(this.table)&&console&&console.table&&(this.table={})}};d.log({message:"WARNING - You are using the DEBUG version. Use /dist/jquery.typeahead.min.js in production."}),d.print(),window.console=window.console||{log:function(){}},Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),e<0&&(e+=this.length),e<0&&(e=0);for(var n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1}),Object.keys||(Object.keys=function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n})}($);var jn=jQuery,Gn=function(t){function e(t,i){var o;return n(this,e),d(o=Vn(this,e,[t,i]),"init",(function(){try{o.initFields(),o.$element.typeahead(o.typeaheadOptions)}catch(t){console.error("Error initisalising typeahead control"),console.error(t)}var t=o.eventHandler;t(o.$element,"input",o.onInput),t(o.$element,"afd:initFields",o.onAfdInitFields),t(o.$element,"focusin",o.onFocusIn),t(o.$searchAgainButton,"click",o.onAfdSearchAgainButtonClick),o.options.typeahead.manualInputButton&&t(o.$manualInputButton,"click",o.onAfdManualInputButtonClick),o.options.typeahead.manualInputButton&&t(o.$manualInputSearchButton,"click",o.onAfdManualInputSearchButtonClick),o.getInitialCountry()})),d(o,"setupTypeaheadRequestOptions",(function(){o.initRequestSequence();var t={data:"address",fields:o.options.typeahead.postcodeFirst?"list":"fflist",task:"fastfindv4",lookup:"{{query}}",allpc:"1",matchPositions:o.options.typeahead.matchPositions?1:0,maxquantity:o.options.typeahead.maxItems,uniqueid:o.uniqueID,w3wmode:o.options.typeahead.w3wMode};o.options.typeahead.listEnv&&(t.listEnv="1"),o.options.typeahead.bankLookup&&(t.data="bank",t.task="fastfind",t.clearing="all"),jn.extend(t,o.options.typeahead.extraPCESearchParams),o.requestOptions=o.setupParams(t),o.requestOptions.path="Item"})),d(o,"prepareTypeaheadOptions",(function(){return{dynamic:!0,source:{lookup:{ajax:o.requestOptions}},template:"<span>{{List}}</span>",templateValue:"{{List}}",cancelButton:!1,emptyTemplate:"No results found for {{query}}",filter:!1,maxItem:0,minLength:o.options.typeahead.minLength,delay:20,abortAjax:!1,selector:o.getTypeaheadSelectors(),callback:{onResult:o.onResult,onShowLayout:o.onShowLayout,onHideLayout:o.onHideLayout,onLayoutBuiltBefore:o.onLayoutBuiltBefore,onLayoutBuiltAfter:o.onLayoutBuiltAfter,onSearch:o.onSearch,onNavigateBefore:o.onNavigateBefore,onNavigateAfter:o.onNavigateAfter,onClickAfter:o.onClickAfter,onPopulateSource:o.onPopulateSource,onReceiveRequest:o.onReceiveRequest}}})),d(o,"onInput",(function(t){var e=o.containers.length>0?jn(o.containers):jn(document);e.find(".afd-typeahead-status").html("&nbsp;"),e.find('[data-afd-control="reverseGeocodeResultsList"]').hide(),jn(document).trigger("afd:typeaheadInput",[t.target.value]),o.$element.trigger("afd:typeaheadInput",[t.target.value])})),d(o,"onFocusIn",(function(){"focus"===o.options[o.controlType].w3wFocusMode&&navigator.geolocation.getCurrentPosition(o.onGeolocationSuccess,o.onGeolocationError)})),d(o,"onCountryChangedLocal",(function(t){o.typeaheadOptions.source.lookup.ajax.data.countryiso=t,o.$element.typeahead(o.typeaheadOptions)})),d(o,"onAfdInitFields",(function(){o.$element.typeahead(o.typeaheadOptions),o.setFields(),o.initFields()})),d(o,"onResult",(function(t,e,n){(o.containers.length>0?jn(o.containers):jn(document)).find(".afd-typeahead-status").html(n.length+" results found"),o.options.typeahead.beforeHideResults&&o.options.typeahead.fewResultsManualInput&&n.length<o.options.typeahead.maxItems&&e.length>3&&window.Typeahead.input.result.push({List:o.options.typeahead.fewResultsManualInputText,Key:null,group:"lookup",matchedKey:"display"})})),d(o,"onShowLayout",(function(t,e){o.$manualInputButton.hide()})),d(o,"onHideLayout",(function(t,e){var n=o.containers.length>0?jn(o.containers):jn(document);!(0===n.find("[data-afd-result]:hidden").length)&&o.options.typeahead.manualInputButton&&o.$manualInputButton.show(),n.find(".provider").remove()})),d(o,"onLayoutBuiltBefore",(function(t,e,n,i){if(0===n.length)return i;var a=o.containers.length>0?"-"+o.$element.closest(o.containers.toString()).attr("id"):"";if(i.attr("id","afd-results"+a).attr("role","listbox"),o.options.typeahead.matchPositions&&void 0!==n[0].matchPositions)for(var r='<span class="afd-matched-highlight">',s="</span>",l=0;l<n.length;l++){var u=n[l],c=jn(i.children().eq(l)).text();if(void 0!==u.matchPositions)for(var d=0;d<u.matchPositions.length;d++){var h=u.matchPositions[d],p=43*d,f="";f+=c.substr(0,h[0]+p),f+=r,f+=c.substr(h[0]+p,h[1]-h[0]),f+=s,f+=c.substr(h[1]+p),c=f}var v='<a href="javascript:;">';v+=c,v+="</a>",i.children().eq(l).html(v)}for(var g=0;g<n.length;g++){if(o.options.typeahead.w3wNear&&void 0!==n[g].Near){var y=o.options.typeahead.w3wNearTemplate.replace("{near}",n[g].Near);i.children().eq(g).append('<span class="afd-near">'.concat(y,"</span>"))}if(["init","focus"].indexOf(o.options.typeahead.w3wFocusMode)>-1&&o.options.typeahead.w3wDistance&&(void 0!==n[g].Km||void 0!==n[g].Miles)){if(-1===["m","km"].indexOf(o.options.typeahead.w3wDistanceUnit.toLowerCase()))throw'Invalid w3wDistanceUnit option. Must be "m" or "km"';var m="m"===o.options.typeahead.w3wDistanceUnit.toLowerCase()?"Miles":"Km",C=o.options.typeahead.w3wDistanceTemplate.replace("{distance}",n[g][m]);i.children().eq(g).append('<span class="afd-distance">'.concat(C,"</span>"))}}return 1===n.length&&i.children().addClass("active"),i.children().attr("role","option"),i.children().each((function(t){i.children().eq(t).attr("id","afd-result-"+t)})),i.attr("aria-label","Results"),i})),d(o,"onLayoutBuiltAfter",(function(t){var e=t.closest(".afd-typeahead-field").siblings(".afd-typeahead-result");o.options.typeahead.providerInfo&&e.prepend('<div class="provider"></div>'),o.w3w?e.find(".provider").html(o.w3wLogo+"<strong> what3words</strong>"):e.find(".provider").html(o.afdLogo+"<strong> afd Software</strong>")})),d(o,"onSearch",(function(t,e){jn("."+o.typeaheadOptions.selector.result).empty()})),d(o,"onNavigateBefore",(function(t,e,n){~[38,40].indexOf(event.keyCode)&&(n.preventInputChange=!0)})),d(o,"onNavigateAfter",(function(t,e,n,i,a,r){var s=e.filter("li.active"),l=o.containers.length>0?jn(o.containers):jn(document);if(~[38,40].indexOf(r.keyCode)){var u=l.find(".afd-typeahead-list"),c=s[0]&&s[0].offsetTop-u.height()/2||0;u.scrollTop(c)}e.removeAttr("aria-selected"),s.attr("aria-selected","true"),o.$element.attr("aria-activedescendant",s.attr("id"))})),d(o,"onClickAfter",(function(t,e,n,i){if((o.containers.length>0?jn(o.containers):jn(document)).find(".afd-typeahead-status").html("&nbsp;"),o.options.typeahead.afterClearTypeahead&&jn(".afd-typeahead-field input").val(""),!n.Key)return o.showResultFields(),o.$fieldSets.show(),o.$manualInputButton.hide(),o.$manualInputSearchButton.show(),void o.$typeaheadFieldandLabel.hide();n.suggestion?jn(t).val("///"+n.Key+"///").trigger("input").val(n.Key):o.addressRetrieve(n.Key).then((function(t,e,n){o.handleAddressRetrieve(t,n)})).fail((function(t){return o.handlePCEError(t)}))})),d(o,"onPopulateSource",(function(t,e,n,i,o,a){return e.map((function(t){var e=t.List;return Pn(Pn({},t),{},{List:e,suggestion:void 0!==o.Suggestion,w3w:void 0!==o.W3W})}))})),d(o,"onReceiveRequest",(function(t,e,n){-7===n.Result&&o.handlePCEError("-7",n.ErrorText)})),d(o,"getTypeaheadSelectors",(function(t){return{container:"afd-typeahead-container",result:"afd-typeahead-result",list:"afd-typeahead-list",group:"afd-typeahead-group",item:"afd-typeahead-item",empty:"afd-typeahead-empty",display:"afd-typeahead-display",query:"afd-typeahead-query",filter:"afd-typeahead-filter",filterButton:"afd-typeahead-filterButton",dropdown:"afd-typeahead-dropdown",dropdownItem:"afd-typeahead-dropdownItem",button:"afd-typeahead-button",backdrop:"afd-typeahead-backdrop",hint:"afd-typeahead-hint",cancelButton:"afd-typeahead-cancelButton"}})),d(o,"w3wLogo",'<svg viewBox="0 0 24 24" width="24px" height="24px"><path d="M24 0H0V24H24V0Z" fill="#E11F26"></path><path d="M10.5029 17.2564C10.3838 17.2563 10.2665 17.2278 10.1605 17.1735C10.0545 17.1191 9.96298 17.0404 9.89335 16.9438C9.82373 16.8472 9.77801 16.7354 9.75997 16.6177C9.74193 16.5 9.75207 16.3797 9.78957 16.2667L12.7971 7.24404C12.8283 7.15037 12.8777 7.06376 12.9424 6.98917C13.0071 6.91458 13.0859 6.85346 13.1742 6.80932C13.2626 6.76517 13.3587 6.73885 13.4572 6.73186C13.5557 6.72488 13.6547 6.73736 13.7483 6.76861C13.842 6.79985 13.9286 6.84923 14.0032 6.91394C14.0778 6.97865 14.1389 7.05742 14.1831 7.14575C14.2272 7.23408 14.2535 7.33024 14.2605 7.42874C14.2675 7.52725 14.255 7.62616 14.2238 7.71983L11.2162 16.7425C11.1663 16.8922 11.0705 17.0223 10.9425 17.1146C10.8145 17.2068 10.6607 17.2565 10.5029 17.2564Z" fill="white"></path><path d="M5.99161 17.2564C5.87252 17.2563 5.75518 17.2278 5.64921 17.1735C5.54325 17.1191 5.45169 17.0404 5.38206 16.9438C5.31243 16.8472 5.26672 16.7354 5.24868 16.6177C5.23064 16.5 5.24078 16.3797 5.27828 16.2667L8.28583 7.24404C8.31707 7.15037 8.36646 7.06376 8.43117 6.98917C8.49588 6.91458 8.57465 6.85346 8.66298 6.80932C8.75131 6.76517 8.84747 6.73885 8.94597 6.73186C9.04447 6.72488 9.14338 6.73736 9.23706 6.76861C9.33074 6.79985 9.41734 6.84923 9.49193 6.91394C9.56652 6.97865 9.62764 7.05742 9.67179 7.14575C9.71594 7.23408 9.74225 7.33024 9.74924 7.42874C9.75622 7.52725 9.74374 7.62616 9.7125 7.71983L6.70497 16.7425C6.65503 16.8922 6.55927 17.0223 6.43124 17.1146C6.30322 17.2068 6.14941 17.2565 5.99161 17.2564Z" fill="white"></path><path d="M15.0143 17.2564C14.8952 17.2563 14.7778 17.2278 14.6719 17.1735C14.5659 17.1191 14.4743 17.0404 14.4047 16.9438C14.3351 16.8472 14.2894 16.7354 14.2713 16.6177C14.2533 16.5 14.2634 16.3797 14.3009 16.2667L17.3084 7.24403C17.3724 7.05596 17.5082 6.90085 17.6862 6.81258C17.8641 6.7243 18.0698 6.71003 18.2583 6.77288C18.4467 6.83572 18.6026 6.97058 18.692 7.148C18.7813 7.32543 18.7968 7.53099 18.7351 7.71982L15.7276 16.7425C15.6777 16.8921 15.5819 17.0223 15.4539 17.1146C15.3258 17.2068 15.1721 17.2564 15.0143 17.2564Z" fill="white"></path><path d="M121.07 6.76392C119.841 6.76509 118.774 7.06461 118.08 7.7184V7.51503C118.079 7.31641 117.999 7.12633 117.858 6.9863C117.717 6.84628 117.527 6.76769 117.328 6.76769C117.129 6.76769 116.939 6.84628 116.798 6.9863C116.657 7.12633 116.577 7.31641 116.576 7.51503V16.5409C116.577 16.7395 116.657 16.9296 116.798 17.0696C116.939 17.2097 117.129 17.2883 117.328 17.2883C117.527 17.2883 117.717 17.2097 117.858 17.0696C117.999 16.9296 118.079 16.7395 118.08 16.5409V11.5631C118.08 9.33085 118.82 8.27054 121.05 8.26761C121.246 8.25942 121.432 8.17915 121.573 8.04217C121.713 7.90519 121.798 7.72114 121.812 7.52532C121.813 7.42648 121.795 7.32827 121.759 7.23637C121.723 7.14447 121.668 7.0607 121.599 6.9899C121.53 6.9191 121.448 6.86268 121.357 6.82389C121.266 6.7851 121.168 6.76472 121.07 6.76392Z" fill="white"></path><path d="M38.553 17.2928C38.3988 17.2928 38.2484 17.2453 38.1221 17.1569C37.9958 17.0686 37.8997 16.9435 37.8468 16.7987L35.2717 9.74276L32.7578 16.7935C32.7199 16.9482 32.6273 17.084 32.4972 17.1758C32.367 17.2676 32.208 17.3091 32.0496 17.2928C31.8954 17.2928 31.745 17.2453 31.6187 17.1569C31.4924 17.0686 31.3963 16.9435 31.3434 16.7987L28.0507 7.77647C28.0167 7.68367 28.0012 7.58506 28.0053 7.4863C28.0094 7.38753 28.033 7.29055 28.0746 7.20089C28.1162 7.11123 28.1751 7.03066 28.2479 6.96379C28.3207 6.89692 28.406 6.84505 28.4989 6.81117C28.5917 6.77729 28.6904 6.76205 28.7891 6.76633C28.8879 6.77061 28.9848 6.79432 29.0744 6.8361C29.164 6.87788 29.2444 6.93692 29.3112 7.00984C29.3779 7.08276 29.4296 7.16812 29.4634 7.26104L32.0416 14.3251L34.5265 7.35586C34.5539 7.23237 34.612 7.11778 34.6954 7.0227C34.7788 6.92762 34.8849 6.85513 35.0038 6.81194C35.1227 6.76875 35.2505 6.75626 35.3755 6.77561C35.5005 6.79497 35.6186 6.84556 35.7189 6.92269C35.8459 7.02055 35.9388 7.15593 35.9844 7.3096L38.545 14.3252L41.0606 7.27002C41.0938 7.17702 41.1449 7.09147 41.2112 7.01824C41.2774 6.94502 41.3574 6.88555 41.4466 6.84325C41.5358 6.80094 41.6325 6.77662 41.7311 6.77168C41.8297 6.76673 41.9283 6.78126 42.0213 6.81443C42.1143 6.84759 42.1999 6.89875 42.2731 6.96499C42.3463 7.03122 42.4058 7.11122 42.4481 7.20043C42.4904 7.28965 42.5147 7.38632 42.5197 7.48493C42.5246 7.58354 42.5101 7.68216 42.4769 7.77515L39.2614 16.7937C39.2187 16.9457 39.1249 17.0783 38.9959 17.1692C38.8669 17.2601 38.7105 17.3038 38.553 17.2928Z" fill="white"></path><path d="M49.4924 6.76319C48.442 6.72516 47.4125 7.064 46.59 7.7185V3.00393C46.5888 2.80531 46.5091 2.61523 46.3682 2.47521C46.2273 2.33519 46.0368 2.25659 45.8382 2.25659C45.6395 2.25659 45.449 2.33519 45.3081 2.47521C45.1672 2.61523 45.0875 2.80531 45.0863 3.00393V16.5409C45.0875 16.7396 45.1672 16.9296 45.3081 17.0697C45.449 17.2097 45.6395 17.2883 45.8382 17.2883C46.0368 17.2883 46.2273 17.2097 46.3682 17.0697C46.5091 16.9296 46.5888 16.7396 46.59 16.5409V10.9439C46.5922 10.67 46.694 8.26683 49.4924 8.26683C51.9804 8.26683 52.0758 10.6083 52.0784 10.8719V16.5408C52.0784 16.7402 52.1576 16.9314 52.2986 17.0724C52.4396 17.2134 52.6308 17.2926 52.8302 17.2926C53.0296 17.2926 53.2209 17.2134 53.3619 17.0724C53.5029 16.9314 53.5821 16.7402 53.5821 16.5408V10.8719C53.5821 9.45049 52.7275 6.76319 49.4924 6.76319Z" fill="white"></path><path d="M73.7634 15.7891C72.4936 15.7891 71.9987 15.2318 71.9987 13.8008V8.2669H73.7634C73.9628 8.2669 74.154 8.18769 74.295 8.04669C74.436 7.90569 74.5152 7.71446 74.5152 7.51505C74.5152 7.31565 74.436 7.12442 74.295 6.98342C74.154 6.84242 73.9628 6.76321 73.7634 6.76321H71.9987V5.12514C71.9987 4.92574 71.9195 4.7345 71.7785 4.5935C71.6375 4.45251 71.4462 4.37329 71.2468 4.37329C71.0474 4.37329 70.8562 4.45251 70.7152 4.5935C70.5742 4.7345 70.495 4.92574 70.495 5.12514V6.76321H69.3191C69.1197 6.76321 68.9285 6.84242 68.7875 6.98342C68.6465 7.12442 68.5673 7.31565 68.5673 7.51505C68.5673 7.71446 68.6465 7.90569 68.7875 8.04669C68.9285 8.18769 69.1197 8.2669 69.3191 8.2669H70.495V13.8008C70.495 16.8392 72.5427 17.2928 73.7633 17.2928C73.9627 17.2928 74.1539 17.2136 74.2949 17.0726C74.4359 16.9316 74.5151 16.7403 74.5151 16.5409C74.5151 16.3415 74.4359 16.1503 74.2949 16.0093C74.1539 15.8683 73.9627 15.7891 73.7633 15.7891H73.7634Z" fill="white"></path><path d="M81.0129 17.6474C80.0152 17.6444 79.0552 17.2655 78.3242 16.5864C77.5933 15.9072 77.1451 14.9776 77.069 13.9827C77.0555 13.7843 77.1211 13.5885 77.2515 13.4384C77.3819 13.2882 77.5665 13.1958 77.7649 13.1814C77.9633 13.1671 78.1593 13.2319 78.31 13.3617C78.4607 13.4915 78.5539 13.6757 78.569 13.8741C78.6042 14.3497 78.7775 14.8048 79.0675 15.1834C79.3576 15.5621 79.7518 15.8478 80.2019 16.0057C80.652 16.1635 81.1384 16.1866 81.6014 16.0721C82.0644 15.9575 82.4839 15.7104 82.8085 15.3609C83.1331 15.0114 83.3486 14.5748 83.4287 14.1046C83.5087 13.6344 83.4498 13.1511 83.2592 12.7138C83.0686 12.2766 82.7545 11.9045 82.3555 11.6432C81.9565 11.3819 81.4899 11.2427 81.0129 11.2427C80.9142 11.2427 80.8164 11.2232 80.7252 11.1855C80.634 11.1477 80.5511 11.0923 80.4813 11.0225C80.4115 10.9527 80.3561 10.8698 80.3183 10.7786C80.2805 10.6873 80.2611 10.5896 80.2611 10.4908C80.2611 10.3921 80.2805 10.2943 80.3183 10.2031C80.3561 10.1119 80.4115 10.029 80.4813 9.95921C80.5511 9.88939 80.634 9.83401 80.7252 9.79623C80.8164 9.75844 80.9142 9.739 81.0129 9.739C81.4056 9.73905 81.7898 9.62449 82.1184 9.40937C82.447 9.19426 82.7056 8.88793 82.8626 8.52796C83.0196 8.16799 83.0681 7.77002 83.0023 7.38287C82.9364 6.99572 82.759 6.6362 82.4917 6.34842C82.2245 6.06063 81.8791 5.85709 81.4979 5.76274C81.1167 5.6684 80.7162 5.68735 80.3456 5.81729C79.975 5.94722 79.6504 6.18248 79.4116 6.49423C79.1727 6.80597 79.03 7.18063 79.001 7.57228C78.9859 7.77066 78.8928 7.95496 78.7421 8.08482C78.5914 8.21469 78.3953 8.27953 78.1969 8.26516C77.9985 8.25078 77.8138 8.15836 77.6834 8.00812C77.5529 7.85789 77.4874 7.66209 77.501 7.46361C77.5433 6.88253 77.7291 6.32101 78.0417 5.82938C78.3543 5.33776 78.7841 4.93137 79.2924 4.64666C79.8007 4.36194 80.3717 4.20779 80.9542 4.19801C81.5368 4.18823 82.1126 4.32313 82.6302 4.59062C83.1478 4.85812 83.5909 5.24984 83.9199 5.7307C84.2488 6.21156 84.4533 6.76652 84.5151 7.34586C84.5769 7.92519 84.4939 8.5108 84.2737 9.05019C84.0535 9.58959 83.7029 10.0659 83.2533 10.4365C83.9486 10.9145 84.4727 11.6024 84.749 12.3996C85.0254 13.1968 85.0394 14.0614 84.789 14.8672C84.5387 15.6729 84.0371 16.3774 83.3577 16.8776C82.6782 17.3779 81.8566 17.6476 81.0128 17.6474L81.0129 17.6474Z" fill="white"></path><path d="M97.7745 17.2928C97.6203 17.2927 97.4699 17.2453 97.3436 17.1569C97.2173 17.0685 97.1212 16.9434 97.0683 16.7986L94.4929 9.74271L91.9792 16.7935C91.9272 16.9391 91.8316 17.0651 91.7054 17.1545C91.5792 17.2438 91.4286 17.2921 91.274 17.2928H91.2711C91.1169 17.2927 90.9665 17.2453 90.8402 17.1569C90.7138 17.0685 90.6177 16.9435 90.5648 16.7987L87.2719 7.77644C87.204 7.58921 87.2131 7.38267 87.2973 7.20216C87.3815 7.02165 87.5339 6.88193 87.721 6.81365C87.9081 6.74538 88.1146 6.75415 88.2953 6.83802C88.476 6.92189 88.6159 7.07402 88.6846 7.26101L91.2628 14.325L93.7476 7.3558C93.775 7.23232 93.8331 7.11773 93.9165 7.02266C94 6.92758 94.106 6.8551 94.2249 6.81191C94.3438 6.76872 94.4717 6.75622 94.5967 6.77558C94.7216 6.79493 94.8397 6.84551 94.94 6.92263C95.067 7.02049 95.1599 7.15587 95.2055 7.30955L97.7662 14.3252L100.282 7.26996C100.315 7.17697 100.366 7.09141 100.432 7.01819C100.499 6.94496 100.579 6.8855 100.668 6.84319C100.757 6.80089 100.854 6.77657 100.952 6.77162C101.051 6.76668 101.149 6.7812 101.242 6.81437C101.335 6.84754 101.421 6.8987 101.494 6.96493C101.567 7.03116 101.627 7.11117 101.669 7.20038C101.712 7.28959 101.736 7.38626 101.741 7.48487C101.746 7.58349 101.731 7.6821 101.698 7.7751L98.4828 16.7937C98.4308 16.9392 98.3352 17.0653 98.209 17.1546C98.0829 17.2439 97.9322 17.2922 97.7776 17.2929L97.7745 17.2928Z" fill="white"></path><path d="M108.707 17.2928C107.666 17.2928 106.648 16.9841 105.783 16.4058C104.917 15.8275 104.243 15.0055 103.844 14.0438C103.446 13.0822 103.342 12.024 103.545 11.003C103.748 9.98213 104.249 9.04436 104.985 8.30832C105.721 7.57229 106.659 7.07104 107.68 6.86797C108.701 6.6649 109.759 6.76913 110.721 7.16747C111.682 7.56581 112.504 8.24038 113.083 9.10587C113.661 9.97136 113.97 10.9889 113.97 12.0298C113.968 13.4251 113.413 14.7628 112.426 15.7495C111.44 16.7361 110.102 17.2911 108.707 17.2928ZM108.707 8.27054C107.963 8.27054 107.236 8.49102 106.618 8.90409C106 9.31717 105.518 9.90428 105.233 10.5912C104.949 11.2781 104.874 12.034 105.02 12.7632C105.165 13.4924 105.523 14.1623 106.048 14.688C106.574 15.2137 107.244 15.5718 107.973 15.7168C108.702 15.8619 109.458 15.7874 110.145 15.5029C110.832 15.2184 111.419 14.7365 111.832 14.1183C112.245 13.5001 112.466 12.7733 112.466 12.0298C112.465 11.0332 112.068 10.0777 111.363 9.37292C110.659 8.66818 109.703 8.27173 108.707 8.27054Z" fill="white"></path><path d="M132.54 2.25208C132.442 2.25205 132.344 2.27147 132.253 2.30925C132.161 2.34702 132.078 2.4024 132.009 2.47222C131.939 2.54204 131.883 2.62494 131.846 2.71617C131.808 2.8074 131.788 2.90518 131.788 3.00392V8.28185C131.335 7.80577 130.79 7.42616 130.187 7.16582C129.583 6.90548 128.933 6.76978 128.276 6.76685C125.51 6.76685 123.26 9.12814 123.26 12.0298C123.26 14.9315 125.51 17.2928 128.276 17.2928C128.933 17.2898 129.583 17.1541 130.187 16.8938C130.79 16.6335 131.335 16.2539 131.788 15.7778V16.5409C131.79 16.7395 131.869 16.9296 132.01 17.0696C132.151 17.2097 132.342 17.2883 132.54 17.2883C132.739 17.2883 132.929 17.2097 133.07 17.0696C133.211 16.9296 133.291 16.7395 133.292 16.5409V3.00392C133.292 2.90518 133.273 2.8074 133.235 2.71617C133.197 2.62494 133.142 2.54205 133.072 2.47223C133.002 2.40241 132.919 2.34703 132.828 2.30925C132.737 2.27148 132.639 2.25205 132.54 2.25208ZM128.276 15.7891C126.339 15.7891 124.763 14.1026 124.763 12.0298C124.763 9.95707 126.339 8.27055 128.276 8.27055C130.213 8.27055 131.788 9.95709 131.788 12.0298C131.788 14.1025 130.213 15.7891 128.276 15.7891Z" fill="white"></path><path d="M65.2198 6.76685C65.121 6.76682 65.0233 6.78625 64.932 6.82402C64.8408 6.86179 64.7579 6.91717 64.6881 6.98699C64.6183 7.05681 64.5629 7.13971 64.5251 7.23094C64.4873 7.32217 64.4679 7.41995 64.4679 7.51869V8.29195C64.0141 7.81274 63.4679 7.43053 62.8622 7.16841C62.2565 6.9063 61.6039 6.76973 60.944 6.76696C58.1782 6.76696 55.9277 9.12824 55.9277 12.0299C55.9277 14.9316 58.1782 17.2929 60.944 17.2929C61.6039 17.2901 62.2565 17.1535 62.8622 16.8914C63.4679 16.6293 64.0141 16.2471 64.4679 15.7679C64.4679 15.7679 64.5239 15.6286 64.4679 16.541C64.4691 16.7396 64.5489 16.9297 64.6897 17.0697C64.8306 17.2098 65.0212 17.2884 65.2198 17.2884C65.4184 17.2884 65.609 17.2098 65.7498 17.0697C65.8907 16.9297 65.9704 16.7396 65.9716 16.541V7.51869C65.9717 7.41995 65.9522 7.32217 65.9145 7.23095C65.8767 7.13972 65.8213 7.05682 65.7515 6.987C65.6817 6.91718 65.5988 6.8618 65.5075 6.82403C65.4163 6.78625 65.3185 6.76682 65.2198 6.76685ZM60.944 15.7891C59.0071 15.7891 57.4314 14.1026 57.4314 12.0298C57.4314 9.95706 59.0071 8.27054 60.944 8.27054C62.8809 8.27054 64.4562 9.95709 64.4562 12.0298C64.4562 14.1025 62.8805 15.7891 60.944 15.7891Z" fill="white"></path><path d="M139.541 17.2858C137.975 17.2858 136.683 16.6117 135.997 15.4362C135.899 15.2681 135.865 15.0699 135.902 14.8786C135.939 14.6873 136.044 14.516 136.198 14.3966C136.272 14.3435 136.357 14.307 136.447 14.2894C136.537 14.2719 136.629 14.2738 136.718 14.2949C136.807 14.3161 136.89 14.356 136.962 14.412C137.034 14.4681 137.093 14.5389 137.136 14.6198C137.402 15.016 137.762 15.3408 138.183 15.5657C138.604 15.7907 139.073 15.9089 139.551 15.91C140.807 15.91 141.607 15.3801 141.607 14.5342C141.607 13.6857 140.683 13.3306 139.283 12.6866C137.706 11.9612 136.174 11.4504 136.145 9.54096C136.126 8.26561 137.433 6.88909 139.427 6.76942C140.652 6.69378 141.855 7.17502 142.493 7.85828C142.626 8.00123 142.703 8.18668 142.711 8.38139C142.719 8.57609 142.658 8.7673 142.537 8.92072C142.482 8.99253 142.411 9.05147 142.33 9.09352C142.249 9.13557 142.161 9.15975 142.07 9.16443C141.979 9.1691 141.888 9.15416 141.803 9.12061C141.719 9.08706 141.642 9.03569 141.579 8.96999C140.026 7.51516 137.517 8.20199 137.517 9.54104C137.517 10.3547 138.663 10.8057 139.8 11.3159C140.909 11.8137 143 12.5979 143 14.5344C143 15.7842 141.91 17.2858 139.541 17.2858Z" fill="white"></path></svg>'),d(o,"royalMailLogo",'<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 192.756 192.756"><g fill-rule="evenodd" clip-rule="evenodd"><path fill="#fff" d="M0 0h192.756v192.756H0V0z"/><path fill="#fff" stroke="#ee2722" stroke-width="1.289" stroke-miterlimit="2.613" d="M64.619 33.917h63.613v124.921H64.619V33.917z"/><path d="M94.822 46.76h3.153c-.133-.095-.244-.21-.373-.337-.547-.553-.457-1.183-.234-1.409s.846.038 1.393.59c.139.135.256.276.355.417V42.11a3.465 3.465 0 0 1-.336.393c-.547.553-1.17.815-1.395.59-.223-.226.037-.858.584-1.408.135-.136.262-.255.396-.354h-3.846c.126.093.258.209.381.335.547.549.807 1.182.584 1.408-.224.226-.847-.038-1.394-.59a3.34 3.34 0 0 1-.353-.41v3.896c.095-.13.208-.258.334-.385.547-.553 1.17-.815 1.394-.591.224.226.313.856-.233 1.409a3.122 3.122 0 0 1-.41.357zM93.223 51.035c.3 1.488 1.604 2.612 3.166 2.612 1.564 0 2.869-1.122 3.168-2.612h-6.334zM99.555 49.722a3.263 3.263 0 0 0-2.545-2.548v2.548h2.545zM95.734 47.183a3.248 3.248 0 0 0-2.511 2.539h2.511v-2.539zM95.413 55.044a.98.98 0 0 1 .976-.983c.539 0 .977.441.977.983a.982.982 0 0 1-.977.986.98.98 0 0 1-.976-.986zM95.413 57.515a.98.98 0 0 1 .976-.983c.539 0 .977.441.977.983a.98.98 0 0 1-.977.985.98.98 0 0 1-.976-.985zM95.413 59.989a.98.98 0 0 1 .976-.986c.539 0 .977.441.977.986a.981.981 0 0 1-.977.983.98.98 0 0 1-.976-.983zM95.413 62.46a.98.98 0 0 1 .976-.986c.539 0 .977.44.977.986a.98.98 0 0 1-.977.983.979.979 0 0 1-.976-.983zM95.313 67.959c0-.6.481-1.083 1.076-1.083s1.076.483 1.076 1.083c0 .601-.482 1.087-1.076 1.087s-1.076-.486-1.076-1.087zM112.602 71.102c.377.128.859-.292 1.074-.94.217-.646.084-1.276-.293-1.403-.379-.127-.861.292-1.076.938-.217.648-.084 1.275.295 1.405zM80.176 71.102c-.379.128-.859-.292-1.076-.94-.215-.646-.083-1.276.295-1.403.379-.127.86.292 1.075.938.217.648.085 1.275-.294 1.405zM100.012 52.539a1.44 1.44 0 0 1 1.432-1.445c.789 0 1.428.648 1.428 1.445s-.639 1.442-1.428 1.442a1.436 1.436 0 0 1-1.432-1.442zM103.352 51.083c0-.798.639-1.443 1.428-1.443s1.432.646 1.432 1.443c0 .799-.643 1.445-1.432 1.445s-1.428-.646-1.428-1.445zM106.781 49.847c0-.799.639-1.445 1.43-1.445.789 0 1.43.646 1.43 1.445 0 .797-.641 1.443-1.43 1.443a1.435 1.435 0 0 1-1.43-1.443zM110.395 49.722c0-.797.641-1.445 1.43-1.445s1.43.648 1.43 1.445c0 .798-.641 1.445-1.43 1.445s-1.43-.647-1.43-1.445zM113.703 51.146c0-.797.639-1.445 1.43-1.445.789 0 1.428.648 1.428 1.445s-.639 1.443-1.428 1.443c-.791 0-1.43-.645-1.43-1.443zM116.02 54c0-.8.639-1.445 1.428-1.445s1.432.646 1.432 1.445c0 .796-.643 1.443-1.432 1.443s-1.428-.646-1.428-1.443zM116.863 57.52c0-.797.639-1.445 1.428-1.445.793 0 1.43.648 1.43 1.445 0 .798-.637 1.443-1.43 1.443a1.435 1.435 0 0 1-1.428-1.443zM116.674 61.134c0-.797.639-1.442 1.428-1.442s1.432.646 1.432 1.442-.643 1.445-1.432 1.445-1.428-.648-1.428-1.445zM115.73 64.593c0-.797.639-1.442 1.43-1.442.789 0 1.428.645 1.428 1.442 0 .797-.639 1.445-1.428 1.445-.791 0-1.43-.648-1.43-1.445zM89.915 52.539c0-.797.639-1.445 1.428-1.445s1.43.648 1.43 1.445-.641 1.442-1.43 1.442-1.428-.645-1.428-1.442zM86.574 51.083c0-.798.642-1.443 1.431-1.443s1.428.646 1.428 1.443c0 .799-.639 1.445-1.428 1.445a1.438 1.438 0 0 1-1.431-1.445zM83.145 49.847c0-.799.639-1.445 1.428-1.445.792 0 1.431.646 1.431 1.445 0 .797-.639 1.443-1.431 1.443a1.435 1.435 0 0 1-1.428-1.443zM79.532 49.722c0-.797.639-1.445 1.428-1.445.789 0 1.43.648 1.43 1.445 0 .798-.642 1.445-1.43 1.445a1.436 1.436 0 0 1-1.428-1.445zM76.224 51.146c0-.797.639-1.445 1.428-1.445.789 0 1.43.648 1.43 1.445s-.642 1.443-1.43 1.443a1.435 1.435 0 0 1-1.428-1.443zM73.907 54c0-.8.642-1.445 1.43-1.445.79 0 1.429.646 1.429 1.445 0 .796-.639 1.443-1.429 1.443-.788 0-1.43-.646-1.43-1.443zM73.063 57.52c0-.797.639-1.445 1.427-1.445.792 0 1.431.648 1.431 1.445 0 .798-.639 1.443-1.431 1.443a1.434 1.434 0 0 1-1.427-1.443zM73.252 61.134c0-.797.639-1.442 1.431-1.442.789 0 1.428.646 1.428 1.442s-.639 1.445-1.428 1.445a1.438 1.438 0 0 1-1.431-1.445zM74.196 64.593c0-.797.639-1.442 1.428-1.442.792 0 1.431.645 1.431 1.442 0 .797-.639 1.445-1.431 1.445a1.437 1.437 0 0 1-1.428-1.445z" fill="#ee2722"/><path d="M83.921 65.791c-.427.292-.853 1.942.684 3.202.3-.696.644-.766.965-.696s.573.242.747.898l2.159-.167c.034-.568.287-.94.791-1.078.46-.085.873.138 1.218.672.316-.938.371-2.144.05-2.827l2.215-.003v4.676c1.052-1.802 2.545-2.009 2.682-.5.121 1.318-1.494 2.785-3.032 2.785s-2.595-.654-3.676-2.349l-2.16.167c-.389 1.299-2.411 2.574-4.294 1.903-.91-.325-1.548-.814-1.333-1.393.252-.671 1.094-.125 1.725.117 0 0-.896-2.994-1.333-4.272-.116.348-.645 1.626-1.333 1.23-.374-.212-.134-1.092.294-2.359l3.631-.006zm1.617 0c.129.327.284.659.468.996-.439-.536-.808-.839-1.117-.991l.649-.005zm3.169 0a3.236 3.236 0 0 0-.589.879c.066-.313.122-.605.166-.876l.423-.003zm6.232 0c.25.428.313.8.126.979-.3.284-1.134-.048-1.865-.744a5.004 5.004 0 0 1-.23-.234h1.969v-.001zm4.875 0a4.18 4.18 0 0 1-.23.234c-.73.696-1.564 1.028-1.865.744-.186-.179-.123-.551.127-.976l1.968-.002zm2.428 0c-.32.686-.266 1.892.051 2.83.344-.534.756-.757 1.217-.672.506.138.758.51.791 1.078l2.16.167c.172-.656.426-.829.746-.898s.666 0 .965.696c1.535-1.26 1.111-2.91.684-3.202h3.641c.428 1.272.668 2.152.295 2.365-.689.396-1.219-.882-1.334-1.23-.438 1.278-1.334 4.272-1.334 4.272.631-.242 1.471-.789 1.727-.117.215.579-.424 1.068-1.334 1.393-1.883.671-3.904-.604-4.297-1.903l-2.158-.167c-1.08 1.694-2.137 2.349-3.676 2.349-1.537 0-3.152-1.467-3.031-2.785.137-1.509 1.631-1.302 2.682.5v-4.676h2.205zm2.252 0c.045.274.1.566.164.879a3.176 3.176 0 0 0-.588-.876l.424-.003zm3.395 0c-.311.157-.68.46-1.117.996.184-.337.338-.669.467-.993l.65-.003z" fill="#ee2722"/><path d="M80.29 65.791c.092-.273.197-.571.303-.884l-2.31.706s-1.793-2.473-1.961-6.761c-.253-6.361 4.086-7.429 5.992-7.45 2.046-.024 2.988.51 4.871 1.254 1.885.741 3.193 1.854 6.913 2.274l-.252 1.854c-3.766 0-7.303-2.705-10.819-2.729-3.882-.026-4.41 3.89-4.362 5.096.044 1.206.113 2.484.917 4.18.16-.976.866-3.925 1.907-4.435 2.916-1.207 5.835-.186 5.835-.186 3.353-1.044 6.177-1.044 6.177-1.044l.013-3.853 1.31-.544v10.478h3.137V53.27l1.311.544.012 3.853s2.824 0 6.178 1.044c0 0 2.92-1.021 5.836.186 1.125.51 1.746 3.459 1.906 4.435.805-1.695.873-2.974.918-4.18.047-1.206-.482-5.122-4.363-5.096-3.516.024-7.053 2.729-10.818 2.729l-.252-1.854c3.721-.42 5.027-1.533 6.914-2.274 1.883-.744 2.822-1.278 4.867-1.254 1.908.021 6.248 1.089 5.994 7.45-.17 4.289-1.961 6.761-1.961 6.761l-2.309-.706c.105.313.207.611.303.89l-3.641-.005a.112.112 0 0 0-.039-.023c-.242-.117-.541-.163-.928.029l-.65-.005c.824-2.096.459-3.871-.996-5.037-1.799 1.671-2.164 2.572-1.748 5.04l-.424-.003c-.305-.31-.695-.56-1.137-.536-.318.018-.545.223-.691.539l-2.207-.003v-.265c-.068.09-.141.178-.221.265h-1.969c.152-.255.375-.536.652-.8.182-.172.35-.324.533-.446h-5.278c.184.122.353.273.534.446.276.264.5.542.652.803l-1.969-.003a3.83 3.83 0 0 1-.221-.265v.265h-2.215c-.147-.313-.374-.518-.692-.536-.441-.024-.831.226-1.136.539l-.423-.003c.416-2.465.051-3.366-1.748-5.037-1.455 1.166-1.82 2.94-.998 5.04l-.649-.003c-.387-.186-.684-.141-.928-.023a.164.164 0 0 0-.04.023h-3.63v-.003zM111.732 75.43l.277-2.702s-1 1.079-2.746 1.034c-1.746-.049-3.318-1.313-4.008-2.333-.139-.231-.334-.244-.484.011-1.057 1.44-1.998 2.495-4.57 2.495s-3.536-1.623-3.857-2.088c-.324.465-1.288 2.088-3.861 2.088-2.571 0-3.513-1.055-4.57-2.495-.15-.254-.345-.242-.484-.011-.688 1.021-2.262 2.285-4.007 2.333-1.747.045-2.746-1.034-2.746-1.034l.276 2.702h30.78zM81.504 82.952c-1.102 0-1.996-.851-1.996-1.899 0-1.05.895-1.899 1.996-1.899h29.675c1.105 0 2 .85 2 1.899s-.895 1.899-2 1.899H81.504zM83.595 78.39v-2.16h-2.643l-.917 1.068.917 1.092h2.643zM85.999 77.312c0-.651 1.042-1.18 2.322-1.18 1.283 0 2.324.529 2.324 1.18 0 .65-1.042 1.177-2.324 1.177-1.281 0-2.322-.527-2.322-1.177zM109.09 78.39v-2.16h2.642l.918 1.068-.918 1.092h-2.642zM102.043 77.312c0-.651 1.037-1.18 2.322-1.18 1.281 0 2.322.529 2.322 1.18 0 .65-1.041 1.177-2.322 1.177-1.285 0-2.322-.527-2.322-1.177zM93.424 76.23h5.836v2.158h-5.836V76.23zM2.834 91.552h187.088v46.37H2.834v-46.37z" fill="#ee2722"/><path d="M168.279 99.246c-1.213 0-2.195.994-2.195 2.221 0 1.225.982 2.223 2.195 2.223 1.215 0 2.199-.998 2.199-2.223a2.209 2.209 0 0 0-2.199-2.221zm0 2.9a.678.678 0 0 1-.674-.68c0-.377.303-.68.674-.68.373 0 .676.303.676.68 0 .376-.303.68-.676.68zM49.792 108.154a9.78 9.78 0 0 0-7-2.93c-5.457 0-9.896 4.486-9.896 10a9.99 9.99 0 0 0 2.898 7.07 9.779 9.779 0 0 0 6.997 2.93 9.78 9.78 0 0 0 7-2.93c1.87-1.891 2.898-4.4 2.898-7.07s-1.026-5.181-2.897-7.07zm-1.209 12.92a8.094 8.094 0 0 1-5.791 2.42 8.088 8.088 0 0 1-5.788-2.42 8.262 8.262 0 0 1-2.399-5.85c0-4.562 3.674-8.271 8.187-8.271 2.188 0 4.244.859 5.791 2.424a8.257 8.257 0 0 1 2.398 5.848 8.258 8.258 0 0 1-2.398 5.849z" fill="#fff"/><path d="M48.121 109.844a7.442 7.442 0 0 0-5.328-2.229 7.441 7.441 0 0 0-5.325 2.229 7.6 7.6 0 0 0-2.207 5.381c0 2.031.784 3.941 2.207 5.379a7.44 7.44 0 0 0 5.325 2.23c4.155 0 7.535-3.414 7.535-7.609a7.605 7.605 0 0 0-2.207-5.381zm-5.329 11.263a5.75 5.75 0 0 1-4.116-1.723c-1.099-1.113-1.706-2.59-1.706-4.16s.607-3.047 1.706-4.16a5.755 5.755 0 0 1 4.116-1.723c1.557 0 3.019.611 4.118 1.723a5.882 5.882 0 0 1 1.707 4.16c0 3.245-2.613 5.883-5.825 5.883zM69.382 105.801v17.469a6.492 6.492 0 0 1-1.886 4.596 6.35 6.35 0 0 1-4.549 1.906 6.369 6.369 0 0 1-4.55-1.906 6.483 6.483 0 0 1-1.72-3.154h-1.743a8.212 8.212 0 0 0 2.256 4.377 8.043 8.043 0 0 0 5.757 2.41c2.177 0 4.22-.855 5.759-2.41s2.385-3.619 2.385-5.818v-17.469h-1.709v-.001z" fill="#fff"/><path d="M62.947 123.631a7.733 7.733 0 0 0 4.068-1.17v.809c0 2.266-1.825 4.109-4.068 4.109a4.024 4.024 0 0 1-2.877-1.203 4.112 4.112 0 0 1-.923-1.465h-1.793a5.803 5.803 0 0 0 1.51 2.688 5.708 5.708 0 0 0 4.083 1.711c3.188 0 5.78-2.621 5.78-5.84v-5.223a6.965 6.965 0 0 1-1.352 1.957c-1.212 1.225-2.785 1.9-4.428 1.9a6.373 6.373 0 0 1-4.55-1.902 6.498 6.498 0 0 1-1.883-4.598V105.8h-1.709v9.604a8.21 8.21 0 0 0 2.385 5.816 8.044 8.044 0 0 0 5.757 2.411z" fill="#fff"/><path d="M58.863 119.531a5.7 5.7 0 0 0 4.083 1.711c3.132 0 5.78-2.787 5.78-6.084v-9.357h-1.711v9.357c0 2.322-1.898 4.357-4.068 4.357a4.025 4.025 0 0 1-2.877-1.205 4.108 4.108 0 0 1-1.191-2.906V105.8H57.17v9.604a5.823 5.823 0 0 0 1.693 4.127zM98.674 99.699h1.709v25.01h-1.709v-25.01zM96.307 99.699h1.709v25.01h-1.709v-25.01zM168.598 105.781h1.709v18.93h-1.709v-18.93zM166.23 105.781h1.709v18.93h-1.709v-18.93zM176.342 99.699h1.709v25.01h-1.709v-25.01zM173.979 99.699h1.709v25.01h-1.709v-25.01zM78.22 110.248c-1.378 1.393-2.138 3.244-2.138 5.213s.759 3.82 2.138 5.213a7.199 7.199 0 0 0 5.159 2.16c4.024 0 7.298-3.309 7.298-7.373v-7.373h-7.298a7.206 7.206 0 0 0-5.159 2.16zm10.748 5.213c0 3.113-2.506 5.646-5.588 5.646a5.522 5.522 0 0 1-3.95-1.654c-1.054-1.066-1.638-2.482-1.638-3.992s.584-2.926 1.638-3.994a5.53 5.53 0 0 1 3.95-1.652h5.588v5.646z" fill="#fff"/><path d="M83.379 105.697c-5.328 0-9.662 4.381-9.662 9.764a9.743 9.743 0 0 0 2.83 6.902 9.552 9.552 0 0 0 6.832 2.861 9.536 9.536 0 0 0 5.588-1.807v1.293h1.709v-6.059a8.01 8.01 0 0 1-1.673 2.492 7.869 7.869 0 0 1-5.625 2.35 7.862 7.862 0 0 1-5.622-2.35 8.035 8.035 0 0 1-2.33-5.684c0-4.432 3.568-8.035 7.952-8.035h7.952v17.285h1.712v-19.014h-9.663v.002zM147.996 110.248c-1.377 1.393-2.137 3.244-2.137 5.213s.76 3.82 2.137 5.213a7.204 7.204 0 0 0 5.16 2.16c4.023 0 7.297-3.309 7.297-7.373v-7.373h-7.297a7.208 7.208 0 0 0-5.16 2.16zm10.748 5.213c0 3.113-2.506 5.646-5.588 5.646a5.516 5.516 0 0 1-3.949-1.654c-1.059-1.066-1.639-2.482-1.639-3.992s.58-2.926 1.639-3.994a5.522 5.522 0 0 1 3.949-1.652h5.588v5.646z" fill="#fff"/><path d="M153.156 105.697c-5.328 0-9.662 4.381-9.662 9.764a9.739 9.739 0 0 0 2.83 6.902 9.55 9.55 0 0 0 6.832 2.861 9.536 9.536 0 0 0 5.588-1.807v1.293h1.709v-6.059a8.02 8.02 0 0 1-1.676 2.492 7.856 7.856 0 0 1-5.621 2.35 7.864 7.864 0 0 1-5.623-2.35 8.035 8.035 0 0 1-2.33-5.684c0-4.432 3.568-8.035 7.953-8.035h7.951v17.285h1.709v-19.014h-9.66v.002zM26.638 115.785a7.822 7.822 0 0 0 2.522-1.719c1.626-1.643 2.596-3.986 2.596-6.268a8.372 8.372 0 0 0-2.407-5.84c-1.503-1.518-3.463-2.322-5.667-2.322h-8.667v25.037h1.709v-23.309h6.958c1.741 0 3.282.629 4.458 1.816 1.194 1.205 1.906 2.932 1.906 4.617 0 1.807-.805 3.74-2.095 5.045-1.149 1.16-2.604 1.777-4.21 1.793l7.023 10.029h2.096l-6.222-8.879z" fill="#fff"/><path d="M22.478 113.979h1.205c3.724 0 5.709-3.59 5.709-6.18 0-1.516-.642-3.066-1.715-4.15-1.049-1.061-2.432-1.621-3.995-1.621h-6.303v22.646h1.712v-20.918h4.591c1.115 0 2.054.373 2.785 1.115a4.252 4.252 0 0 1 1.212 2.928c0 1.867-1.388 4.453-3.997 4.453h-4.509l8.693 12.414h2.096l-7.484-10.687zM138.021 99.705h-1.732l4.412 25.043h1.737l-4.417-25.043zM126.723 114.627l-6.84-14.922h-1.879l8.719 19.033 8.718-19.033h-1.879l-6.839 14.922zM111.008 124.748h1.738l4.412-25.043h-1.744l-4.406 25.043z" fill="#fff"/><path fill="#fff" d="M126.723 120.314l-9.049-19.759-4.264 24.193h1.736l3.258-18.482 8.319 18.162 8.32-18.162 3.254 18.482h1.74l-4.264-24.193-9.05 19.759z"/></g></svg>'),d(o,"afdLogo",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 841 438" width="24px" height="24px" x="0px" y="0px" style="enable-background:new 0 0 841.9 438.9;" xml:space="preserve"><style type="text/css">.st0{fill:#2273B9;}.st1{fill:#10437C;}.st2{fill:#03A29A;}.st3{fill:#878787;}</style><g><path class="st0" d="M652,199.7c7.1,6.7,18.2,6.7,25.3-0.1L765,115c-0.8-4.6-4.8-8.1-9.6-8.1H574.2c-5,0-9.1,3.8-9.7,8.7L652,199.7z"/><g><path class="st1" d="M567.9,249.8l56.7-56.9l-60.1-57.8v107.3C564.4,245.4,565.8,248,567.9,249.8z"/><path class="st1" d="M762,249.6c1.9-1.8,3.2-4.3,3.2-7.2V134.5l-60.2,58.2L762,249.6z"/></g><path class="st2" d="M755.4,252.2c2.6,0,4.9-1,6.6-2.6l-57-56.8l-17.8,17.2c-6.3,6-14.4,9-22.5,9c-8.1,0-16.1-3-22.4-9l-17.7-17l-56.7,56.9c1.7,1.5,3.9,2.4,6.3,2.4L755.4,252.2L755.4,252.2z"/><g><path class="st0" d="M670.1,344.5l-170.9-0.7V172.3c0-94.2,76.7-170.9,170.9-170.9c94.2,0,170.9,76.7,170.9,170.9C840.9,267.2,764.3,344.5,670.1,344.5z M513.2,329.9l156.9,0.6c86.5,0,156.8-71,156.8-158.2c0-86.5-70.4-156.9-156.9-156.9c-86.5,0-156.9,70.4-156.9,156.9L513.2,329.9L513.2,329.9z"/></g><g><path class="st0" d="M127.8,211.9c-13.4-11.1-30.6-17.8-49.3-17.8C35.7,194.1,1,228.8,1,271.6s34.8,77.5,77.5,77.5c18.7,0,35.9-6.7,49.3-17.8v13.3H156V192.2h-28.1V211.9z M78.5,320.9c-27.2,0-49.3-22.1-49.3-49.3s22.1-49.4,49.3-49.4s49.4,22.1,49.4,49.4S105.7,320.9,78.5,320.9z"/><path class="st0" d="M275.7,166.7l1.5-28.3c-28.6-1.5-51,5.3-66.6,20c-14.4,13.7-22.5,33.7-23.8,59.6l0,0v126.6h28.1v-98.5H277V218h-61.7c1.1-17.6,6.1-30.7,14.8-39C239.8,169.7,255.1,165.6,275.7,166.7z"/><path class="st0" d="M444,138.6v-0.7h-28.1v74c-13.4-11.1-30.6-17.8-49.4-17.8c-42.7,0-77.5,34.8-77.5,77.5s34.8,77.5,77.5,77.5c18.9,0,36.1-6.8,49.6-18v13.5h28L444,138.6L444,138.6z M366.5,320.9c-27.2,0-49.4-22.1-49.4-49.3s22.1-49.4,49.4-49.4c27.2,0,49.4,22.1,49.4,49.4C415.8,298.8,393.7,320.9,366.5,320.9z"/></g><g><path class="st3" d="M37,437.5c-10.3,0-17.6-5.8-17.8-14.2h7.2c0.4,4.3,3.5,8.6,10.6,8.6c6.5,0,10.3-3.7,10.3-8.6c0-13.9-27.8-5-27.8-24.1c0-8.5,6.9-14.2,17-14.2c9.8,0,16.2,5.4,17,13.2h-7.4c-0.4-3.5-3.7-7.4-10-7.4c-5.5-0.1-9.9,2.7-9.9,8.3c0,13.3,27.7,5,27.7,24C54.1,430.3,48.1,437.5,37,437.5z"/><path class="st3" d="M94.6,437.5c-14.5,0-25.8-10.8-25.8-26.2c0-15.4,11.4-26.2,25.8-26.2c14.5,0,25.8,10.8,25.8,26.2C120.4,426.7,109.1,437.5,94.6,437.5z M94.6,431.7c10.8,0,19-7.9,19-20.4c0-12.6-8.1-20.4-19-20.4s-19,7.8-19,20.4C75.7,423.8,83.8,431.7,94.6,431.7z"/><path class="st3" d="M136.7,385.6h29.1v5.5h-22.3v17.3h18.1v5.5h-18.1V437h-6.7L136.7,385.6L136.7,385.6z"/><path class="st3" d="M178,385.6h34.8v5.5h-14V437h-6.7v-45.9H178L178,385.6L178,385.6z"/><path class="st3" d="M224.5,385.6h7.2l11.2,43.6l12.4-43.6h7.5l11.8,43.4l11.3-43.4h7.2L278.2,437h-7.5l-11.9-41.4L246.3,437l-7.4,0.1L224.5,385.6z"/><path class="st3" d="M338.2,425.6h-22.4l-4.1,11.4h-7.1l18.6-51.1h7.7l18.5,51.1h-7.1L338.2,425.6z M327,394.2l-9.3,26h18.6L327,394.2z"/><path class="st3" d="M381.4,385.6c12.1,0,17.9,6.7,17.9,15.1c0,6.6-3.6,12.8-12.2,14.7L400,437h-8l-12.2-21h-8.1v21h-6.7v-51.4L381.4,385.6L381.4,385.6z M381.4,391.1h-9.9v19.5h9.9c7.6,0,10.9-4.1,10.9-9.9C392.4,394.9,389.1,391.1,381.4,391.1z"/><path class="st3" d="M444.7,391.1h-20.9v17.2h18.7v5.5h-18.7v17.7h20.9v5.5h-27.6v-51.5h27.6V391.1z"/></g></g></svg>'),o.controlType="typeahead",o.$reverseGeocodeButton=t.siblings(".afd-typeahead-reverse-geocode-button"),o.setFields(),o.uniqueID=o.getUniqueID(),o.setupTypeaheadRequestOptions(),o.typeaheadOptions=o.prepareTypeaheadOptions(),o}return c(e,t),r(e)}(cn(p));function Un(t,n){var i=jQuery,o={};n?o=n:"undefined"!=typeof afdOptions&&(o=afdOptions),o=i.extend(!0,{},e,o);var a=i(this);if((0===o.typeahead.containers.length?i(document):a.closest(o.typeahead.containers.toString())).find('[data-afd-control="typeahead"]').length>1&&console.warn("More than one instance of `typeahead` detected.  If these are in separate containers please define the containers in `afdOptions.typeahead.containers`"),!a.is("input"))throw"<"+a.prop("tagName").toLowerCase()+'> is not a valid tag for `[data-afd-control="typeahead"]`, use <input>';var r=new Gn(a,o);i(document).off("afd:init.afd").on("afd:init.afd",(function(){r.init()})),r.init()}function qn(t,e,n){return e=l(e),s(t,Hn()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function Hn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hn=function(){return!!t})()}var Kn,Wn=jQuery;Kn=navigator.userAgent||navigator.vendor||window.opera,(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Kn)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Kn.substr(0,4));var Zn=function(t){function e(t,i,o){var a;return n(this,e),d(a=qn(this,e,[t,o]),"init",(function(){a.hideResultsElement(a.$resultList,a.options);var t=a.eventHandler;t(a.$button,"click",a.onButtonClick),t(Wn(document),"afd:initFields",a.onAfdInitFields),t(a.$resultList,"keydown",a.onKeyDownResult),t(a.$resultList,"keyup",a.onKeyUpResult),t(a.$resultList,"change",a.onChangeResult),!Wn.browser.mobile&&a.options.reverseGeocode.hideOnDesktop&&(a.options.buttonContainer?a.$button.closest(a.options.buttonContainer).hide():a.$button.hide()),a.$resultList.hide();try{a.initFields()}catch(t){console.error("Error initisalising reverseGeocode controls"),console.error(t)}})),d(a,"setupReverseGeocodeRequestOptions",(function(t,e){a.requestOptions=a.setupParams({data:"address",fields:a.options.reverseGeocode.postcodeFirst?"list":"fflist",task:"nearest",maxquantity:a.options.reverseGeocode.maxItems,longitude:t,latitude:e})})),d(a,"onAfdInitFields",(function(){a.setFields()})),d(a,"onCountryChangedLocal",(function(t){a.checkVisibilityByCountry(t)})),d(a,"checkVisibilityByCountry",(function(t){["gb","gbr","GB","GBR","United Kingdom"].indexOf(t)>-1?(a.$button.show(),a.$container.find('[data-afd-control="reverseGeocode"]').show()):(a.$button.hide(),a.$container.find('[data-afd-control="reverseGeocode"]').hide())})),d(a,"onButtonClick",(function(t){navigator.geolocation.getCurrentPosition((function(t){a.setupReverseGeocodeRequestOptions(t.coords.longitude,t.coords.latitude),Wn.ajax(a.requestOptions).then((function(t){a.results=void 0!==t.Item?t.Item:[],a.populateResultsList()}))}),(function(t){a.$button.hide(),a.$errorField.text("We were unable to get your location from your device.  Search for your address or enter it manually").show(),console.error(t)}))})),a.controlType=a.options.reverseGeocode.linkedControl?a.options.reverseGeocode.linkedControl:"reverseGeocode",a.originalControlType="reverseGeocode",a.$button=t,a.$resultList=i,a.setFields(),a.isReverseGeocode=!0,a}return c(e,t),r(e)}(cn(p));function Qn(t,n){var i=jQuery,o={};n?o=n:"undefined"!=typeof afdOptions&&(o=afdOptions),o=i.extend(!0,{},e,o);var a=i(this),r=0===o.reverseGeocode.containers.length?i(document):a.closest(o.reverseGeocode.containers.toString());if(r.find('[data-afd-control="reverseGeocodeButton"]').length>1)throw"More than one instance of `reverseGeocodeButton` detected.  If these are in separate containers please define the containers in `afdOptions.reverseGeocode.containers";if(!a.is("a, button"))throw"<"+a.prop("tagName").toLowerCase()+"> is not a valid tag for `reverseGeocodeButton`, use either <a> or <button>";var s=r.find('[data-afd-control="reverseGeocodeResultsList"]'),l=r.find('[data-afd-control="reverseGeocodeResultsList"]').length;if(0===l)throw"Could not find an instance of `reverseGeocodeResultsList`.  If afdoptions.[controlType].containers is set have you included the results list inside the supplied container?";if(l>1)throw"More than one instance of `reverseGeocodeResultsList` found";if(!s.is("select, ul"))throw"<"+s.prop("tagName").toLowerCase()+"> is not a valid tag for `reverseGeocodeResultsList`, use <select> or <ul>";var u=new Zn(a,s,o);i(document).off("afd:init.afd").on("afd:init.afd",(function(){u.init()})),u.init()}function Jn(t,e,n){return e=l(e),s(t,Yn()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function Yn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yn=function(){return!!t})()}var Xn=function(e){return function(e){function i(){var e;n(this,i);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return d(e=Jn(this,i,[].concat(a)),"handleInvalid",(function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=i?i[0]:e.$element[0],a=i||e.$element;o.setCustomValidity(n),!0===e.options.nativeValidationMessages&&o.reportValidity(),a.removeClass("afd-valid").addClass("afd-invalid").closest(".iti").addClass("afd-invalid"),a.parent(".form-group").addClass("has-error").removeClass("has-success"),a.parent().addClass("was-validated"),a.siblings(".invalid-feedback").first().html(o.validationMessage),t(document).trigger("afd:validateComplete",{valid:!1,validationMessage:n})})),d(e,"handleValid",(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=n?n[0]:e.$element[0],o=n||e.$element;i.setCustomValidity(""),o.addClass("afd-valid").removeClass("afd-invalid").closest(".iti").removeClass("afd-invalid"),o.parent(".form-group").removeClass("has-error").addClass("has-success"),o.parent().addClass("was-validated"),o.siblings(".invalid-feedback").first().html(i.validationMessage),t(document).trigger("afd:validateComplete",{valid:!0,validationMessage:null})})),d(e,"clearValidation",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?t[0]:e.$element[0],i=t||e.$element;n.setCustomValidity(""),i.parent(".form-group").removeClass("has-error").removeClass("has-success"),i.removeClass("afd-valid").removeClass("afd-invalid").closest(".iti").removeClass("afd-invalid"),i.parent().removeClass("was-validated")})),d(e,"showLoadingSpinner",(function(t,e){e&&t.closest(e).addClass("afd-loading")})),d(e,"hideLoadingSpinner",(function(t,e){e&&t.closest(e).removeClass("afd-loading")})),e}return c(i,e),r(i)}(e)};function ti(t,e,n){return e=l(e),s(t,ei()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function ei(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ei=function(){return!!t})()}var ni=jQuery,ii=function(t){function e(t,i){var o;return n(this,e),d(o=ti(this,e,[t,i]),"init",(function(){o.$element.data("account-is-regex-valid",!1),o.$element.data("account-is-syntax-valid",!1),o.$element.data("account-is-afd-valid",!1),o.$sortCodeElement.data("sort-code-is-regex-valid",!1),o.$sortCodeElement.data("sort-code-is-syntax-valid",!1);var t=o.eventHandler;t(o.$element,"keydown",o.onKeyDown),t(o.$element,"keyup",o.onKeyUp),t(o.$element,"focusout",o.onFocusOut),t(o.$sortCodeElement,"keydown",o.onSortKeyDown),t(o.$sortCodeElement,"input",o.onSortKeyUp),t(o.$sortCodeElement,"focus",o.onSortFocus),t(o.$sortCodeElement,"focusout",o.onSortFocusOut),o.$sortCodeElement.val(o.applySortMask(""))})),d(o,"onKeyDown",(function(t){var e=t.target,n=e.selectionStart;if("Backspace"===t.key&&n>0){n-=1;var i=e.value.substring(0,n-1)+e.value.substring(n);e.value=i,e.setSelectionRange(n-1,n-1),t.preventDefault()}})),d(o,"onFocusOut",(function(){o.checkAccountSyntaxValid();var t=o.$element;o.$element.val(),t.data("account-is-syntax-valid")?o.checkBoth():o.handleInvalid(o.options.account.invalidAccountNumberMessage)})),d(o,"onSortKeyDown",(function(t){var e=t.target,n=e.selectionStart;if("Backspace"===t.key&&n>0){"-"===e.value[n-1]&&(n-=1);var i=e.value.substring(0,n-1)+e.value.substring(n);e.value=o.applySortMask(i),e.setSelectionRange(n-1,n-1),t.preventDefault()}})),d(o,"onSortKeyUp",(function(t){var e=t.target,n=e.selectionStart,i=t.key,a=o.applySortMask(e.value);e.value=a,"Backspace"===i&&"-"===a[n-1]?n-=1:"Delete"===i&&"-"===a[n]?n+=1:n+="-"===a[n-1]?1:0,e.setSelectionRange(n,n)})),d(o,"onSortFocus",(function(t){var e=t.target;ni(e).css({color:"transparent","text-shadow":"0 0 0 #000"}),setTimeout((function(){e.setSelectionRange(0,0),ni(e).css({color:"","text-shadow":""})}),0)})),d(o,"onSortFocusOut",(function(){o.checkSortSyntaxValid();var t=o.$sortCodeElement;t.data("sort-code-is-syntax-valid")?o.checkBoth():(o.handleInvalid(o.options.account.invalidSortCodeMessage,t),o.$element.data("account-is-afd-valid",!1),o.$element.data("account-clearing-system",null),o.$element.data("account-iban",null),o.$element.data("account-roll-number",null),o.$element.data("account-type",null)),ni(document).trigger("afd:accountValidationUpdated",[o.$element.get()[0],t.get()[0]]),o.$element.trigger("afd:accountValidationUpdated",[o.$element,t]),t.trigger("afd:accountValidationUpdated",[o.$element,t])})),d(o,"applySortMask",(function(t){for(var e="99-99-99".split("-"),n="",i=t.replace(/\D/g,"").split(""),o=0;o<e.length;o++){var a=e[o].length,r=i.splice(0,a).join("");r.length<a&&(r+=new Array(a-r.length+1).join(" ")),n+=(0!==o?"-":"")+r}return n})),o.$sortCodeElement=ni('[data-afd-control="sort"]'),o.accountPattern=/^[0-9]{8}$/,o.sortCodePattern=/^[0-9]{2}-[0-9]{2}-[0-9]{2}$/,o}return c(e,t),r(e,[{key:"checkBoth",value:function(){var t=this,e=this.$element,n=e.val(),i=e.data("account-is-syntax-valid"),o=this.$sortCodeElement,a=o.val(),r=o.data("sort-code-is-syntax-valid");i&&r&&(ni(document).trigger("afd:accountValidationStarted",[e,o]),e.trigger("afd:accountValidationStarted",[e,o]),o.trigger("afd:accountValidationStarted",[e,o]),this.showLoadingSpinner(e,this.options.account.loadingSpinner),this.validateAccount(n,a).then((function(n,i,a){if("1"===n.Result){var r=v(n.Item,1)[0];t.handleValid(),t.handleValid(o),e.data("account-is-afd-valid",!0),e.data("account-clearing-system",r.ClearingSystem),e.data("account-iban",r.IBAN),e.data("account-roll-number",r.RollNumber),e.data("account-type",r.TypeOfAccount)}else"-12"===n.Result||"-13"===n.Result?t.handleInvalid(n.ErrorText,o):t.handleInvalid(n.ErrorText);ni(document).trigger("afd:accountValidationSuccess",[n,e,o,a]),e.trigger("afd:accountValidationSuccess",[n,e,o,a]),o.trigger("afd:accountValidationSuccess",[n,e,o,a]),t.hideLoadingSpinner(e,t.options.account.loadingSpinner),ni(document).trigger("afd:accountValidationUpdated",[e.get()[0],o.get()[0]]),e.trigger("afd:accountValidationUpdated",[e,o]),o.trigger("afd:accountValidationUpdated",[e,o])})).catch((function(n){console.error(n),ni(document).trigger("afd:accountValidationError",[n]),e.trigger("afd:accountValidationError",[n]),o.trigger("afd:accountValidationError",[n]),t.hideLoadingSpinner(e,t.options.account.loadingSpinner)})))}},{key:"checkAccountSyntaxValid",value:function(){var t=this.$sortCodeElement,e=this.$element,n=e.val();0!==n.length&&(this.accountPattern.test(n)?(e.data("account-is-regex-valid",!0),e.data("account-is-syntax-valid",!0),this.clearValidation(e)):(e.data("account-is-regex-valid",!1),e.data("account-is-syntax-valid",!1),this.handleInvalid(this.options.account.invalidAccountNumberMessage)),ni(document).trigger("afd:accountValidationUpdated",[e.get()[0],t.get()[0]]),e.trigger("afd:accountValidationUpdated",[e,t]),t.trigger("afd:accountValidationUpdated",[e,t]))}},{key:"checkSortSyntaxValid",value:function(){var t=this.$sortCodeElement,e=this.$element,n=t.val();0!==n.length&&(this.sortCodePattern.test(n)?(t.data("sort-code-is-regex-valid",!0),t.data("sort-code-is-syntax-valid",!0),this.clearValidation(t)):(console.log(1),t.data("sort-code-is-regex-valid",!1),t.data("sort-code-is-syntax-valid",!1),this.handleInvalid(this.options.account.invalidSortCodeMessage,t)),ni(document).trigger("afd:accountValidationUpdated",[e.get()[0],t.get()[0]]),e.trigger("afd:accountValidationUpdated",[e,t]),t.trigger("afd:accountValidationUpdated",[e,t]))}},{key:"validateAccount",value:function(t,e){var n=this.setupParams({accountNumber:t,sortCode:e,data:"bank",task:"account",fields:"account",afdc:this.options.afdc});return ni.ajax(n)}}])}(Xn(p));function oi(t,n){var i={};n?i=n:"undefined"!=typeof afdOptions&&(i=afdOptions),i=$.extend(!0,{},e,i);var o=$(this);if(!o.is("input"))throw"<"+o.prop("tagName").toLowerCase()+'> is not a valid tag for `[data-afd-control="account"]`, use <input>';var a=$('[data-afd-control="sort"]'),r=a.length;if(0===r)throw'Could not find an instance of `[data-afd-control="sort"]`.  This is required for account number validation';if(r>1)throw'More than one instance of `[data-afd-control="sort"]` found';if(!a.is("input"))throw"<"+a.prop("tagName").toLowerCase()+'> is not a valid tag for `[data-afd-control="sort"]`, use <input>';var s=new ii(o,i);$(document).off("afd:init.afd").on("afd:init.afd",(function(){acount.init()})),s.init()}var ai,ri=function(t){for(var e,n=0,i=!1,o=t.length-1;o>=0;)e=parseInt(t.charAt(o),10),i&&(e*=2)>9&&(e=e%10+1),i=!i,n+=e,o--;return n%10==0},si={},li={},ui="visa",ci="mastercard",di="american-express",hi="diners-club",pi="discover",fi="elo",vi="jcb",gi="unionpay",yi="maestro",mi="mir",Ci="CVV",bi=[ui,ci,di,hi,pi,vi,gi,yi,fi,mi];function wi(t,e){var n,i,o;return t?(i=t.prefixPattern,o=t.exactPattern,n=JSON.parse(JSON.stringify(t)),e?(n.prefixPattern=i,n.exactPattern=o):(delete n.prefixPattern,delete n.exactPattern),n):null}function ki(t){return li[t]||si[t]}function Si(t){var e,n,i=[],o=[];if(!("string"==typeof t||t instanceof String))return[];for(n=0;n<ai.length;n++)e=ki(ai[n]),0!==t.length?e.exactPattern.test(t)?o.push(wi(e)):e.prefixPattern.test(t)&&i.push(wi(e)):i.push(wi(e));return o.length?o:i}function Ii(t,e){var n=ai.indexOf(t);if(!e&&-1===n)throw new Error('"'+t+'" is not a supported card type.');return n}ai=wi(bi),si[ui]={niceType:"Visa",type:ui,prefixPattern:/^4/,exactPattern:new RegExp("^4(?!31274|51416|57393|0117[89]|38935|5763[12])\\d{5,}$"),gaps:[4,8,12],lengths:[16,18,19],code:{name:Ci,size:3}},si[ci]={niceType:"Mastercard",type:ci,prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27|27[0-2]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|22[3-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},si[di]={niceType:"American Express",type:di,prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},si[hi]={niceType:"Diners Club",type:hi,prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14,16,19],code:{name:Ci,size:3}},si[pi]={niceType:"Discover",type:pi,prefixPattern:/^(6|60|601|6011|65|65\d{1,4}|64|64[4-9])$/,exactPattern:new RegExp("^(6011|65(?!003[1-3]|003[5-9]|004\\d|005[0-1]|040[5-9]|04[1-3]\\d|048[5-9]|049\\d|05[0-2]\\d|053[0-8]|054[1-9]|05[5-8]\\d|059[0-8]|070\\d|071[0-8]|072[0-7]|090[1-9]|09[1-6]\\d|097[0-8]|165[2-9]|16[6-7]\\d|50[0-1]\\d|502[1-9]|50[3-4]\\d|505[0-8])\\d{4}|64[4-9])\\d*$"),gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},si[vi]={niceType:"JCB",type:vi,prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:Ci,size:3}},si[gi]={niceType:"UnionPay",type:gi,prefixPattern:/^((6|62|62\d|(621(?!83|88|98|99))|622(?!06)|627[0267]\d?|628(?!0|1)|629[1,2])|622018)$/,exactPattern:new RegExp("^((620|(621(?!83|88|98|99))|622(?!06|018)|62[3-6]|627[026]|6277(?!80)\\d{2}|628(?!0|1)|629[12])\\d*|622018\\d{12})$"),gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},si[yi]={niceType:"Maestro",type:yi,prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:new RegExp("^(5[6-9]|50(?!6699|067[0-6][0-9]|677[0-8]|9[0-9][0-9][0-9])\\d{4}|67|63(?!6297|6368)\\d{4})\\d*$"),gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},si[fi]={niceType:"Elo",type:fi,prefixPattern:new RegExp("^([4-6]|4[035]|4[035]1|4011|40117|40117[89]|4312|43127|431274|438|4389|43893|438935|4514|45141|451416|457|457[36]|45739|45763|457393|45763[12]|50|50[69]|506[6-7]|50669|5067[0-7]|5067[0-6][0-9]|50677[0-8]|509[0-9]|509[0-9][0-9]|509[0-9][0-9][0-9]|6[235]|627|636|65[015]|6277|62778|627780|636[23]|63629|636297|63636|636368|650[0479]|6500[3-5]|65003[1-3]|65003[5-9]|65004[0-9]65005[01]|6504[0-3]|65040[5-9]|65041[0-9]|6505[4-9]|65054[1-9]|6505[5-8][0-9]|65059[0-8]|6507[0-2]|65070[0-9]|65071[0-8]|65072[0-7]|6509[0-7]|65090[1-9]|6509[1-6][0-9]|65097[0-8]|6516|6516[5-7]|65165[2-9]|6516[6-7][0-9]|6550|6550[0-5]|6550[01][0-9]|65502[1-9]|6550[3-4][0-9]|65505[0-8])$"),exactPattern:new RegExp("^(4(31274|51416|57393)|50(4175|6699|67[0-6][0-9]|677[0-8]|9[0-9][0-9][0-9])|627780|636(297|368)|4(0117[89]|38935|5763[12])|65(003[1-3]|003[5-9]|004\\d|005[0-1]|040[5-9]|04[1-3]\\d|048[5-9]|049\\d|05[0-2]\\d|053[0-8]|054[1-9]|05[5-8]\\d|059[0-8]|070[0-9]|071[0-8]|072[0-7]|090[1-9]|09[1-6][0-9]|097[0-8]|165[2-9]|16[6-7][0-9]|50[0-1][0-9]|502[1-9]|50[3-4][0-9]|505[0-8]))\\d*$"),gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},si[mi]={niceType:"Mir",type:mi,prefixPattern:/^(2|22|220|220[0-4])$/,exactPattern:/^(220[0-4])\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},Si.getTypeInfo=function(t){return wi(ki(t))},Si.removeCard=function(t){var e=Ii(t);ai.splice(e,1)},Si.addCard=function(t){var e=Ii(t.type,!0);li[t.type]=t,-1===e&&ai.push(t.type)},Si.updateCard=function(t,e){var n,i=li[t]||si[t];if(!i)throw new Error('"'+t+'" is not a recognized type. Use `addCard` instead.');if(e.type&&i.type!==e.type)throw new Error("Cannot overwrite type parameter.");n=wi(i,!0),Object.keys(n).forEach((function(t){e[t]&&(n[t]=e[t])})),li[n.type]=n},Si.changeOrder=function(t,e){var n=Ii(t);ai.splice(n,1),ai.splice(e,0,t)},Si.resetModifications=function(){ai=wi(bi),li={}},Si.types={VISA:ui,MASTERCARD:ci,AMERICAN_EXPRESS:di,DINERS_CLUB:hi,DISCOVER:pi,JCB:vi,UNIONPAY:gi,MAESTRO:yi,ELO:fi,MIR:mi};var Li=Si,xi=ri,_i=Li;function Mi(t,e,n){return{card:t,isPotentiallyValid:e,isValid:n}}var Ai=function(t,e){var n,i,o,a,r;if(e=e||{},"number"==typeof t&&(t=String(t)),"string"!=typeof t)return Mi(null,!1,!1);if(t=t.replace(/\-|\s/g,""),!/^\d*$/.test(t))return Mi(null,!1,!1);if(0===(n=_i(t)).length)return Mi(null,!1,!1);if(1!==n.length)return Mi(null,!0,!1);for(o=(i=n[0]).type===_i.types.UNIONPAY&&!0!==e.luhnValidateUnionPay||xi(t),r=Math.max.apply(null,i.lengths),a=0;a<i.lengths.length;a++)if(i.lengths[a]===t.length)return Mi(i,t.length!==r||o,o);return Mi(i,t.length<r,!1)};function Ei(t,e,n){return{isValid:t,isPotentiallyValid:e,isCurrentYear:n||!1}}var Fi=function(t,e){var n,i,o,a,r;return e=e||19,"string"!=typeof t?Ei(!1,!1):""===t.replace(/\s/g,"")?Ei(!1,!0):/^\d*$/.test(t)?(i=t.length)<2?Ei(!1,!0):(n=(new Date).getFullYear(),3===i?Ei(!1,t.slice(0,2)===String(n).slice(0,2)):i>4?Ei(!1,!1):(t=parseInt(t,10),o=Number(String(n).substr(2,2)),2===i?(r=o===t,a=t>=o&&t<=o+e):4===i&&(r=n===t,a=t>=n&&t<=n+e),Ei(a,a,r))):Ei(!1,!1)},Oi=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},zi=Fi,$i=Oi;function Ri(t,e,n){return{isValid:t,isPotentiallyValid:e,isValidForThisYear:n||!1}}var Ti=function(t){var e,n,i=(new Date).getMonth()+1;return"string"!=typeof t?Ri(!1,!1):""===t.replace(/\s/g,"")||"0"===t?Ri(!1,!0):/^\d*$/.test(t)?(e=parseInt(t,10),isNaN(t)?Ri(!1,!1):Ri(n=e>0&&e<13,n,n&&e>=i)):Ri(!1,!1)},Bi=function(t){var e,n,i;return/\//.test(t)?t=t.split(/\s*\/\s*/g):/\s/.test(t)&&(t=t.split(/ +/g)),$i(t)?{month:t[0],year:t.slice(1).join()}:(n="0"===t[0]||t.length>5?2:1,"1"===t[0]&&(i=t.substr(1),zi(i).isPotentiallyValid||(n=2)),{month:e=t.substr(0,n),year:t.substr(e.length)})},Di=Ti,Pi=Fi;function Vi(t,e,n,i){return{isValid:t,isPotentiallyValid:e,month:n,year:i}}var Ni=3;function ji(t,e){return{isValid:t,isPotentiallyValid:e}}function Gi(t,e){return{isValid:t,isPotentiallyValid:e}}var Ui={number:Ai,expirationDate:function(t,e){var n,i,o,a;if("string"==typeof t)t=t.replace(/^(\d\d) (\d\d(\d\d)?)$/,"$1/$2"),n=Bi(t);else{if(null===t||"object"!=typeof t)return Vi(!1,!1,null,null);n={month:String(t.month),year:String(t.year)}}if(i=Di(n.month),o=Pi(n.year,e),i.isValid){if(o.isCurrentYear)return Vi(a=i.isValidForThisYear,a,n.month,n.year);if(o.isValid)return Vi(!0,!0,n.month,n.year)}return i.isPotentiallyValid&&o.isPotentiallyValid?Vi(!1,!0,null,null):Vi(!1,!1,null,null)},expirationMonth:Ti,expirationYear:Fi,cvv:function(t,e){return e=(e=e||Ni)instanceof Array?e:[e],"string"!=typeof t?ji(!1,!1):/^\d*$/.test(t)?function(t,e){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}(e,t.length)?ji(!0,!0):t.length<Math.min.apply(null,e)?ji(!1,!0):t.length>function(t){for(var e=Ni,n=0;n<t.length;n++)e=t[n]>e?t[n]:e;return e}(e)?ji(!1,!1):ji(!0,!0):ji(!1,!1)},postalCode:function(t,e){var n;return n=(e=e||{}).minLength||3,"string"!=typeof t?Gi(!1,!1):t.length<n?Gi(!1,!0):Gi(!0,!0)},creditCardType:Li},qi='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><rect fill="#000C9D" width="750" height="471" rx="40"/><rect fill="#9D9400" x="48.71" y="153.576" width="110.324" height="99.679" rx="20.323"/><g fill="#FFF"><path d="M78.102 310.37v-3.795h-5.117v-11.27h-4.198l-.402 11.27H56.942l10.58-25.07-3.967-1.725-11.673 27.14v3.45h16.445v9.66h4.658v-9.66h5.117zM97.688 279.78c-4.025 0-7.878 1.38-11.213 4.6l2.588 2.933c2.645-2.473 5.002-3.68 8.395-3.68 4.197 0 7.532 2.357 7.532 6.727 0 4.773-3.737 6.958-7.532 6.958H95.1l-.575 3.795h3.335c4.658 0 8.223 1.84 8.223 7.532 0 4.945-3.278 8.108-8.855 8.108-3.22 0-6.555-1.323-8.798-3.968l-3.22 2.645c2.99 3.68 7.705 5.233 12.133 5.233 8.165 0 13.742-5.175 13.742-12.018 0-6.152-4.37-9.372-9.027-9.717 4.197-.805 7.762-4.428 7.762-9.2 0-5.405-4.715-9.948-12.132-9.948zM132.165 279.78c-5.347 0-8.912 1.898-12.075 5.693l3.335 2.53c2.53-2.933 4.658-4.198 8.568-4.198 4.427 0 7.072 2.76 7.072 7.188 0 6.497-3.22 10.81-18.17 25.127v3.91h23.518l.575-4.082h-18.63c13.052-11.903 17.71-17.825 17.71-25.07 0-6.325-4.428-11.098-11.903-11.098zM180.903 316.12h-8.28v-35.65h-4.198l-11.73 7.245 2.07 3.393 9.085-5.463v30.475h-9.775v3.91h22.828v-3.91zM250.49 310.37v-3.795h-5.117v-11.27h-4.198l-.402 11.27H229.33l10.58-25.07-3.967-1.725-11.673 27.14v3.45h16.445v9.66h4.658v-9.66h5.117zM270.075 279.78c-4.025 0-7.877 1.38-11.212 4.6l2.587 2.933c2.645-2.473 5.003-3.68 8.395-3.68 4.198 0 7.533 2.357 7.533 6.727 0 4.773-3.738 6.958-7.533 6.958h-2.357l-.575 3.795h3.335c4.657 0 8.222 1.84 8.222 7.532 0 4.945-3.277 8.108-8.855 8.108-3.22 0-6.555-1.323-8.797-3.968l-3.22 2.645c2.99 3.68 7.705 5.233 12.132 5.233 8.165 0 13.743-5.175 13.743-12.018 0-6.152-4.37-9.372-9.028-9.717 4.198-.805 7.763-4.428 7.763-9.2 0-5.405-4.715-9.948-12.133-9.948zM304.553 279.78c-5.348 0-8.913 1.898-12.075 5.693l3.335 2.53c2.53-2.933 4.657-4.198 8.567-4.198 4.428 0 7.073 2.76 7.073 7.188 0 6.497-3.22 10.81-18.17 25.127v3.91H316.8l.575-4.082h-18.63c13.053-11.903 17.71-17.825 17.71-25.07 0-6.325-4.427-11.098-11.902-11.098zM353.29 316.12h-8.28v-35.65h-4.197l-11.73 7.245 2.07 3.393 9.085-5.463v30.475h-9.775v3.91h22.827v-3.91zM422.878 310.37v-3.795h-5.118v-11.27h-4.197l-.403 11.27h-11.442l10.58-25.07-3.968-1.725-11.672 27.14v3.45h16.445v9.66h4.657v-9.66h5.118zM442.463 279.78c-4.025 0-7.878 1.38-11.213 4.6l2.588 2.933c2.645-2.473 5.002-3.68 8.395-3.68 4.197 0 7.532 2.357 7.532 6.727 0 4.773-3.737 6.958-7.532 6.958h-2.358l-.575 3.795h3.335c4.658 0 8.223 1.84 8.223 7.532 0 4.945-3.278 8.108-8.855 8.108-3.22 0-6.555-1.323-8.798-3.968l-3.22 2.645c2.99 3.68 7.705 5.233 12.133 5.233 8.165 0 13.742-5.175 13.742-12.018 0-6.152-4.37-9.372-9.027-9.717 4.197-.805 7.762-4.428 7.762-9.2 0-5.405-4.715-9.948-12.132-9.948zM476.94 279.78c-5.347 0-8.912 1.898-12.075 5.693l3.335 2.53c2.53-2.933 4.658-4.198 8.568-4.198 4.427 0 7.072 2.76 7.072 7.188 0 6.497-3.22 10.81-18.17 25.127v3.91h23.518l.575-4.082h-18.63c13.052-11.903 17.71-17.825 17.71-25.07 0-6.325-4.428-11.098-11.903-11.098zM525.678 316.12h-8.28v-35.65H513.2l-11.73 7.245 2.07 3.393 9.085-5.463v30.475h-9.775v3.91h22.828v-3.91zM595.266 310.37v-3.795h-5.118v-11.27h-4.197l-.403 11.27h-11.442l10.58-25.07-3.968-1.725-11.672 27.14v3.45h16.445v9.66h4.657v-9.66h5.118zM614.85 279.78c-4.024 0-7.877 1.38-11.212 4.6l2.588 2.933c2.645-2.473 5.002-3.68 8.395-3.68 4.197 0 7.532 2.357 7.532 6.727 0 4.773-3.737 6.958-7.532 6.958h-2.358l-.575 3.795h3.335c4.658 0 8.223 1.84 8.223 7.532 0 4.945-3.278 8.108-8.855 8.108-3.22 0-6.555-1.323-8.798-3.968l-3.22 2.645c2.99 3.68 7.705 5.233 12.133 5.233 8.165 0 13.742-5.175 13.742-12.018 0-6.152-4.37-9.372-9.027-9.717 4.197-.805 7.762-4.428 7.762-9.2 0-5.405-4.715-9.948-12.132-9.948zM649.328 279.78c-5.347 0-8.912 1.898-12.075 5.693l3.335 2.53c2.53-2.933 4.658-4.198 8.568-4.198 4.427 0 7.072 2.76 7.072 7.188 0 6.497-3.22 10.81-18.17 25.127v3.91h23.518l.575-4.082h-18.63c13.052-11.903 17.71-17.825 17.71-25.07 0-6.325-4.428-11.098-11.903-11.098zM698.066 316.12h-8.28v-35.65h-4.198l-11.73 7.245 2.07 3.393 9.085-5.463v30.475h-9.775v3.91h22.828v-3.91z"/></g><g fill="#FFF" fill-opacity=".784"><path d="M55.607 415.42h6.445v-22.245l-7.012 1.406v-3.594l6.973-1.406h3.945v25.84h6.446v3.32H55.607zM81.075 415.42h6.446v-22.245l-7.012 1.406v-3.594l6.973-1.406h3.945v25.84h6.445v3.32H81.075zM121.993 415.42h13.77v3.321h-18.516v-3.32a762.619 762.619 0 0 1 6.114-6.23c2.59-2.618 4.218-4.304 4.882-5.06 1.263-1.418 2.142-2.616 2.637-3.593.508-.99.762-1.96.762-2.91 0-1.55-.547-2.813-1.64-3.79-1.082-.976-2.494-1.464-4.24-1.464-1.236 0-2.545.215-3.925.645-1.367.43-2.832 1.08-4.394 1.953v-3.985c1.588-.638 3.073-1.12 4.453-1.445 1.38-.326 2.643-.488 3.789-.488 3.02 0 5.43.755 7.226 2.265 1.797 1.51 2.696 3.529 2.696 6.055a8.707 8.707 0 0 1-.684 3.418c-.443 1.068-1.256 2.33-2.441 3.789-.326.378-1.361 1.471-3.106 3.281a2473.283 2473.283 0 0 1-7.383 7.559zM156.017 403.019c1.888.403 3.36 1.243 4.414 2.52 1.068 1.275 1.601 2.85 1.601 4.726 0 2.877-.99 5.104-2.968 6.68-1.98 1.575-4.792 2.363-8.438 2.363-1.224 0-2.487-.124-3.789-.372a26.623 26.623 0 0 1-4.004-1.074v-3.808a13.669 13.669 0 0 0 3.594 1.445 16.77 16.77 0 0 0 4.082.488c2.474 0 4.355-.488 5.645-1.465 1.302-.976 1.953-2.395 1.953-4.257 0-1.72-.606-3.06-1.817-4.024-1.198-.976-2.87-1.465-5.02-1.465h-3.398v-3.242h3.555c1.94 0 3.424-.384 4.453-1.152 1.029-.781 1.543-1.901 1.543-3.36 0-1.497-.534-2.643-1.601-3.437-1.055-.807-2.572-1.211-4.551-1.211-1.081 0-2.24.117-3.477.352-1.237.234-2.597.599-4.082 1.093v-3.515a38.347 38.347 0 0 1 4.2-.938 23.777 23.777 0 0 1 3.71-.312c2.995 0 5.365.683 7.11 2.05 1.744 1.355 2.617 3.19 2.617 5.508 0 1.615-.462 2.982-1.387 4.102-.924 1.107-2.24 1.875-3.945 2.305zM182.306 389.581h15.488v3.32H185.92v7.149a10.371 10.371 0 0 1 1.719-.43 9.59 9.59 0 0 1 1.719-.156c3.255 0 5.833.892 7.734 2.676 1.901 1.783 2.852 4.199 2.852 7.246 0 3.138-.977 5.58-2.93 7.324-1.953 1.732-4.707 2.598-8.262 2.598-1.224 0-2.474-.105-3.75-.313a29.94 29.94 0 0 1-3.926-.937v-3.965a15.373 15.373 0 0 0 3.633 1.426c1.25.312 2.572.468 3.965.468 2.253 0 4.037-.592 5.352-1.777 1.315-1.185 1.972-2.793 1.972-4.824 0-2.032-.657-3.64-1.972-4.825-1.315-1.184-3.1-1.777-5.352-1.777-1.055 0-2.11.117-3.164.352a16.66 16.66 0 0 0-3.203 1.093v-14.648zM216.173 404.894c-1.875 0-3.353.5-4.434 1.503-1.067 1.003-1.601 2.383-1.601 4.141s.534 3.138 1.601 4.14c1.081 1.003 2.56 1.505 4.434 1.505 1.875 0 3.353-.502 4.434-1.504 1.08-1.016 1.62-2.396 1.62-4.14 0-1.759-.54-3.139-1.62-4.142-1.068-1.002-2.546-1.503-4.434-1.503zm-3.945-1.68c-1.693-.417-3.015-1.205-3.965-2.363-.938-1.16-1.406-2.572-1.406-4.239 0-2.33.827-4.173 2.48-5.527 1.667-1.354 3.945-2.031 6.836-2.031 2.904 0 5.182.677 6.836 2.03 1.654 1.355 2.48 3.198 2.48 5.528 0 1.667-.475 3.08-1.425 4.239-.938 1.158-2.246 1.946-3.926 2.363 1.901.443 3.379 1.308 4.434 2.597 1.067 1.29 1.601 2.865 1.601 4.727 0 2.826-.866 4.994-2.598 6.504-1.718 1.51-4.186 2.266-7.402 2.266s-5.69-.756-7.422-2.266c-1.719-1.51-2.578-3.678-2.578-6.504 0-1.862.534-3.437 1.602-4.727 1.067-1.289 2.552-2.154 4.453-2.597zm-1.446-6.23c0 1.51.47 2.688 1.407 3.535.95.846 2.278 1.27 3.984 1.27 1.693 0 3.014-.424 3.965-1.27.963-.847 1.445-2.025 1.445-3.536 0-1.51-.482-2.688-1.445-3.535-.95-.846-2.272-1.27-3.965-1.27-1.706 0-3.034.424-3.984 1.27-.938.847-1.407 2.025-1.407 3.535z"/></g><g fill="#FFF" fill-opacity=".784"><path d="M308.836 414.453h6.445v-22.246l-7.011 1.406v-3.593l6.972-1.407h3.946v25.84h6.445v3.32h-16.797zM345.574 402.05c1.888.404 3.36 1.244 4.415 2.52 1.067 1.276 1.601 2.852 1.601 4.727 0 2.877-.99 5.104-2.969 6.68-1.979 1.575-4.791 2.363-8.437 2.363-1.224 0-2.487-.124-3.79-.371a26.623 26.623 0 0 1-4.003-1.074v-3.81a13.669 13.669 0 0 0 3.594 1.446 16.77 16.77 0 0 0 4.082.489c2.474 0 4.355-.489 5.644-1.465 1.302-.977 1.953-2.396 1.953-4.258 0-1.719-.605-3.06-1.816-4.024-1.198-.976-2.871-1.464-5.02-1.464h-3.398v-3.243h3.555c1.94 0 3.424-.384 4.453-1.152 1.028-.781 1.543-1.901 1.543-3.36 0-1.497-.534-2.643-1.602-3.437-1.055-.807-2.571-1.21-4.55-1.21-1.081 0-2.24.116-3.477.35-1.237.235-2.598.6-4.082 1.095v-3.516a38.348 38.348 0 0 1 4.199-.938 23.777 23.777 0 0 1 3.71-.312c2.996 0 5.366.684 7.11 2.05 1.745 1.355 2.617 3.19 2.617 5.509 0 1.614-.462 2.981-1.386 4.101-.925 1.107-2.24 1.875-3.946 2.305zM362.489 414.453h13.77v3.32h-18.517v-3.32a762.755 762.755 0 0 1 6.114-6.23c2.59-2.618 4.218-4.304 4.883-5.059 1.263-1.42 2.141-2.617 2.636-3.594.508-.99.762-1.96.762-2.91 0-1.55-.547-2.812-1.64-3.789-1.081-.976-2.494-1.465-4.239-1.465-1.237 0-2.546.215-3.926.645-1.367.43-2.832 1.08-4.394 1.953v-3.984c1.588-.638 3.073-1.12 4.453-1.446 1.38-.325 2.643-.488 3.789-.488 3.02 0 5.43.755 7.226 2.266 1.797 1.51 2.696 3.528 2.696 6.054a8.707 8.707 0 0 1-.684 3.418c-.442 1.068-1.256 2.33-2.441 3.79-.326.377-1.36 1.47-3.106 3.28a2474.291 2474.291 0 0 1-7.382 7.56zM385.242 414.453h6.446v-22.246l-7.012 1.406v-3.593l6.973-1.407h3.945v25.84h6.445v3.32h-16.797zM434.715 402.05c1.888.404 3.36 1.244 4.414 2.52 1.068 1.276 1.602 2.852 1.602 4.727 0 2.877-.99 5.104-2.969 6.68-1.98 1.575-4.792 2.363-8.438 2.363-1.223 0-2.487-.124-3.789-.371a26.623 26.623 0 0 1-4.004-1.074v-3.81a13.669 13.669 0 0 0 3.594 1.446 16.77 16.77 0 0 0 4.082.489c2.474 0 4.356-.489 5.645-1.465 1.302-.977 1.953-2.396 1.953-4.258 0-1.719-.606-3.06-1.816-4.024-1.198-.976-2.872-1.464-5.02-1.464h-3.398v-3.243h3.554c1.94 0 3.425-.384 4.453-1.152 1.029-.781 1.543-1.901 1.543-3.36 0-1.497-.534-2.643-1.601-3.437-1.055-.807-2.572-1.21-4.551-1.21-1.08 0-2.24.116-3.477.35-1.237.235-2.597.6-4.082 1.095v-3.516a38.347 38.347 0 0 1 4.2-.938 23.777 23.777 0 0 1 3.71-.312c2.995 0 5.365.684 7.11 2.05 1.745 1.355 2.617 3.19 2.617 5.509 0 1.614-.462 2.981-1.387 4.101-.924 1.107-2.24 1.875-3.945 2.305zM459.07 392.05l-9.96 15.567h9.96v-15.566zm-1.035-3.437h4.961v19.004h4.16v3.281h-4.16v6.875h-3.925v-6.875h-13.165v-3.808l12.13-18.477zM473.739 388.613h15.488v3.32h-11.875v7.149a10.37 10.37 0 0 1 1.719-.43 9.59 9.59 0 0 1 1.718-.156c3.256 0 5.834.892 7.735 2.676 1.9 1.784 2.851 4.2 2.851 7.246 0 3.138-.976 5.58-2.93 7.324-1.953 1.732-4.706 2.598-8.261 2.598-1.224 0-2.474-.104-3.75-.313a29.94 29.94 0 0 1-3.926-.937v-3.965a15.373 15.373 0 0 0 3.633 1.426c1.25.312 2.571.469 3.965.469 2.252 0 4.036-.593 5.351-1.778 1.315-1.185 1.973-2.793 1.973-4.824 0-2.031-.658-3.64-1.973-4.824-1.315-1.185-3.099-1.778-5.351-1.778-1.055 0-2.11.118-3.164.352a16.66 16.66 0 0 0-3.203 1.094v-14.649zM499.207 388.613h15.489v3.32H502.82v7.149a10.37 10.37 0 0 1 1.718-.43 9.59 9.59 0 0 1 1.72-.156c3.254 0 5.832.892 7.733 2.676 1.901 1.784 2.852 4.2 2.852 7.246 0 3.138-.977 5.58-2.93 7.324-1.953 1.732-4.707 2.598-8.261 2.598-1.224 0-2.474-.104-3.75-.313a29.94 29.94 0 0 1-3.926-.937v-3.965a15.373 15.373 0 0 0 3.633 1.426c1.25.312 2.571.469 3.964.469 2.253 0 4.037-.593 5.352-1.778 1.315-1.185 1.973-2.793 1.973-4.824 0-2.031-.658-3.64-1.973-4.824-1.315-1.185-3.099-1.778-5.352-1.778-1.054 0-2.109.118-3.164.352a16.66 16.66 0 0 0-3.203 1.094v-14.649z"/></g></g></svg>';function Hi(t,e,n){return e=l(e),s(t,Ki()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function Ki(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ki=function(){return!!t})()}var Wi=jQuery,Zi=function(t){function e(t,i){var o;return n(this,e),d(o=Hi(this,e,[t,i]),"init",(function(){o.$expiryElement=Wi('[data-afd-control="expiry"]'),o.$cvvElement=Wi('[data-afd-control="cvv"]'),o.$element.data("card-is-afd-valid",!1),o.$expiryElement.data("expiry-is-regex-valid",!1),o.$expiryElement.data("expiry-is-syntax-valid",!1);var t=o.eventHandler;t(o.$element,"keydown",o.onKeyDown),t(o.$element,"keyup",o.onKeyUp),t(o.$element,"focusout",o.onFocusOut),t(o.$expiryElement,"keydown",o.onExpiryKeyDown),t(o.$expiryElement,"keyup",o.onExpiryKeyUp),t(o.$expiryElement,"focusout",o.onExpiryFocusOut),Wi(".afd-card-logo").html(qi).find("svg").attr("height",o.options.card.logoHeight).attr("width",o.options.card.logoWidth),o.$element.data("card-is-regex-valid",!1),o.$element.data("card-is-syntax-valid",!1),o.$element.data("card-is-afd-valid",!1),o.$element.data("card-type",""),o.$element.data("card-type-nice",""),o.$element.data("expiry-is-regex-valid",!1),o.$element.data("expiry-is-syntax-valid",!1),o.$cvvElement.data("code-name",""),o.$cvvElement.data("code-length",""),o.$cvvElement.attr("maxlength",3)})),d(o,"onKeyDown",(function(t){(t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&(t.keyCode<112||t.keyCode>123)&&-1===o.utilKeys.indexOf(t.keyCode)&&t.preventDefault()})),d(o,"onKeyUp",(function(){o.checkCardSyntaxValid().isValid?o.handleValid():o.clearValidation()})),d(o,"onFocusOut",(function(){o.checkCardSyntaxValid().isValid?o.checkBoth():o.handleInvalid(o.options.card.invalidCardNumberMessage)})),d(o,"checkCardSyntaxValid",(function(){var t=o.$element,e=t.val(),n=Ui.number(e);if(null!==n.card){t.data("card-type",n.card.type),t.data("card-type-nice",n.card.niceType);var i=qi;switch(n.card.type){case"visa":i='<svg xmlns="http://www.w3.org/2000/svg" width="750" height="471" viewBox="0 0 750 471"><g fill-rule="nonzero" fill="none"><rect fill="#0E4595" width="750" height="471" rx="40"/><path fill="#FFF" d="M278.197 334.228l33.361-195.763h53.36l-33.385 195.763zM524.308 142.688c-10.572-3.966-27.137-8.222-47.823-8.222-52.725 0-89.865 26.55-90.18 64.603-.298 28.13 26.513 43.822 46.753 53.186 20.77 9.594 27.752 15.714 27.654 24.283-.132 13.121-16.587 19.116-31.923 19.116-21.357 0-32.703-2.966-50.226-10.276l-6.876-3.111-7.49 43.824c12.464 5.464 35.51 10.198 59.438 10.443 56.09 0 92.501-26.246 92.916-66.882.2-22.268-14.016-39.216-44.8-53.188-18.65-9.055-30.072-15.099-29.951-24.268 0-8.137 9.667-16.839 30.556-16.839 17.45-.27 30.089 3.535 39.937 7.5l4.781 2.26 7.234-42.43M661.615 138.465h-41.231c-12.774 0-22.332 3.487-27.942 16.234l-79.245 179.404h56.032s9.161-24.123 11.233-29.418c6.124 0 60.554.084 68.337.084 1.596 6.853 6.491 29.334 6.491 29.334h49.513l-43.188-195.638zm-65.418 126.407c4.413-11.279 21.26-54.723 21.26-54.723-.316.522 4.38-11.334 7.075-18.684l3.606 16.879s10.217 46.728 12.352 56.528h-44.293z"/><path d="M45.879 138.465l-.682 4.074c21.091 5.106 39.93 12.494 56.422 21.686l47.346 169.691 56.455-.066 84.004-195.385h-56.522l-52.24 133.496-5.566-27.129a88.005 88.005 0 0 0-.823-2.49l-18.166-87.35c-3.23-12.396-12.598-16.095-24.187-16.527H45.879z" fill="#fff"/></g></svg>';break;case"mastercard":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><rect fill="#000" width="750" height="471" rx="40"/><path d="M221.13 421.67v-24.85c0-9.53-5.8-15.74-15.32-15.74-5 0-10.35 1.66-14.08 7-2.9-4.56-7-7-13.25-7a14.07 14.07 0 0 0-12 5.8v-5h-7.87v39.76h7.87v-22.75c0-7 4.14-10.35 9.94-10.35s9.11 3.73 9.11 10.35v22.78h7.87v-22.78c0-7 4.14-10.35 9.94-10.35s9.11 3.73 9.11 10.35v22.78h8.68zm129.22-39.35h-14.5v-12H328v12h-8.28v7H328V408c0 9.11 3.31 14.5 13.25 14.5a23.17 23.17 0 0 0 10.75-2.9l-2.49-7a13.63 13.63 0 0 1-7.46 2.07c-4.14 0-6.21-2.49-6.21-6.63V389h14.5v-6.63l.01-.05zm73.72-1.24a12.39 12.39 0 0 0-10.77 5.8v-5h-7.87v39.76h7.87v-22.33c0-6.63 3.31-10.77 8.7-10.77a24.24 24.24 0 0 1 5.38.83l2.49-7.46a28 28 0 0 0-5.8-.83zm-111.41 4.14c-4.14-2.9-9.94-4.14-16.15-4.14-9.94 0-16.15 4.56-16.15 12.43 0 6.63 4.56 10.35 13.25 11.6l4.14.41c4.56.83 7.46 2.49 7.46 4.56 0 2.9-3.31 5-9.53 5a21.84 21.84 0 0 1-13.25-4.14l-4.14 6.21c5.8 4.14 12.84 5 17 5 11.6 0 17.81-5.38 17.81-12.84 0-7-5-10.35-13.67-11.6l-4.14-.41c-3.73-.41-7-1.66-7-4.14 0-2.9 3.31-5 7.87-5 5 0 9.94 2.07 12.43 3.31l4.07-6.25zm120.11 16.57c0 12 7.87 20.71 20.71 20.71 5.8 0 9.94-1.24 14.08-4.56l-4.14-6.21a16.74 16.74 0 0 1-10.35 3.73c-7 0-12.43-5.38-12.43-13.25S446 389 453.07 389a16.74 16.74 0 0 1 10.35 3.73l4.14-6.21c-4.14-3.31-8.28-4.56-14.08-4.56-12.43-.83-20.71 7.87-20.71 19.88v-.05zm-55.5-20.71c-11.6 0-19.47 8.28-19.47 20.71 0 12.43 8.28 20.71 20.29 20.71a25.33 25.33 0 0 0 16.15-5.38l-4.14-5.8a19.79 19.79 0 0 1-11.6 4.14c-5.38 0-11.18-3.31-12-10.35h29.41v-3.31c0-12.43-7.46-20.71-18.64-20.71v-.01zm-.41 7.46c5.8 0 9.94 3.73 10.35 9.94h-21.53c1.24-5.8 5-9.94 11.18-9.94zm-107.27 13.25v-19.88h-7.87v5c-2.9-3.73-7-5.8-12.84-5.8-11.18 0-19.47 8.7-19.47 20.71 0 12.01 8.28 20.71 19.47 20.71 5.8 0 9.94-2.07 12.84-5.8v5h7.87v-19.94zm-31.89 0c0-7.46 4.56-13.25 12.43-13.25 7.46 0 12 5.8 12 13.25 0 7.87-5 13.25-12 13.25-7.87.41-12.43-5.8-12.43-13.25zm306.08-20.71a12.39 12.39 0 0 0-10.77 5.8v-5h-7.87v39.76H533v-22.33c0-6.63 3.31-10.77 8.7-10.77a24.24 24.24 0 0 1 5.38.83l2.49-7.46a28 28 0 0 0-5.8-.83h.01zm-30.65 20.71v-19.88h-7.87v5c-2.9-3.73-7-5.8-12.84-5.8-11.18 0-19.47 8.7-19.47 20.71 0 12.01 8.28 20.71 19.47 20.71 5.8 0 9.94-2.07 12.84-5.8v5h7.87v-19.94zm-31.89 0c0-7.46 4.56-13.25 12.43-13.25 7.46 0 12 5.8 12 13.25 0 7.87-5 13.25-12 13.25-7.87.41-12.43-5.8-12.43-13.25zm111.83 0v-35.62h-7.87v20.71c-2.9-3.73-7-5.8-12.84-5.8-11.18 0-19.47 8.7-19.47 20.71 0 12.01 8.28 20.71 19.47 20.71 5.8 0 9.94-2.07 12.84-5.8v5h7.87v-19.91zm-31.89 0c0-7.46 4.56-13.25 12.43-13.25 7.46 0 12 5.8 12 13.25 0 7.87-5 13.25-12 13.25-7.88.42-12.44-5.79-12.44-13.25h.01z" fill="#FFF"/><path fill="#FF5F00" d="M303.55 80.39h143.72v234.42H303.55z"/><path d="M318.05 197.6a149.5 149.5 0 0 1 56.74-117.21c-61.128-48.061-148.928-41.075-201.687 16.048-52.758 57.123-52.758 145.2 0 202.324 52.759 57.123 140.559 64.11 201.687 16.048a149.5 149.5 0 0 1-56.74-117.21z" fill="#EB001B"/><path d="M616.26 197.6c.041 57.047-32.503 109.106-83.804 134.056-51.302 24.95-112.347 18.408-157.196-16.846a149.43 149.43 0 0 0 0-234.42c44.85-35.254 105.894-41.797 157.196-16.846 51.3 24.95 83.845 77.01 83.804 134.056z" fill="#F79E1B"/></g></svg>';break;case"american-express":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><rect fill="#2557D6" width="750" height="471" rx="40"/><path d="M.003 221.185h36.024l8.123-19.51h18.185l8.101 19.51h70.88V206.27l6.327 14.98h36.796l6.327-15.202v15.138h176.151l-.082-32.026h3.408c2.386.083 3.083.302 3.083 4.226v27.8h91.106v-7.455c7.349 3.92 18.779 7.455 33.819 7.455h38.328l8.203-19.51h18.185l8.021 19.51h73.86v-18.532l11.186 18.532h59.187V98.678h-58.576v14.468l-8.202-14.468h-60.105v14.468l-7.532-14.468h-81.188c-13.59 0-25.536 1.889-35.186 7.153v-7.153h-56.026v7.153c-6.14-5.426-14.508-7.153-23.812-7.153H179.908l-13.734 31.641-14.104-31.641H87.6v14.468l-7.083-14.468H25.534L0 156.924v64.261h.003zm227.397-17.67h-21.615l-.08-68.794-30.573 68.793H156.62l-30.652-68.854v68.854H83.084l-8.101-19.592h-43.9L22.9 203.514H0l37.756-87.837h31.326l35.859 83.164v-83.164h34.412l27.593 59.587 25.347-59.587h35.104v87.837h.003zM67.777 165.692l-14.43-35.017-14.35 35.017h28.78zm245.642 37.821h-70.433v-87.837h70.433v18.291h-49.348v15.833h48.165v18.005H264.07v17.542h49.348v18.166zm99.256-64.18c0 14.004-9.386 21.24-14.856 23.412 4.613 1.748 8.553 4.838 10.43 7.397 2.976 4.369 3.49 8.271 3.49 16.116v17.255h-21.266l-.08-11.077c0-5.285.508-12.886-3.328-17.112-3.081-3.09-7.777-3.76-15.368-3.76h-22.633v31.95H327.98v-87.838h48.495c10.775 0 18.714.283 25.53 4.207 6.67 3.924 10.67 9.652 10.67 19.45zm-26.652 13.042c-2.898 1.752-6.324 1.81-10.43 1.81H349.98v-19.51h25.962c3.674 0 7.508.164 9.998 1.584 2.735 1.28 4.427 4.003 4.427 7.765 0 3.84-1.61 6.929-4.344 8.351zm60.466 51.138h-21.513v-87.837h21.513v87.837zm249.74 0H666.35l-39.964-65.927v65.927h-42.94l-8.204-19.592h-43.799l-7.96 19.592H498.81c-10.248 0-23.224-2.257-30.572-9.715-7.41-7.458-11.265-17.56-11.265-33.533 0-13.027 2.304-24.936 11.366-34.347 6.816-7.01 17.49-10.242 32.02-10.242h20.412v18.821h-19.984c-7.694 0-12.039 1.14-16.224 5.203-3.594 3.699-6.06 10.69-6.06 19.897 0 9.41 1.878 16.196 5.797 20.628 3.245 3.476 9.144 4.53 14.694 4.53h9.469l29.716-69.076h31.592l35.696 83.081V115.68h32.103l37.062 61.174V115.68h21.596v87.834zM568.07 165.693l-14.591-35.017-14.51 35.017h29.1zM749.956 343.767c-5.121 7.458-15.101 11.239-28.611 11.239h-40.718v-18.84h40.553c4.022 0 6.837-.527 8.532-2.175a7.71 7.71 0 0 0 2.493-5.73c0-2.56-1.024-4.592-2.575-5.81-1.53-1.341-3.757-1.95-7.429-1.95-19.797-.67-44.495.609-44.495-27.194 0-12.743 8.125-26.157 30.25-26.157h41.998l.002-17.48h-39.022c-11.776 0-20.33 2.808-26.388 7.174v-7.175H626.83c-9.23 0-20.063 2.279-25.187 7.175v-7.175H498.578v7.175c-8.203-5.892-22.043-7.175-28.431-7.175h-67.983v7.175c-6.49-6.258-20.92-7.175-29.716-7.175h-76.085l-17.41 18.763-16.307-18.763H148.99v122.592h111.516l17.94-19.06 16.9 19.06 68.739.061v-28.838h6.757c9.12.14 19.878-.226 29.368-4.31v33.085h56.697v-31.952h2.735c3.49 0 3.834.143 3.834 3.616v28.333H635.71c10.935 0 22.365-2.787 28.695-7.845v7.845h54.632c11.369 0 22.471-1.587 30.918-5.651v-22.838zm-341.503-47.154c0 24.406-18.286 29.445-36.716 29.445H345.43v29.469h-40.98l-25.962-29.085-26.981 29.085H167.99v-87.859h84.8l25.941 28.799 26.819-28.799h67.371c16.732 0 35.532 4.613 35.532 28.945zm-167.625 40.434h-51.839v-17.481h46.289V301.64h-46.289v-15.973h52.86l23.062 25.604-24.083 25.776zm83.526 10.06l-32.37-35.788 32.37-34.651v70.439zm47.873-39.066H344.98v-22.374h27.492c7.612 0 12.896 3.09 12.896 10.773 0 7.598-5.04 11.601-13.14 11.601zm142.744-40.373h70.369v18.17h-49.372v15.973h48.167v17.925h-48.167v17.481l49.372.08v18.23h-70.37v-87.859zm-27.054 47.03c4.693 1.724 8.53 4.816 10.329 7.375 2.977 4.29 3.408 8.293 3.493 16.037v17.417H480.57v-10.992c0-5.286.511-13.112-3.408-17.198-3.08-3.147-7.777-3.9-15.468-3.9h-22.533v32.09h-21.186v-87.859h48.678c10.674 0 18.448.47 25.369 4.146 6.654 4.004 10.839 9.488 10.839 19.51-.003 14.024-9.395 21.18-14.945 23.373zM476 303.59c-2.82 1.667-6.308 1.81-10.41 1.81h-25.614v-19.733h25.962c3.754 0 7.51.08 10.062 1.587 2.732 1.423 4.366 4.144 4.366 7.903 0 3.76-1.634 6.788-4.366 8.433zm190.336 5.597c4.106 4.23 6.306 9.572 6.306 18.614 0 18.9-11.858 27.723-33.122 27.723h-41.065v-18.84h40.9c4 0 6.836-.527 8.613-2.175 1.45-1.359 2.49-3.333 2.49-5.73 0-2.56-1.125-4.592-2.573-5.81-1.612-1.34-3.836-1.95-7.508-1.95-19.717-.67-44.41.61-44.41-27.193 0-12.744 8.04-26.158 30.144-26.158h42.269v18.7h-38.677c-3.834 0-6.327.143-8.447 1.587-2.31 1.422-3.166 3.534-3.166 6.32 0 3.315 1.96 5.57 4.613 6.545 2.224.77 4.613.996 8.205.996l11.35.305c11.446.278 19.303 2.249 24.078 7.066zM750 285.667h-38.427c-3.836 0-6.385.143-8.532 1.587-2.224 1.423-3.081 3.534-3.081 6.322 0 3.314 1.878 5.569 4.61 6.544 2.225.77 4.614.996 8.126.996l11.427.304c11.531.284 19.228 2.258 23.921 7.072.855.67 1.368 1.422 1.956 2.175v-25z" fill="#FFF"/></g></svg>';break;case"diners-club":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><rect fill="#0079BE" width="750" height="471" rx="40"/><path d="M584.934 237.947c0-99.415-82.981-168.133-173.895-168.1h-78.242c-92.003-.033-167.73 68.705-167.73 168.1 0 90.93 75.727 165.64 167.73 165.204h78.242c90.914.436 173.895-74.293 173.895-165.204z" fill="#FFF"/><path d="M333.28 83.93c-84.07.027-152.194 68.308-152.214 152.58.02 84.258 68.144 152.533 152.214 152.56 84.09-.027 152.228-68.302 152.24-152.56-.012-84.272-68.15-152.553-152.24-152.58z" fill="#0079BE"/><path d="M237.066 236.098c.08-41.18 25.746-76.296 61.94-90.25v180.48c-36.194-13.947-61.861-49.044-61.94-90.23zm131 90.275V145.847c36.207 13.92 61.914 49.057 61.98 90.257-.066 41.212-25.773 76.322-61.98 90.269z" fill="#FFF"/></g></svg>';break;case"discover":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M52.877 0C23.68 0 0 23.155 0 51.71v367.58C0 447.85 23.672 471 52.877 471h644.246C726.32 471 750 447.845 750 419.29V51.71C750 23.15 726.328 0 697.123 0H52.877z" fill="#4D4D4D"/><path d="M314.57 152.198c8.496 0 15.623 1.733 24.295 5.912v22.087c-8.215-7.633-15.341-10.828-24.765-10.828-18.523 0-33.09 14.576-33.09 33.055 0 19.488 14.116 33.196 34.008 33.196 8.955 0 15.95-3.029 23.847-10.54v22.098c-8.981 4.02-16.26 5.607-24.765 5.607-30.075 0-53.444-21.935-53.444-50.224 0-27.984 23.991-50.363 53.914-50.363zm-93.379.609c11.102 0 21.26 3.612 29.754 10.673l-10.335 12.86c-5.145-5.48-10.01-7.792-15.927-7.792-8.513 0-14.713 4.606-14.713 10.667 0 5.198 3.48 7.95 15.332 12.118 22.467 7.808 29.124 14.732 29.124 30.021 0 18.633-14.399 31.602-34.923 31.602-15.029 0-25.955-5.626-35.055-18.32l12.758-11.68c4.549 8.36 12.136 12.837 21.557 12.837 8.811 0 15.334-5.779 15.334-13.576 0-4.042-1.976-7.507-5.921-9.958-1.987-1.16-5.921-2.89-13.653-5.481-18.55-6.347-24.914-13.132-24.914-26.391 0-15.75 13.667-27.58 31.582-27.58zm225.695 1.678h21.575l27.004 64.645 27.35-64.645h21.412l-43.744 98.713h-10.628l-42.969-98.713zm-382.065.148h28.991c32.03 0 54.359 19.786 54.359 48.19 0 14.163-6.831 27.856-18.382 36.944-9.72 7.67-20.795 11.11-36.13 11.11H64.822v-96.244zm92.437 0h19.751v96.245h-19.75v-96.245zm395.899 0h56.011v16.308h-36.275v21.362h34.938v16.3h-34.938v25.98h36.275v16.295h-56.011v-96.245zm69.094 0h29.283c22.78 0 35.833 10.397 35.833 28.416 0 14.735-8.187 24.406-23.064 27.284l31.873 40.545h-24.288l-27.336-38.664h-2.575v38.664h-19.726v-96.245zm19.726 15.159v29.148h5.771c12.612 0 19.297-5.206 19.297-14.88 0-9.367-6.686-14.268-18.985-14.268h-6.083zm-557.42 1.149v63.642h5.3c12.763 0 20.823-2.324 27.028-7.648 6.83-5.782 10.94-15.015 10.94-24.25 0-9.222-4.11-18.18-10.94-23.961-6.523-5.61-14.265-7.783-27.028-7.783h-5.3z" fill="#FFF"/><path d="M399.164 151.56c29.75 0 53.867 22.167 53.867 49.552v.031c0 27.385-24.117 49.584-53.867 49.584-29.75 0-53.867-22.199-53.867-49.584v-.03c0-27.386 24.117-49.554 53.867-49.554zm350.819 119.534c-25.048 17.233-212.574 140.397-537.264 199.891h484.387c29.197 0 52.877-23.154 52.877-51.71V271.094z" fill="#F47216"/></g></svg>';break;case"jcb":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1=".032%" y1="50%" x2="99.974%" y2="50%" id="a"><stop stop-color="#007B40" offset="0%"/><stop stop-color="#55B330" offset="100%"/></linearGradient><linearGradient x1=".472%" y1="50%" x2="99.986%" y2="50%" id="b"><stop stop-color="#1D2970" offset="0%"/><stop stop-color="#006DBA" offset="100%"/></linearGradient><linearGradient x1=".114%" y1="50.001%" x2="99.986%" y2="50.001%" id="c"><stop stop-color="#6E2B2F" offset="0%"/><stop stop-color="#E30138" offset="100%"/></linearGradient></defs><g fill-rule="nonzero" fill="none"><rect fill="#0E4C96" width="750" height="471" rx="40"/><path d="M617.243 346.766c0 41.615-33.728 75.36-75.36 75.36H132.757V124.245c0-41.626 33.733-75.37 75.365-75.37l409.121-.001v297.892z" fill="#FFF"/><path d="M483.859 242.045c11.684.253 23.437-.516 35.077.4 11.787 2.2 14.628 20.043 4.156 25.888-7.141 3.85-15.633 1.432-23.379 2.113H483.86v-28.401zm41.833-32.145c2.596 9.165-6.238 17.392-15.066 16.13h-26.767c.185-8.642-.368-18.021.272-26.208 10.724.301 21.549-.616 32.21.48 4.58 1.15 8.413 4.916 9.35 9.598zM590.12 73.997c.498 17.501.071 35.927.214 53.783-.035 72.596.072 145.194-.055 217.79-.469 27.207-24.582 50.844-51.6 51.387-27.046.111-54.095.016-81.142.047v-109.75c29.47-.154 58.959.307 88.417-.232 13.667-.86 28.632-9.876 29.27-24.915 1.61-15.102-12.632-25.55-26.153-27.201-5.198-.135-5.044-1.515 0-2.117 12.892-2.787 23.02-16.133 19.226-29.499-3.236-14.058-18.773-19.499-31.697-19.472-26.351-.18-52.709-.026-79.063-.077.172-20.489-.354-41 .286-61.474 2.087-26.716 26.806-48.747 53.447-48.27h78.85z" fill="url(#a)"/><path d="M159.74 125.04c.674-27.163 24.889-50.611 51.875-51.007 26.944-.083 53.891-.012 80.837-.036-.074 90.885.148 181.777-.112 272.658-1.038 26.834-24.99 49.834-51.679 50.307-26.996.099-53.995.014-80.992.042V283.551c26.223 6.194 53.722 8.832 80.473 4.721 15.993-2.575 33.488-10.424 38.902-27.014 3.986-14.192 1.742-29.126 2.334-43.692v-33.824h-46.297c-.208 22.37.426 44.78-.335 67.125-1.248 13.734-14.846 22.46-27.8 21.995-16.066.169-47.898-11.64-47.898-11.64-.08-41.917.466-94.408.692-136.182z" fill="url(#b)"/><path d="M309.72 197.39c-2.434.517-.49-8.3-1.114-11.646.166-21.15-.346-42.323.284-63.458 2.083-26.829 26.991-48.916 53.739-48.288h78.766c-.074 90.884.147 181.775-.112 272.656-1.039 26.834-24.992 49.833-51.68 50.308-26.998.1-53.998.015-80.997.043V272.708c18.44 15.128 43.5 17.484 66.472 17.525 17.317-.006 34.534-2.675 51.35-6.67V260.79c-18.953 9.447-41.233 15.446-62.243 10.018-14.656-3.65-25.294-17.811-25.056-32.936-1.699-15.728 7.524-32.335 22.981-37.011 19.19-6.008 40.108-1.413 58.096 6.398 3.855 2.018 7.765 4.521 6.222-1.921v-17.9c-30.084-7.157-62.101-9.792-92.329-2.004-8.748 2.468-17.27 6.21-24.379 11.956z" fill="url(#c)"/></g></svg>';break;case"unionpay":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><rect fill="#FFF" width="750" height="471" rx="40"/><path d="M201.81 55h142.393c19.87 0 32.287 16.406 27.63 36.47L305.5 378.948c-4.656 20.064-24.629 36.47-44.498 36.47H118.61c-19.87 0-32.287-16.406-27.63-36.47L157.311 91.47C161.968 71.302 181.837 55 201.706 55h.104z" fill="#D10429"/><path d="M331.75 55h163.815c19.869 0 10.866 16.406 6.209 36.47L435.44 378.948c-4.657 20.064-3.208 36.47-23.077 36.47H248.549c-19.972 0-32.287-16.406-27.527-36.47L287.356 91.47C292.012 71.302 311.88 55 331.854 55h-.104z" fill="#022E64"/><path d="M489.815 55h142.394c19.869 0 32.287 16.406 27.63 36.47l-66.333 287.478c-4.657 20.064-24.63 36.47-44.498 36.47H406.614c-19.972 0-32.287-16.406-27.63-36.47L445.317 91.47C449.974 71.302 469.843 55 489.711 55h.104z" fill="#076F74"/><path d="M465.905 326.015h13.453l3.829-13.063h-13.35l-3.932 13.063zm10.762-35.948l-4.657 15.466s5.071-2.613 7.865-3.449c2.794-.627 6.933-1.15 6.933-1.15l3.208-10.763h-13.452l.103-.104zm6.727-22.154l-4.45 14.839s4.967-2.3 7.761-3.03c2.794-.732 6.933-.941 6.933-.941l3.208-10.764h-13.349l-.103-.104zm29.7 0l-17.386 57.997h4.657l-3.622 12.017h-4.657l-1.138 3.658H474.39l1.139-3.658H442l3.311-11.076h3.415l17.593-58.938L469.837 256h16.868l-1.76 5.956s4.45-3.239 8.797-4.389c4.243-1.149 28.665-1.567 28.665-1.567l-3.622 11.808h-5.795l.103.105z" fill="#FEFEFE"/><path d="M520 256h18.006l.207 6.792c-.103 1.15.828 1.672 3.001 1.672h3.622l-3.311 11.182h-9.728c-8.382.627-11.59-3.03-11.383-7.106l-.31-12.436L520 256zm2.216 53.2h-17.178l2.897-9.927h19.662l2.794-9.092H511.04L514.351 279h53.812l-3.311 11.181h-18.11l-2.794 9.092h18.11l-3.002 9.927h-19.558l-3.518 4.18h7.968l1.966 12.54c.207 1.254.207 2.09.62 2.613.415.418 2.795.627 4.14.627h2.38l-3.725 12.226h-6.106c-.93 0-2.38-.104-4.346-.104-1.863-.21-3.104-1.254-4.346-1.881-1.139-.523-2.794-1.881-3.208-4.285l-1.863-12.54-8.9 12.331c-2.794 3.867-6.622 6.897-13.142 6.897H495l3.311-10.868h4.76c1.346 0 2.588-.522 3.52-1.045.93-.418 1.758-.836 2.586-2.194l13.04-18.497zM334.314 282h45.429l-3.312 10.972h-18.11l-2.793 9.3h18.627l-3.415 11.287h-18.524l-4.553 15.152c-.517 1.672 4.45 1.881 6.209 1.881l9.314-1.254-3.726 12.54h-20.904c-1.655 0-2.897-.209-4.76-.627-1.76-.418-2.587-1.254-3.311-2.403-.725-1.254-1.967-2.195-1.139-4.912l6.002-20.064H325l3.415-11.495h10.348l2.794-9.3H331.21l3.312-10.973-.207-.104zm31.387-19.835h18.627l-3.415 11.39h-25.457l-2.794 2.404c-1.242 1.15-1.552.732-3.105 1.568-1.448.731-4.45 2.194-8.382 2.194H333l3.311-10.972h2.484c2.07 0 3.519-.21 4.243-.627.828-.523 1.76-1.672 2.69-3.553l4.657-8.569h18.524l-3.208 6.27v-.105zm35.108 18.81s5.07-4.702 13.763-6.165c1.966-.418 14.384-.21 14.384-.21l1.863-6.27h-26.181l-3.83 12.75v-.105zm24.629 4.807h-25.975l-1.552 5.33h22.56c2.69-.314 3.208.104 3.415-.105l1.655-5.225h-.103zm-33.736-29.678h15.833l-2.276 8.047s4.967-4.076 8.485-5.539c3.519-1.254 11.383-2.508 11.383-2.508l25.664-.104-8.796 29.469c-1.449 5.016-3.208 8.255-4.243 9.823-.93 1.463-2.07 2.821-4.346 4.075-2.173 1.15-4.14 1.881-6.002 1.986-1.656.104-4.346.209-7.865.209h-24.732l-6.934 23.303c-.62 2.299-.931 3.448-.517 4.075.31.523 1.242 1.15 2.38 1.15l10.866-1.045-3.726 12.749h-12.21c-3.933 0-6.727-.105-8.693-.21-1.863-.208-3.83 0-5.175-1.044-1.138-1.045-2.897-2.404-2.794-3.762.104-1.254.621-3.344 1.45-6.27l22.248-74.404z" fill="#FEFEFE"/><path d="M437.84 303l-1.449 7.106c-.62 2.194-1.138 3.866-2.794 5.33-1.759 1.462-3.725 3.03-8.485 3.03l-8.796.418-.104 7.942c-.103 2.194.518 1.985.828 2.403.414.418.724.523 1.138.732l2.794-.21 8.383-.417-3.519 11.704h-9.624c-6.726 0-11.797-.21-13.35-1.463-1.655-1.045-1.862-2.3-1.862-4.598l.62-31.141h15.42l-.207 6.374h3.725c1.242 0 2.174-.104 2.691-.418.517-.313.828-.836 1.035-1.567l1.552-5.016h12.108l-.104-.209zM218.47 147c-.517 2.508-10.451 48.592-10.451 48.592-2.174 9.3-3.726 15.989-8.9 20.273-3.001 2.508-6.52 3.657-10.555 3.657-6.52 0-10.245-3.239-10.866-9.404l-.104-2.09s1.966-12.436 1.966-12.54c0 0 10.349-42.009 12.212-47.548.103-.313.103-.522.103-.627-20.18.21-23.801 0-24.008-.313-.104.418-.621 3.03-.621 3.03L156.69 197.37l-.932 3.97L154 214.508c0 3.866.724 7.105 2.277 9.718 4.863 8.569 18.627 9.823 26.388 9.823 10.038 0 19.455-2.195 25.767-6.061 11.073-6.584 13.97-16.929 16.454-26.02l1.242-4.703s10.659-43.576 12.522-49.219c.103-.314.103-.523.207-.627-14.695.104-18.938 0-20.387-.314V147zm59.03 86.623c-7.141-.105-9.728-.105-18.11.313l-.311-.627c.724-3.24 1.552-6.374 2.173-9.614l1.035-4.389c1.552-6.792 3.001-14.839 3.208-17.242.207-1.463.62-5.12-3.519-5.12-1.759 0-3.518.835-5.38 1.671-1.036 3.658-3.002 13.899-4.037 18.497-2.07 9.823-2.173 10.972-3.104 15.78l-.621.626c-7.347-.104-9.934-.104-18.42.314L230 233.1c1.449-5.852 2.794-11.704 4.14-17.556 3.518-15.78 4.45-21.84 5.38-29.887l.725-.418c8.279-1.149 10.245-1.463 19.248-3.239l.724.836-1.345 5.016c1.552-.94 3.001-1.881 4.553-2.613 4.243-2.09 8.9-2.717 11.487-2.717 3.932 0 8.279 1.15 10.038 5.748 1.656 4.075.62 9.091-1.656 19.019l-1.138 5.016c-2.277 11.077-2.69 13.062-3.933 20.586l-.827.627.103.105zm29.058.027c-4.346 0-7.14-.104-9.83 0-2.691 0-5.278.21-9.314.314l-.207-.314-.207-.418c1.138-4.18 1.656-5.643 2.277-7.106.517-1.463 1.034-2.926 2.07-7.21 1.241-5.539 2.069-9.405 2.586-12.854.621-3.24.932-6.06 1.346-9.3l.31-.209.31-.314c4.347-.627 7.038-1.045 9.832-1.463 2.794-.418 5.691-.94 10.141-1.776l.207.418.103.418-2.483 10.345c-.828 3.449-1.656 6.897-2.38 10.346-1.553 7.315-2.277 10.032-2.587 12.017-.414 1.881-.518 2.822-1.139 6.584l-.414.313-.414.314-.207-.105zm45.941-25.675c-.31 1.881-1.966 8.883-4.139 11.809-1.552 2.194-3.312 3.553-5.381 3.553-.621 0-4.14 0-4.243-5.33 0-2.612.517-5.33 1.138-8.255 1.863-8.465 4.14-15.466 9.831-15.466 4.45 0 4.76 5.225 2.794 13.69zm18.73.836c2.484-11.077.518-16.302-1.862-19.437-3.725-4.807-10.348-6.374-17.178-6.374-4.14 0-13.867.418-21.525 7.524-5.484 5.12-8.071 12.122-9.52 18.81-1.553 6.792-3.312 19.019 7.865 23.617 3.414 1.463 8.382 1.88 11.59 1.88 8.175 0 16.557-2.298 22.87-8.986 4.863-5.434 7.036-13.585 7.864-17.034h-.103zm174.433 26.08c-8.693-.104-11.176-.104-19.145.314l-.517-.627c2.173-8.256 4.346-16.616 6.313-24.976 2.483-10.868 3.104-15.466 3.932-21.84l.62-.523c8.59-1.254 10.97-1.567 19.973-3.239l.207.731c-1.656 6.897-3.208 13.69-4.864 20.482-3.311 14.317-4.45 21.632-5.691 29.156l-.828.627v-.105z" fill="#FEFEFE"/><path d="M533.16 209.374c-.414 1.776-2.07 8.882-4.243 11.808-1.449 2.09-4.967 3.449-6.933 3.449-.621 0-4.036 0-4.243-5.225 0-2.613.517-5.33 1.138-8.256 1.863-8.255 4.14-15.257 9.831-15.257 4.45 0 6.416 5.12 4.45 13.585v-.104zm17.075.836c2.483-11.077-7.658-.94-9.21-4.598-2.484-5.748-.932-17.243-10.866-21.109-3.829-1.568-12.832.418-20.49 7.524-5.381 5.016-8.072 12.017-9.52 18.705-1.553 6.688-3.312 19.02 7.76 23.304 3.52 1.567 6.727 1.985 9.935 1.776 11.177-.627 19.662-17.66 25.975-24.348 4.863-5.33 5.691 1.985 6.416-1.254zm-129.943 23.413c-7.14-.105-9.624-.105-18.006.313l-.31-.627c.724-3.24 1.552-6.374 2.276-9.614l.931-4.389c1.553-6.792 3.105-14.839 3.208-17.242.207-1.463.621-5.12-3.415-5.12-1.759 0-3.621.835-5.38 1.671-.932 3.658-3.002 13.899-4.037 18.497-1.966 9.823-2.173 10.972-3.104 15.78l-.621.626c-7.347-.104-9.934-.104-18.42.314L373 233.1c1.449-5.852 2.794-11.704 4.14-17.556 3.518-15.78 4.346-21.84 5.38-29.887l.621-.418c8.28-1.149 10.349-1.463 19.248-3.239l.725.836-1.242 5.016c1.449-.94 3.001-1.881 4.45-2.613 4.243-2.09 8.9-2.717 11.486-2.717 3.933 0 8.176 1.15 10.038 5.748 1.656 4.075.518 9.091-1.759 19.019l-1.138 5.016c-2.38 11.077-2.69 13.062-3.933 20.586l-.827.627.103.105zm62.001-86.519l-6.002.105c-15.523.209-21.732.104-24.215-.209-.207 1.15-.621 3.135-.621 3.135s-5.588 25.916-5.588 26.02c0 0-13.246 55.176-13.867 57.788 13.556-.209 19.041-.209 21.421.105.518-2.613 3.622-17.974 3.726-17.974 0 0 2.69-11.286 2.794-11.704 0 0 .827-1.15 1.655-1.672h1.242c11.694 0 24.836 0 35.185-7.628 7.037-5.225 11.797-13.063 13.97-22.468.517-2.299.931-5.016.931-7.837 0-3.658-.724-7.21-2.794-10.032-5.277-7.42-15.73-7.524-27.837-7.629zm7.761 27.066c-1.241 5.747-4.967 10.659-9.727 12.958-3.932 1.985-8.693 2.194-13.66 2.194h-3.208l.207-1.254s5.899-25.916 5.899-25.811l.207-1.359.103-1.045 2.38.21s12.211 1.044 12.418 1.044c4.76 1.881 6.83 6.688 5.381 13.063zm127.207 8.666l-.724-.836c-8.796 1.776-10.452 2.09-18.524 3.24l-.62.626c0 .105-.104.21-.104.418v-.104c-6.002 14.107-5.899 11.077-10.762 22.154 0-.523 0-.836-.104-1.359l-1.242-24.035-.724-.836c-9.314 1.777-9.52 2.09-18.006 3.24l-.621.627c-.104.313-.104.627-.104.94l.104.105c1.035 5.538.828 4.284 1.863 12.958.517 4.284 1.138 8.569 1.655 12.749.828 7.106 1.346 10.554 2.38 21.318-5.795 9.614-7.14 13.271-12.728 21.735l.31.836c8.383-.313 10.245-.313 16.454-.313l1.346-1.568c4.656-10.136 40.255-71.79 40.255-71.79l-.104-.105zm-302.717 6.922c4.76-3.344 5.38-7.942 1.345-10.345-4.036-2.404-11.176-1.672-15.937 1.672-4.76 3.24-5.277 7.837-1.241 10.345 3.932 2.3 11.072 1.672 15.833-1.672z" fill="#FEFEFE"/><path d="M575.735 256.104l-6.934 12.018c-2.173 4.075-6.312 7.21-12.728 7.21L545 275.123l3.208-10.868h2.173c1.138 0 1.966-.104 2.587-.418.621-.209.932-.627 1.449-1.254l4.14-6.583h17.281l-.103.104z" fill="#FEFEFE"/></g></svg>';break;case"maestro":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><rect fill="#000" width="750" height="471" rx="40"/><path d="M279.8 421.77V397c0-9.35-6-15.64-15.55-15.72-5-.08-10.26 1.49-13.9 7-2.73-4.38-7-7-13.07-7a13.08 13.08 0 0 0-11.58 5.87v-4.88h-8.61v39.55h8.69v-21.97c0-6.87 3.81-10.51 9.68-10.51 5.71 0 8.61 3.72 8.61 10.42v22h8.69v-21.91c0-6.87 4-10.51 9.68-10.51 5.87 0 8.69 3.72 8.69 10.42v22l8.67.01zM328.28 402v-19.77h-8.61V387c-2.73-3.56-6.87-5.79-12.49-5.79-11.09 0-19.77 8.69-19.77 20.77s8.69 20.77 19.77 20.77c5.63 0 9.76-2.23 12.49-5.79v4.8h8.61V402zm-32 0c0-6.95 4.55-12.66 12-12.66 7.12 0 11.91 5.46 11.91 12.66s-4.8 12.66-11.91 12.66c-7.47 0-12.02-5.71-12.02-12.66h.02zm216.12-20.81a22.29 22.29 0 0 1 8.49 1.59 20.71 20.71 0 0 1 6.75 4.38 20 20 0 0 1 4.46 6.59 22 22 0 0 1 0 16.52 20 20 0 0 1-4.46 6.59 20.69 20.69 0 0 1-6.75 4.38 23.43 23.43 0 0 1-17 0 20.47 20.47 0 0 1-6.73-4.38 20.21 20.21 0 0 1-4.44-6.59 22 22 0 0 1 0-16.52 20.23 20.23 0 0 1 4.44-6.59 20.48 20.48 0 0 1 6.73-4.38 22.29 22.29 0 0 1 8.51-1.59zm0 8.14a12.84 12.84 0 0 0-4.91.93 11.62 11.62 0 0 0-3.92 2.6 12.13 12.13 0 0 0-2.6 4 14.39 14.39 0 0 0 0 10.28 12.11 12.11 0 0 0 2.6 4 11.62 11.62 0 0 0 3.92 2.6 13.46 13.46 0 0 0 9.83 0 11.86 11.86 0 0 0 3.94-2.6 12 12 0 0 0 2.62-4 14.39 14.39 0 0 0 0-10.28 12 12 0 0 0-2.62-4 11.86 11.86 0 0 0-3.94-2.6 12.84 12.84 0 0 0-4.92-.94v.01zM375.1 402c-.08-12.33-7.69-20.77-18.78-20.77-11.58 0-19.69 8.44-19.69 20.77 0 12.58 8.44 20.77 20.27 20.77 6 0 11.42-1.49 16.22-5.54l-4.22-6.37a18.84 18.84 0 0 1-11.5 4.14c-5.54 0-10.59-2.56-11.83-9.68h29.37c.06-1.09.16-2.16.16-3.32zm-29.45-3.47c.91-5.71 4.38-9.6 10.51-9.6 5.54 0 9.1 3.47 10 9.6h-20.51zm65.69-6.2a25.49 25.49 0 0 0-12.34-3.4c-4.72 0-7.53 1.74-7.53 4.63 0 2.65 3 3.39 6.7 3.89l4.05.58c8.61 1.24 13.82 4.88 13.82 11.83 0 7.53-6.62 12.91-18 12.91-6.45 0-12.41-1.66-17.13-5.13l4.05-6.7a21.07 21.07 0 0 0 13.16 4.14c5.87 0 9-1.74 9-4.8 0-2.23-2.23-3.47-6.95-4.14l-4.05-.58c-8.85-1.24-13.65-5.21-13.65-11.67 0-7.86 6.45-12.66 16.46-12.66 6.29 0 12 1.41 16.13 4.14l-3.72 6.96zm41.35-2.23h-14.07V408c0 4 1.41 6.62 5.71 6.62a15.89 15.89 0 0 0 7.61-2.23l2.48 7.36a20.22 20.22 0 0 1-10.76 3.06c-10.18 0-13.73-5.46-13.73-14.65v-18h-8v-7.86h8v-12h8.69v12h14.06l.01 7.8zm29.78-8.85a18.38 18.38 0 0 1 6.12 1.08l-2.65 8.11a14 14 0 0 0-5.38-1c-5.63 0-8.44 3.64-8.44 10.18v22.17h-8.6v-39.56H472V387a11.66 11.66 0 0 1 10.42-5.79l.05.04z" fill="#FFF"/><path fill="#7673C0" d="M309.95 80.39h130.5V314.9h-130.5z"/><path d="M318.24 197.64a148.88 148.88 0 0 1 57-117.26c-61.147-48.062-148.962-41.066-201.728 16.071-52.766 57.137-52.766 145.23 0 202.368 52.766 57.137 140.581 64.133 201.728 16.071a148.88 148.88 0 0 1-57-117.25z" fill="#EB001B"/><path d="M616.5 197.64c.001 57.099-32.598 109.186-83.954 134.143-51.356 24.956-112.454 18.4-157.346-16.883a149.16 149.16 0 0 0 0-234.51c44.89-35.283 105.986-41.839 157.341-16.885 51.355 24.954 83.956 77.038 83.959 134.135z" fill="#00A1DF"/></g></svg>';break;case"elo":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M40 0h670c22.1 0 40 17.9 40 40v391c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V40C0 17.9 17.9 0 40 0z" fill="#000"/><path d="M150.7 170.6c6.8-2.3 14.1-3.5 21.7-3.5 33.2 0 60.9 23.6 67.2 54.9l47-9.6c-10.8-53.2-57.8-93.3-114.2-93.3-12.9 0-25.3 2.1-36.9 6l15.2 45.5z" fill="#FFF100"/><path d="M95.2 323l31.8-36c-14.2-12.6-23.1-30.9-23.1-51.4 0-20.4 8.9-38.8 23.1-51.3l-31.8-35.9c-24.1 21.4-39.3 52.5-39.3 87.3 0 34.7 15.2 65.9 39.3 87.3z" fill="#00A3DF"/><path d="M239.6 249.4c-6.4 31.3-34 54.8-67.2 54.8-7.6 0-14.9-1.2-21.8-3.5l-15.2 45.5c11.6 3.9 24.1 6 37 6 56.4 0 103.4-40 114.2-93.2l-47-9.6z" fill="#EE4023"/><g fill="#FFF"><path d="M443.2 281.6c-7.8 7.6-18.3 12.2-29.9 12-8-.1-15.4-2.5-21.6-6.5l-15.6 24.8c10.7 6.7 23.2 10.7 36.8 10.9 19.7.3 37.7-7.5 50.8-20.2l-20.5-21zM415 180.5c-39.2-.6-71.6 30.8-72.2 70-.2 14.7 4 28.5 11.5 39.9l128.8-55.1c-7.2-30.9-34.8-54.2-68.1-54.8zm-42.7 75.6c-.2-1.6-.3-3.3-.3-5 .4-23.1 19.4-41.6 42.5-41.2 12.6.2 23.8 5.9 31.3 14.9l-73.5 31.3zm151.3-107.6v137.3l23.8 9.9-11.3 27.1-23.6-9.8c-5.3-2.3-8.9-5.8-11.6-9.8-2.6-4-4.6-9.6-4.6-17V148.5h27.3zM609.5 212c4.2-1.4 8.6-2.1 13.3-2.1 20.3 0 37.1 14.4 41 33.5l28.7-5.9c-6.6-32.5-35.3-56.9-69.7-56.9-7.9 0-15.5 1.3-22.5 3.6l9.2 27.8zm-33.9 92.9L595 283c-8.7-7.7-14.1-18.9-14.1-31.4s5.5-23.7 14.1-31.3l-19.4-21.9c-14.7 13-24 32.1-24 53.3 0 21.2 9.3 40.2 24 53.2zm88.2-44.8c-3.9 19.1-20.8 33.5-41 33.5-4.6 0-9.1-.8-13.3-2.2l-9.3 27.8c7.1 2.4 14.7 3.7 22.6 3.7 34.4 0 63.1-24.4 69.7-56.9l-28.7-5.9z"/></g></g></svg>';break;case"hipercard":i='<svg width="750" height="471" viewBox="0 0 750 471" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M697.115 0H52.885C23.724 0 0 23.196 0 51.707v367.586C0 447.804 23.724 471 52.885 471h644.23C726.274 471 750 447.804 750 419.293V51.707C750 23.196 726.274 0 697.115 0z" fill="#FFF"/><path d="M321.004 378.44L47 378.54v-.66c0-.363.437-2.714.97-5.226.535-2.511 1.365-6.507 1.847-8.877.48-2.372 1.303-6.4 1.826-8.955a3823.979 3823.979 0 0 0 3.815-18.735c.494-2.463 1.317-6.493 1.831-8.955a2558.2 2558.2 0 0 0 1.948-9.45c.557-2.736 1.403-6.915 1.881-9.287a794.28 794.28 0 0 1 1.688-8.123 271.84 271.84 0 0 0 1.275-6.302c.251-1.368 1.065-5.397 1.808-8.954a730.47 730.47 0 0 0 1.822-8.953c.26-1.369 1.082-5.398 1.83-8.955.747-3.555 1.568-7.585 1.824-8.953.256-1.368 1.081-5.398 1.833-8.954.754-3.557 1.566-7.511 1.805-8.788.241-1.277.9-4.56 1.464-7.295.563-2.736 1.63-7.885 2.37-11.441.741-3.558 2.007-9.75 2.813-13.764.809-4.012 1.773-8.787 2.145-10.61a4107.793 4107.793 0 0 1 3.31-16.084c.549-2.646 1.441-6.973 1.983-9.618a3528.87 3528.87 0 0 0 1.858-9.12c.48-2.37 1.297-6.325 1.817-8.787.52-2.463 1.416-6.79 1.99-9.618a306.964 306.964 0 0 1 2.135-9.617c.6-2.462 1.45-5.447 1.887-6.632.437-1.186 1.645-3.755 2.684-5.711l1.888-3.555 1.717-2.249c.943-1.235 2.629-3.19 3.745-4.34 1.116-1.152 2.997-2.885 4.184-3.85 1.185-.967 2.902-2.272 3.813-2.899.912-.627 2.703-1.726 3.98-2.441 1.276-.716 3.069-1.652 3.98-2.081.912-.43 2.778-1.215 4.145-1.743 1.368-.528 3.98-1.415 5.803-1.968 1.824-.555 5.248-1.39 7.609-1.857 2.361-.466 6.09-1.09 8.29-1.385l3.999-.538 274.17-.103L702.95 93v.66c0 .362-.44 2.714-.976 5.225-.539 2.511-1.437 6.805-1.997 9.54-.561 2.736-1.378 6.692-1.818 8.789-.439 2.098-1.27 6.127-1.848 8.953-.577 2.828-1.465 7.156-1.973 9.618-.508 2.462-1.331 6.492-1.829 8.953-.497 2.463-1.325 6.492-1.838 8.955-.516 2.462-1.312 6.343-1.772 8.622-.461 2.28-1.294 6.383-1.852 9.12a1955.06 1955.06 0 0 1-1.992 9.616c-.538 2.554-1.356 6.509-1.819 8.789l-1.853 9.119c-.556 2.736-1.45 7.064-1.988 9.618-.537 2.553-1.338 6.433-1.78 8.622a8069.947 8069.947 0 0 1-3.704 18.24c-.45 2.187-1.25 6.068-1.78 8.62-.531 2.554-1.439 6.957-2.015 9.784-.58 2.827-1.407 6.855-1.84 8.954-.434 2.096-1.244 6.052-1.802 8.787-.557 2.737-1.445 7.064-1.973 9.618-.527 2.553-1.353 6.583-1.837 8.954-.482 2.37-1.322 6.475-1.864 9.12-.545 2.643-1.432 6.971-1.973 9.615-.542 2.646-1.352 6.6-1.803 8.79a4228.93 4228.93 0 0 0-1.828 8.953 911.017 911.017 0 0 1-2.01 9.581l-.998 4.606-1.19 3.187c-.653 1.752-1.637 4.082-2.186 5.177-.547 1.093-1.663 3.025-2.479 4.29-.817 1.266-1.955 2.887-2.528 3.603-.574.716-2.302 2.566-3.842 4.111l-2.795 2.807-2.692 1.912c-1.48 1.052-3.075 2.122-3.543 2.377-.468.256-2.252 1.167-3.963 2.023-1.711.858-4.13 1.948-5.372 2.423-1.243.477-3.705 1.287-5.472 1.8-1.766.516-3.66 1.023-4.206 1.127-.548.105-2.446.498-4.221.874-1.774.376-5.355.937-7.958 1.247l-4.734.564-274.003.097zm-97.486-70.874h7.13l.2-.525c.113-.289.203-.967.203-1.507 0-.541.235-2.505.523-4.366.286-1.863.96-6.146 1.497-9.52.537-3.375 1.34-8.449 1.785-11.275.446-2.828.99-6.447 1.21-8.043.22-1.596.486-2.9.594-2.9.107 0 .568.704 1.024 1.566l.828 1.567 1.838 1.853 1.84 1.851 2.262.907 2.263.905 2.697.35 2.698.35 3.422-.21 3.423-.21 3.707-.96 3.707-.96 1.99-.906c1.094-.5 3.034-1.59 4.31-2.421l2.322-1.512 2.164-2.164c1.19-1.188 2.87-3.097 3.73-4.24.863-1.141 1.568-2.159 1.568-2.26 0-.102.424-.809.94-1.572.518-.762 1.576-2.88 2.352-4.703.778-1.824 1.99-5.107 2.698-7.295l1.285-3.98.665-3.447c.365-1.895.836-5.029 1.045-6.964l.38-3.517-.22-2.984-.22-2.985-.692-2.985-.69-2.985-1.122-2.233-1.12-2.235-2.164-2.294-2.163-2.294-2.56-1.323-2.56-1.322-2.819-.677-2.819-.674-2.819-.206-2.818-.207-3.14.36-3.14.361-2.563.655-2.562.653-2.227 1.032c-1.224.565-3.007 1.528-3.96 2.138-.953.61-1.937 1.311-2.185 1.56-.248.247-.844.707-1.322 1.018l-.871.571.608-2.913c.336-1.602.615-3.099.623-3.328l.013-.414h-12.16l-1.065 6.716c-.587 3.694-1.513 9.4-2.058 12.685a5718.93 5718.93 0 0 1-3.65 21.72c-.542 3.191-1.438 8.266-1.991 11.276-.554 3.01-1.364 7.412-1.802 9.783-.437 2.37-1.261 6.847-1.83 9.947-.567 3.103-1.481 8.026-2.03 10.945-.55 2.918-1.441 7.544-1.984 10.28-.543 2.736-1.067 5.311-1.167 5.72l-.181.747h7.13zm30.696-38.342l-2.768.167-1.81-.32-1.81-.32-1.838-.839-1.838-.84-1.284-1.226-1.284-1.225-.741-1.658c-.408-.913-.932-2.462-1.164-3.444l-.423-1.784.17-2.858.17-2.858.854-4.477c.47-2.462 1.313-7.089 1.874-10.28.561-3.192 1.413-7.87 1.89-10.394l.867-4.59 1.901-1.581c1.046-.87 2.703-2.036 3.682-2.591l1.778-1.01 2.321-.718 2.322-.72 2.985-.174 2.984-.175 2.431.518 2.43.518 1.715.79 1.715.79 1.438 1.445 1.44 1.446.774 1.531c.427.843 1.027 2.49 1.332 3.663l.556 2.131-.17 6.302-.17 6.3-.852 3.725c-.468 2.049-1.36 5.183-1.981 6.964l-1.13 3.24-1.384 2.622c-.761 1.443-1.935 3.392-2.608 4.332-.673.939-1.747 2.158-2.386 2.705a52.14 52.14 0 0 1-2.375 1.905l-1.216.908-2.814.957-2.814.957-2.769.166zm68.862 9.117l3.648.042 3.648-.333c2.007-.183 5.29-.564 7.295-.847 2.007-.283 5.473-.916 7.703-1.405l4.053-.892.203-1.496c.111-.821.566-3.268 1.012-5.436l.81-3.945-.18-.178-.178-.178-1.24.598c-.68.329-2.805 1.115-4.717 1.745l-3.48 1.146-3.65.708-3.651.707-5.804.012-5.804.01-1.99-.635c-1.094-.349-2.703-.988-3.576-1.421l-1.586-.785-1.31-1.184-1.31-1.184-1.023-1.785-1.022-1.787-.64-2.24-.642-2.24-.003-4.147-.005-4.147.568-3.698.57-3.7 4.99-.233 4.99-.234 18.447.12 18.446.118.557-2.362c.307-1.3.775-3.986 1.041-5.97l.484-3.607.01-3.033.011-3.034-.525-2.266-.526-2.264-.869-1.5c-.476-.824-1.319-2.019-1.87-2.656-.55-.636-1.534-1.533-2.186-1.993-.652-.46-1.93-1.233-2.843-1.718l-1.658-.882-2.896-.698-2.898-.697-3.569-.341-3.57-.342-3.316.216-3.316.215-3.98.764-3.98.765-2.487.994c-1.368.546-3.457 1.544-4.642 2.217-1.186.672-2.827 1.766-3.647 2.43-.823.666-2.244 1.959-3.159 2.874-.916.916-2.272 2.56-3.011 3.654-.74 1.095-1.874 3.034-2.522 4.31-.646 1.278-1.489 3.069-1.872 3.98-.383.912-1.08 2.778-1.547 4.145-.469 1.369-1.204 3.98-1.635 5.805a109.124 109.124 0 0 0-1.313 6.67l-.528 3.357.005 4.935.005 4.934.504 2.156c.276 1.185.807 2.977 1.177 3.98.37 1.003 1.057 2.495 1.524 3.316.466.82 1.465 2.142 2.216 2.937.752.794 2.114 2 3.026 2.678.911.68 2.535 1.634 3.607 2.122l1.95.887 2.718.658c1.495.36 3.752.79 5.015.952 1.262.162 3.937.314 5.943.336zm6.246-46.717c-9.18 0-16.692-.065-16.692-.146 0-.08.392-1.237.871-2.57.478-1.334 1.32-3.317 1.868-4.41l.999-1.985 2.193-2.182 2.193-2.183 2.157-1.03c1.185-.567 2.752-1.185 3.48-1.372.731-.187 2.82-.436 4.643-.552l3.318-.213 2.547.328 2.546.327 1.85.847 1.851.847 1.016 1.095c.558.602 1.223 1.488 1.478 1.97l.463.875.306 1.943.307 1.944-.35 3.233-.35 3.234h-16.694zm99.213 46.718l3.65.04 4.142-.49c2.28-.27 5.313-.717 6.742-.995a76.861 76.861 0 0 0 5.14-1.22c1.398-.397 2.663-.824 2.812-.95.148-.127.542-1.633.877-3.345.335-1.712.758-4.009.938-5.103.18-1.095.274-2.048.208-2.12-.067-.072-.31.021-.543.205-.234.185-1.86.87-3.617 1.522l-3.193 1.186-4.547.88-4.548.881-3.865-.13-3.866-.133-2.197-.762-2.196-.762-1.697-1.483-1.696-1.485-1.127-2.05-1.124-2.05-.538-2.743-.535-2.743.004-3.557.002-3.558.652-4.311.652-4.312.688-2.322c.38-1.277.81-2.768.954-3.315.146-.548.753-2.115 1.352-3.483.598-1.368 1.665-3.482 2.37-4.698l1.284-2.21 1.577-1.635 1.577-1.634 1.668-1.034 1.67-1.036 2.145-.66c1.179-.364 3.264-.836 4.631-1.048l2.487-.388 3.648.183 3.648.183 4.31.864 4.312.861 1.753.654c.964.36 1.795.655 1.848.655.05 0 .282-1.231.513-2.737.232-1.504.643-3.98.914-5.5.273-1.522.43-2.833.349-2.912-.08-.08-1.376-.286-2.879-.457-1.504-.171-5.591-.475-9.082-.677l-6.35-.364-4.476.343-4.477.344-3.317.696-3.315.697-2.137.854c-1.174.47-2.894 1.318-3.823 1.884a60.66 60.66 0 0 0-2.625 1.693c-.516.365-2.08 1.788-3.479 3.163l-2.539 2.5-1.419 2.077c-.78 1.143-2.127 3.524-2.997 5.294l-1.58 3.217-1.211 3.48c-.666 1.916-1.596 5.05-2.066 6.965l-.855 3.483-.311 3.15-.31 3.15.003 4.146.004 4.145.312 2.411.313 2.412.994 2.48.992 2.481 1.149 1.793 1.146 1.793 1.824 1.796 1.825 1.795 1.93 1.021 1.93 1.02 2.535.704c1.393.387 3.408.831 4.476.987 1.068.156 3.584.302 5.593.324h-.006zm54.55-.122l4.476-.129 2.819-.721 2.819-.722 1.824-.862c1.003-.473 2.644-1.41 3.648-2.08 1.003-.67 2.557-1.944 3.45-2.83.895-.888 2.221-2.4 2.948-3.362.727-.963 1.365-1.707 1.419-1.653.055.054-.114 1.587-.372 3.407-.257 1.822-.471 4.244-.475 5.384l-.006 2.072h12.172l.187-4.724.185-4.726.869-6.136c.478-3.374 1.25-8.374 1.715-11.109.465-2.736 1.273-7.361 1.797-10.28.523-2.92 1.352-7.47 1.84-10.115l.892-4.808.03-4.153.03-4.154-.939-1.92-.94-1.92-1.272-1.222-1.275-1.223-2.09-1.059-2.091-1.06-3.116-.693-3.117-.694-4.29-.326-4.29-.326-5.527.342c-3.04.188-7.317.559-9.506.826l-3.98.482-2.712.01-2.712.01-.395 1.908c-.217 1.049-.82 3.54-1.34 5.537-.521 1.997-.898 3.678-.838 3.737.058.06 1.509-.27 3.222-.731 1.714-.462 5.355-1.22 8.092-1.686l4.974-.847 4.476-.184 4.477-.185 2.884.505 2.884.506 1.925.95 1.924.95 1.078 1.607 1.079 1.606-.015 2.532-.017 2.533-.57 2.779-.572 2.78-11.933.043-11.932.042-3.905 1.07c-2.147.59-4.526 1.372-5.285 1.738-.76.368-1.518.668-1.688.668-.168 0-1.446.707-2.839 1.575l-2.532 1.573-1.994 1.99c-1.098 1.096-2.499 2.738-3.114 3.65-.616.911-1.618 2.816-2.224 4.233l-1.103 2.576-.507 2.895-.507 2.897v6.077l.483 2.53.485 2.53.897 1.65c.494.906 1.402 2.236 2.015 2.953l1.117 1.304 1.982 1.205 1.983 1.205 2.271.642c1.25.353 3.15.781 4.224.951l1.953.308 4.477-.128h-.003zm4.145-9.274l-2.654.14-1.757-.449c-.965-.245-2.432-.794-3.259-1.219l-1.5-.772-.82-.974c-.45-.537-1.14-1.588-1.53-2.34l-.711-1.365-.139-3.187-.14-3.188.562-1.934c.309-1.063 1.035-2.91 1.612-4.101l1.05-2.168 2.011-1.996 2.01-1.996 2.135-1.028 2.134-1.028 2.653-.63 2.654-.63h16.581l.524.216.524.216-.44 2.603c-.243 1.43-.822 4.02-1.288 5.752-.464 1.734-1.285 4.28-1.823 5.66-.539 1.381-.98 2.602-.98 2.712 0 .112-.545 1.117-1.211 2.235l-1.21 2.034-1.989 1.971c-1.093 1.083-2.11 1.97-2.257 1.97-.146 0-.816.373-1.488.83l-1.223.827-2.69.851-2.689.85-2.652.138zm107.943 9.392l3.15.04 2.985-.485c1.642-.266 3.73-.695 4.643-.953.911-.259 2.554-.928 3.647-1.488l1.99-1.02 1.713-1.507 1.71-1.507 1.804-2.403c.992-1.323 1.889-2.628 1.995-2.902l.192-.499-.167 1.66a54.148 54.148 0 0 1-.46 3.316c-.16.912-.389 2.665-.51 3.897l-.22 2.237h13.012v-4.476l.99-8.457c.546-4.651 1.352-10.843 1.792-13.762.44-2.92 1.12-7.096 1.51-9.285.39-2.19 1.081-6.144 1.534-8.788.456-2.644 1.276-7.272 1.825-10.28.548-3.01 1.427-7.785 1.952-10.612l1.812-9.784c.471-2.553 1.317-7.03 1.878-9.948a704.51 704.51 0 0 1 1.823-9.12c.441-2.097.802-3.926.801-4.062v-.25h-14.195l-.21 2.074c-.114 1.14-.658 4.907-1.206 8.374-.549 3.464-1.444 8.986-1.99 12.269-.544 3.283-1.068 6.467-1.165 7.075l-.178 1.106-.56-.238c-.307-.131-1.978-.595-3.71-1.03l-3.15-.791-4.31-.336-4.312-.335-3.648.339-3.647.34-3.317.84-3.316.837-3.15 1.537-3.152 1.536-2.32 1.718-2.322 1.718-2.005 2.15c-1.103 1.183-2.695 3.138-3.54 4.346l-1.534 2.196-1.804 3.75c-.99 2.064-2.197 4.796-2.68 6.072-.484 1.278-1.335 4.108-1.894 6.29l-1.015 3.968-.5 5.153-.5 5.15.375 4.146.376 4.145.443 1.492c.246.821.76 2.283 1.145 3.25l.7 1.758 1.276 1.727 1.278 1.729 1.457 1.193 1.458 1.195 1.99.988c1.095.543 2.93 1.245 4.08 1.56 1.148.315 3.013.693 4.145.84 1.13.147 3.472.286 5.206.307zm5.654-9.407l-2.504.13-1.69-.303c-.929-.167-2.416-.616-3.305-.997l-1.615-.691-1.36-1.115-1.359-1.113-1.01-1.935-1.01-1.934-.461-2.156-.46-2.156.04-4.31.038-4.312.535-3.814.534-3.813.831-2.653c.457-1.459.834-2.836.836-3.06.004-.223.453-1.416 1.003-2.652a89.832 89.832 0 0 1 2.037-4.237c.572-1.095 1.64-2.8 2.374-3.79.736-.991 2.045-2.484 2.91-3.318.864-.832 2.238-1.926 3.056-2.428l1.484-.913 2.607-.903 2.607-.902 5.472-.003h5.472l3.15.875c1.733.48 3.573 1.037 4.089 1.238l.938.364-.183.91c-.1.502-.495 2.702-.876 4.89-.38 2.19-1.132 6.368-1.668 9.287-.537 2.918-1.361 7.32-1.833 9.782-.47 2.463-1.152 5.596-1.515 6.964a457.836 457.836 0 0 1-1.138 4.21c-.263.948-.889 2.59-1.39 3.648-.503 1.059-1.382 2.597-1.953 3.417-.572.82-1.538 1.959-2.148 2.527-.611.57-1.93 1.58-2.934 2.246l-1.824 1.212-2.636.837-2.637.837-2.504.134zm-488.066 7.793h8.056l.579-3.564c.317-1.96.939-5.73 1.38-8.374l1.823-10.943c.563-3.375 1.406-8.374 1.874-11.11.467-2.735 1.211-6.979 1.651-9.43.441-2.453.886-4.541.987-4.644l.187-.185h43.331l.241.24.241.24-.377 1.915c-.205 1.054-.816 4.303-1.357 7.221-.54 2.919-1.448 7.843-2.02 10.945-.568 3.1-1.393 7.503-1.83 9.782a1289.35 1289.35 0 0 0-1.968 10.612c-.643 3.556-1.17 6.653-1.167 6.881l.004.414h16.18l.358-2.072c.198-1.14.514-3.192.705-4.56.19-1.368.65-4.279 1.02-6.467.37-2.187 1.109-6.517 1.643-9.617.534-3.1 1.429-8.398 1.987-11.772.559-3.375 1.387-8.299 1.842-10.943a711.931 711.931 0 0 1 1.798-9.95 2821.88 2821.88 0 0 0 1.98-10.612c.555-3.008 1.384-7.56 1.845-10.114.461-2.553 1.3-7.18 1.867-10.28.566-3.1 1.28-6.719 1.587-8.042l.559-2.404h-16.384l-.223 1.576c-.121.865-.517 3.291-.879 5.388a1576.67 1576.67 0 0 1-1.46 8.29c-.442 2.463-1.249 7.163-1.794 10.447a784.292 784.292 0 0 0-1.543 9.658l-.553 3.688-12.025.244-12.026.243-10.072-.24c-5.54-.13-10.103-.265-10.141-.296-.037-.032.151-1.32.419-2.864a262.12 262.12 0 0 1 1.127-5.956c.352-1.733 1.02-5.165 1.482-7.629.464-2.461.988-5.52 1.167-6.797a84.57 84.57 0 0 1 .83-4.727c.278-1.321.806-4.107 1.174-6.189.366-2.081.757-4.022.869-4.31l.2-.526H121.685l-.52 2.902a231.194 231.194 0 0 0-.848 5.057c-.18 1.185-.786 4.99-1.345 8.456-.56 3.465-1.386 8.614-1.836 11.44-.45 2.828-1.27 7.977-1.82 11.442a700.908 700.908 0 0 1-2.023 11.938c-.56 3.102-1.373 7.503-1.805 9.783-.431 2.28-1.253 6.608-1.826 9.617a840.991 840.991 0 0 1-1.86 9.452c-.45 2.188-.946 4.725-1.103 5.636-.159.913-.671 3.543-1.142 5.846-.47 2.303-.854 4.429-.854 4.726v.538h8.059zm89.199 0h7.133l.2-.524c.112-.29.202-1.046.202-1.68 0-.638.45-3.946.997-7.353a2950.858 2950.858 0 0 1 3.848-23.273c.45-2.644 1.25-7.046 1.777-9.784a2436.17 2436.17 0 0 0 1.802-9.45 1195.97 1195.97 0 0 1 2.022-10.41c.649-3.264 1.26-6.064 1.36-6.224l.18-.292-7.213.09-7.213.088-.603 4.312a535.526 535.526 0 0 1-1.604 10.445c-.552 3.375-1.388 8.525-1.857 11.441a493.02 493.02 0 0 1-1.817 10.447l-1.808 9.617c-.462 2.463-1.293 6.79-1.846 9.617a1286.42 1286.42 0 0 1-1.648 8.29c-.355 1.734-.734 3.487-.845 3.898l-.2.745h7.133zm166.83 0h7.081l.212-2.996c.118-1.646.518-4.967.89-7.378.374-2.41 1.138-7.218 1.697-10.683.56-3.466 1.6-9.234 2.312-12.82.714-3.583 1.518-7.147 1.79-7.916.272-.771.494-1.605.494-1.855s.533-1.612 1.183-3.026c.65-1.414 1.863-3.58 2.695-4.812l1.511-2.242 2.023-1.874 2.023-1.872 2.495-1.192 2.495-1.192 3.815.02 3.812.02 1.876.56c1.03.308 1.963.56 2.072.56.109 0 .198-.351.198-.783 0-.43.373-2.614.829-4.854.455-2.238.829-4.164.829-4.28 0-.116-1.082-.54-2.404-.94-1.323-.402-3.15-.823-4.062-.937l-1.658-.205-2.156.382c-1.186.21-2.948.672-3.917 1.029-.97.356-2.57 1.163-3.556 1.794-.986.632-2.52 1.862-3.41 2.733-.89.872-2.385 2.63-3.323 3.907-.94 1.277-1.92 2.62-2.181 2.985l-.475.662.288-1.325c.159-.73.6-3.118.981-5.306.38-2.19.774-4.242.87-4.56l.176-.581H373.65v.8c0 .44-.374 3.087-.83 5.885-.456 2.799-1.208 7.475-1.671 10.394-.463 2.918-1.285 7.992-1.826 11.275a572.387 572.387 0 0 1-1.828 10.445 2317.56 2317.56 0 0 1-3.83 19.898c-.558 2.828-1.227 6.166-1.484 7.42-.259 1.253-.47 2.41-.47 2.569v.291h7.08zm168.074 0h7.239v-4.431l.834-5.495c.46-3.02 1.216-7.808 1.683-10.633a1372.56 1372.56 0 0 0 1.29-7.96c.246-1.55.892-4.908 1.438-7.461.548-2.554 1.23-5.314 1.518-6.136.288-.82.525-1.682.528-1.913.003-.232.62-1.721 1.37-3.31l1.367-2.892 1.804-2.395 1.802-2.394 1.973-1.484c1.085-.816 2.83-1.898 3.878-2.406l1.905-.922 4.144.028 4.146.03 1.632.523 1.631.524.276-.17.274-.17.016-1.058c.006-.582.361-2.747.788-4.813l.775-3.754-.872-.342a51.307 51.307 0 0 0-2.53-.862l-1.658-.523-2.984.008-2.985.007-2.432.857-2.433.855-1.827 1.101-1.825 1.102-2.375 2.487-2.375 2.487-1.276 1.93c-.7 1.06-1.318 1.881-1.372 1.823-.053-.057.328-2.27.847-4.913.52-2.645.952-5.145.96-5.555l.014-.747h-12.27v.212c0 .116-.306 2.242-.68 4.725a1358.83 1358.83 0 0 1-1.668 10.65c-.544 3.374-1.435 8.82-1.982 12.104a646.012 646.012 0 0 1-1.831 10.447c-.46 2.461-1.278 6.79-1.817 9.616-.54 2.828-1.425 7.38-1.968 10.115-.543 2.735-1.264 6.355-1.6 8.042l-.612 3.066h7.24zm-320.878-80.922l2.012.007 1.601-.545 1.602-.545 1.416-1.438 1.417-1.436.745-1.915.747-1.915.026-2.819.027-2.817-.663-1.102-.664-1.1-1.154-.715-1.155-.715h-4.986l-1.697.76-1.698.76-.985 1.055-.985 1.057-.774 1.823-.774 1.824-.146 2.841-.146 2.841.72 1.413.72 1.411 1.391.631 1.39.63 2.013.009z" fill="#B3131B"/></g></svg>'}Wi(".afd-card-logo").html(i).find("svg").attr("height",o.options.card.logoHeight).attr("width",o.options.card.logoWidth);var a=n.card.code;o.$cvvElement.data("code-name",a.name),o.$cvvElement.data("code-length",a.size),o.$cvvElement.attr("maxlength",a.size)}return t.data("card-is-regex-valid",n.isValid),t.data("card-is-syntax-valid",n.isValid),t.data("card-is-afd-valid",!1),console.log(1),Wi(document).trigger("afd:cardValidationUpdated",[t,o.$expiryElement,o.$cvvElement]),t.trigger("afd:cardValidationUpdated",[t,o.$expiryElement,o.$cvvElement]),o.$expiryElement.trigger("afd:cardValidationUpdated",[t,o.$expiryElement,o.$cvvElement]),o.$cvvElement.trigger("afd:cardValidationUpdated",[t,o.$expiryElement,o.$cvvElement]),n})),d(o,"onExpiryKeyDown",(function(t){var e=o.$expiryElement,n=e.val();(t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&(t.keyCode<112||t.keyCode>123)&&-1===o.utilKeys.indexOf(t.keyCode)&&t.preventDefault(),n.length>9&&37!==t.keyCode&&39!==t.keyCode&&8!==t.keyCode&&46!==t.keyCode&&t.preventDefault(),2!==n.length||Ui.expirationMonth(n).isValid||-1!==[8,46,37,39].indexOf(t.keyCode)||t.preventDefault(),o.keyupVal.length>4&&o.validSeperators.indexOf(t.key)>-1&&t.preventDefault(),5===o.keyupVal.length&&8===t.keyCode&&(e.val(o.keyupVal.replace(" / ","")),t.preventDefault())})),d(o,"onExpiryKeyUp",(function(t){var e=o.$expiryElement,n=e.val().replace(" ",""),i=Ui.expirationDate(n);if(i.isValid)o.handleValid(e);else if(1===n.length)o.clearValidation(e);else if(2===n.length){var a=n.substr(0,1),r=n.substr(1,1);if(o.validSeperators.indexOf(r)>-1){Ui.expirationMonth(a).isValid?e.val("0"+a+" / "):o.handleInvalid(o.options.card.invalidExpiryMonthMessage,e)}else{var s=Ui.expirationMonth(n);s.isValid&&8!==t.keyCode&&46!==t.keyCode?e.val(n+" / "):8===t.keyCode||46===t.keyCode&&s.isValid?o.clearValidation(e):o.handleInvalid(o.options.card.invalidExpiryMonthMessage,e)}}else 3===n.length?o.validSeperators.indexOf(t.key)>-1&&e.val(n.replace(t.key," / ")):o.clearValidation(e);o.keyupVal=e.val(),o.$element.data("card-is-afd-valid",!1),e.data("expiry-is-regex-valid",i.isValid),e.data("expiry-is-syntax-valid",i.isValid),Wi(document).trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement]),o.$element.trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement]),e.trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement]),o.$cvvElement.trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement])})),d(o,"onExpiryFocusOut",(function(t){var e=o.$expiryElement,n=e.val().replace(" ",""),i=Ui.expirationDate(n);if(i.isValid){var a=2===i.year.length?"20"+i.year:i.year;e.val(i.month+" / "+a),o.checkBoth()}else o.handleInvalid(o.options.card.invalidExpiryDateMessage,e);o.$element.data("card-is-afd-valid",!1),e.data("expiry-is-regex-valid",i.isValid),e.data("expiry-is-syntax-valid",i.isValid),Wi(document).trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement]),o.$element.trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement]),e.trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement]),o.$cvvElement.trigger("afd:cardValidationUpdated",[o.$element,e,o.$cvvElement])})),d(o,"checkBoth",(function(){var t=Wi('[data-afd-control="card"]'),e=t.val(),n=Ui.number(e),i=Wi('[data-afd-control="expiry"]'),a=i.val().replace(" / ","/"),r=Ui.expirationDate(a);n.isValid&&r.isValid&&(Wi(document).trigger("afd:cardValidationStarted",[t,i,o.$cvvElement]),t.trigger("afd:cardValidationStarted",[t,i,o.$cvvElement]),i.trigger("afd:cardValidationStarted",[t,i,o.$cvvElement]),o.showLoadingSpinner(t,o.options.card.loadingSpinner),o.validateCard(e,a).then((function(e){if("1"===e.Result){var n=v(e.Item,1)[0];o.handleValid(),o.handleValid(i),t.data("card-type-nice",n.CardType),t.data("card-is-afd-valid",!0),Wi(document).trigger("afd:cardValidationUpdated",[t,i,o.$cvvElement]),t.trigger("afd:cardValidationUpdated",[t,i,o.$cvvElement]),i.trigger("afd:cardValidationUpdated",[t,i,o.$cvvElement]),o.$cvvElement.trigger("afd:cardValidationUpdated",[t,i,o.$cvvElement])}else o.$element.data("card-is-afd-valid",!1),handleInvalid(options.card.invalidCardOrExpiryMessage);Wi(document).trigger("afd:cardValidationSuccess",[e,t,i,o.$cvvElement]),t.trigger("afd:cardValidationSuccess",[e,t,i,o.$cvvElement]),i.trigger("afd:cardValidationSuccess",[e,t,i,o.$cvvElement]),o.hideLoadingSpinner(t,o.options.card.loadingSpinner)})).catch((function(e){console.error(e),Wi(document).trigger("afd:cardValidationError",[e]),t.trigger("afd:cardValidationError",[e]),i.trigger("afd:cardValidationError",[e]),o.hideLoadingSpinner(t,o.options.card.loadingSpinner)})))})),o.utilKeys=[37,39,8,46,111,220,109,32,9],o.validSeperators=[" ","-","/","\\"],o.keyupVal="",o}return c(e,t),r(e,[{key:"validateCard",value:function(t,e){var n=this.setupParams({cardNumber:t,expiryDate:e,data:"bank",task:"card",fields:"card",afdc:this.options.afdc});return Wi.ajax(n)}}])}(Xn(p));function Qi(t,n){var i=jQuery,o={};n?o=n:"undefined"!=typeof afdOptions&&(o=afdOptions),o=i.extend(!0,{},e,o);var a=i(this);if(!a.is("input"))throw"<"+a.prop("tagName").toLowerCase()+'> is not a valid tag for `[data-afd-control="card"]`, use <input>';var r=i('[data-afd-control="expiry"]'),s=r.length;if(0===s)throw'Could not find an instance of `[data-afd-control="expiry"]`.  This is required for card validation';if(s>1)throw'More than one instance of `[data-afd-control="expiry"]` found';if(!r.is("input"))throw"<"+r.prop("tagName").toLowerCase()+'> is not a valid tag for `[data-afd-control="expiry"]`, use <input>';var l=new Zi(a,o);i(document).off("afd:init.afd").on("afd:init.afd",(function(){l.init()})),l.init()}var Ji=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,Yi=function(t){if(!t)return!1;if(t.length>254)return!1;if(!Ji.test(t))return!1;var e=t.split("@");return!(e[0].length>64)&&!e[1].split(".").some((function(t){return t.length>63}))};function Xi(t,e,n){return e=l(e),s(t,to()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function to(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(to=function(){return!!t})()}var eo=jQuery,no=function(t){function e(t,i){var o;return n(this,e),d(o=Xi(this,e,[t,i]),"onKeyUp",(function(t){var e=o.$element,n=e.val();e.data("email-is-afd-valid",!1),e.data("email-pce-message","Syntax not valid"),Yi(n)?(e.data("email-is-regex-valid",!0),e.data("email-syntax-valid",!0),e.data("email-pce-message","Regex valid, not yet queried PCE")):(e.data("email-is-regex-valid",!1),e.data("email-syntax-valid",!1),eo(document).trigger("afd:emailValidationUpdated",[e]),e.trigger("afd:emailValidationUpdated",[e])),o.clearValidation(),eo(document).trigger("afd:emailValidationUpdated",[e]),e.trigger("afd:emailValidationUpdated",[e])})),d(o,"onFocusOut",(function(){void 0===o.$element.data("afd-already-valid")&&o.$element.data("afd-already-valid",[]),void 0===o.$element.data("afd-already-invalid")&&o.$element.data("afd-already-invalid",[]);var t=o.$element,e=t.val();if(Yi(e)){if(t.data("email-is-regex-valid",!0),t.data("email-syntax-valid",!0),o.$element.data("afd-already-valid").indexOf(e)>-1)return o.handleValid(),t.data("email-is-afd-valid",!0),eo(document).trigger("afd:emailValidationUpdated",[t]),eo(document).trigger("afd:emailValidationUpdatedFocusOut",[t]),t.trigger("afd:emailValidationUpdated",[t]),void t.trigger("afd:emailValidationUpdatedFocusOut",[t]);if(o.$element.data("afd-already-invalid").indexOf(e)>-1)return o.handleInvalid(o.options.email.invalidEmailMessage),t.data("email-is-afd-valid",!1),eo(document).trigger("afd:emailValidationUpdated",[t]),eo(document).trigger("afd:emailValidationUpdatedFocusOut",[t]),t.trigger("afd:emailValidationUpdated",[t]),void t.trigger("afd:emailValidationUpdatedFocusOut",[t]);eo(document).trigger("afd:emailValidationStarted",[t]),t.trigger("afd:emailValidationStarted",[t]),o.showLoadingSpinner(t,o.options.email.loadingSpinner),o.validateEmail(e).then((function(n,i,a){if("1"===n.Result){var r=v(n.Item,1)[0];o.handleValid(),t.data("email-is-afd-valid",!0),t.data("email-pce-message",r.Status),eo(document).trigger("afd:emailValidationUpdated",[t]),eo(document).trigger("afd:emailValidationUpdatedFocusOut",[t]),t.trigger("afd:emailValidationUpdated",[t]),t.trigger("afd:emailValidationUpdatedFocusOut",[t]);var s=o.$element.data("afd-already-valid");s.indexOf(e)<0&&(s.push(e),o.$element.data("afd-already-valid",s))}else if("-2"===n.Result){o.handleInvalid(o.options.email.invalidEmailMessage),t.data("email-is-afd-valid",!1),t.data("email-pce-message",n.ErrorText),eo(document).trigger("afd:emailValidationUpdated",[t]),eo(document).trigger("afd:emailValidationUpdatedFocusOut",[t]),t.trigger("afd:emailValidationUpdated",[t]),t.trigger("afd:emailValidationUpdatedFocusOut",[t]);var l=o.$element.data("afd-already-invalid");l.indexOf(e)<0&&(l.push(e),o.$element.data("afd-already-invalid",l))}else o.clearValidation(),t.data("email-is-afd-valid",!1),t.data("email-pce-message",n.Result),eo(document).trigger("afd:emailValidationUpdated",[t]),eo(document).trigger("afd:emailValidationUpdatedFocusOut",[t]),t.trigger("afd:emailValidationUpdated",[t]),t.trigger("afd:emailValidationUpdatedFocusOut",[t]);eo(document).trigger("afd:emailValidationSuccess",[n,t,a]),t.trigger("afd:emailValidationSuccess",[n,t,a]),o.hideLoadingSpinner(t,o.options.email.loadingSpinner)})).fail((function(e){console.error(e),eo(document).trigger("afd:emailValidationError",[e]),o.hideLoadingSpinner(t,o.options.email.loadingSpinner)}))}else t.data("email-is-regex-valid",!1),t.data("email-syntax-valid",!1),o.handleInvalid(o.options.email.invalidEmailMessage),eo(document).trigger("afd:emailValidationUpdatedFocusOut",[t]),eo(document).trigger("afd:emailValidationUpdated",[t]),t.trigger("afd:emailValidationUpdated",[t]),t.trigger("afd:emailValidationUpdatedFocusOut",[t]);eo(document).trigger("afd:emailValidationUpdated",[t]),t.trigger("afd:emailValidationUpdated",[t])})),d(o,"validateEmail",(function(t){var e={data:"email",task:o.options.email.task,fields:"standard",email:t,afdc:o.options.afdc};e=eo.extend(e,o.options.email.additionalPCEParams);var n=o.setupParams(e);return eo.ajax(n)})),o.controlType="email",o}return c(e,t),r(e,[{key:"init",value:function(){var t=this.eventHandler;t(this.$element,"keyup",this.onKeyUp),t(this.$element,"focusout",this.onFocusOut)}}])}(Xn(p));function io(t,n){var i=jQuery,o={};n?o=n:"undefined"!=typeof afdOptions&&(o=afdOptions),o=i.extend(!0,{},e,o);var a=i(this);if(!a.is("input"))throw"<"+a.prop("tagName").toLowerCase()+'> is not a valid tag for `[data-afd-control="email"]`, use <input>';var r=new no(a,o);i(document).off("afd:init.afd").on("afd:init.afd",(function(){r.init()})),r.init()}var oo={exports:{}};!function(t){var e;e=function(t){return function(){for(var e=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (日本)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["North Macedonia (Северна Македонија)","mk","389"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1,["5288","5289"]],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1,["18"]]],n=0;n<e.length;n++){var i=e[n];e[n]={name:i[0],iso2:i[1],dialCode:i[2],priority:i[3]||0,areaCodes:i[4]||null}}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a={getInstance:function(t){var e=t.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[e]},instances:{},documentReady:function(){return"complete"===document.readyState}};"object"==typeof window&&(window.intlTelInputGlobals=a);var r=0,s={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},l=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],u=function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++)e(n[i],t[n[i]])},c=function(t){u(window.intlTelInputGlobals.instances,(function(e){window.intlTelInputGlobals.instances[e][t]()}))},d=function(){function n(t,e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.id=r++,this.telInput=t,this.activeItem=null,this.highlightedItem=null;var o=e||{};this.options={},u(s,(function(t,e){i.options[t]=o.hasOwnProperty(t)?o[t]:e})),this.hadInitialPlaceholder=Boolean(t.getAttribute("placeholder"))}var i,a,d;return i=n,a=[{key:"_init",value:function(){var t=this;if(this.options.nationalMode&&(this.options.autoHideDialCode=!1),this.options.separateDialCode&&(this.options.autoHideDialCode=this.options.nationalMode=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(document.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=document.body)),"undefined"!=typeof Promise){var e=new Promise((function(e,n){t.resolveAutoCountryPromise=e,t.rejectAutoCountryPromise=n})),n=new Promise((function(e,n){t.resolveUtilsScriptPromise=e,t.rejectUtilsScriptPromise=n}));this.promise=Promise.all([e,n])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(e,n,i){n.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=n.length),this.countryCodes.hasOwnProperty(n)||(this.countryCodes[n]=[]);for(var o=0;o<this.countryCodes[n].length;o++)if(this.countryCodes[n][o]===e)return;var a=i!==t?i:this.countryCodes[n].length;this.countryCodes[n][a]=e}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var t=this.options.onlyCountries.map((function(t){return t.toLowerCase()}));this.countries=e.filter((function(e){return t.indexOf(e.iso2)>-1}))}else if(this.options.excludeCountries.length){var n=this.options.excludeCountries.map((function(t){return t.toLowerCase()}));this.countries=e.filter((function(t){return-1===n.indexOf(t.iso2)}))}else this.countries=e}},{key:"_translateCountriesByLocale",value:function(){for(var t=0;t<this.countries.length;t++){var e=this.countries[t].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(e)&&(this.countries[t].name=this.options.localizedCountries[e])}}},{key:"_countryNameSort",value:function(t,e){return t.name.localeCompare(e.name)}},{key:"_processCountryCodes",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.countryCodes={};for(var t=0;t<this.countries.length;t++){var e=this.countries[t];this.dialCodes[e.dialCode]||(this.dialCodes[e.dialCode]=!0),this._addCountryCode(e.iso2,e.dialCode,e.priority)}for(var n=0;n<this.countries.length;n++){var i=this.countries[n];if(i.areaCodes)for(var o=this.countryCodes[i.dialCode][0],a=0;a<i.areaCodes.length;a++){for(var r=i.areaCodes[a],s=1;s<r.length;s++){var l=i.dialCode+r.substr(0,s);this._addCountryCode(o,l),this._addCountryCode(i.iso2,l)}this._addCountryCode(i.iso2,i.dialCode+r)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var t=0;t<this.options.preferredCountries.length;t++){var e=this.options.preferredCountries[t].toLowerCase(),n=this._getCountryData(e,!1,!0);n&&this.preferredCountries.push(n)}}},{key:"_createEl",value:function(t,e,n){var i=document.createElement(t);return e&&u(e,(function(t,e){return i.setAttribute(t,e)})),n&&n.appendChild(i),i}},{key:"_generateMarkup",value:function(){this.telInput.hasAttribute("autocomplete")||this.telInput.form&&this.telInput.form.hasAttribute("autocomplete")||this.telInput.setAttribute("autocomplete","off");var t="iti";this.options.allowDropdown&&(t+=" iti--allow-dropdown"),this.options.separateDialCode&&(t+=" iti--separate-dial-code"),this.options.customContainer&&(t+=" ",t+=this.options.customContainer);var e=this._createEl("div",{class:t});if(this.telInput.parentNode.insertBefore(e,this.telInput),this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},e),e.appendChild(this.telInput),this.selectedFlag=this._createEl("div",{class:"iti__selected-flag",role:"combobox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-owns":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false"},this.flagsContainer),this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag),this.options.separateDialCode&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),this.options.allowDropdown&&(this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),this.options.dropdownContainer?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),this.options.hiddenInput){var n=this.options.hiddenInput,i=this.telInput.getAttribute("name");if(i){var o=i.lastIndexOf("[");-1!==o&&(n="".concat(i.substr(0,o),"[").concat(n,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:n}),e.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(t,e,n){for(var i="",o=0;o<t.length;o++){var a=t[o],r=n?"-preferred":"";i+="<li class='iti__country ".concat(e,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(a.iso2).concat(r,"' role='option' data-dial-code='").concat(a.dialCode,"' data-country-code='").concat(a.iso2,"' aria-selected='false'>"),i+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(a.iso2,"'></div></div>"),i+="<span class='iti__country-name'>".concat(a.name,"</span>"),i+="<span class='iti__dial-code'>+".concat(a.dialCode,"</span>"),i+="</li>"}this.countryList.insertAdjacentHTML("beforeend",i)}},{key:"_setInitialState",value:function(){var t=this.telInput.getAttribute("value"),e=this.telInput.value,n=!t||"+"!==t.charAt(0)||e&&"+"===e.charAt(0)?e:t,i=this._getDialCode(n),o=this._isRegionlessNanp(n),a=this.options,r=a.initialCountry,s=a.nationalMode,l=a.autoHideDialCode,u=a.separateDialCode;i&&!o?this._updateFlagFromNumber(n):"auto"!==r&&(r?this._setFlag(r.toLowerCase()):i&&o?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,n||this._setFlag(this.defaultCountry)),n||s||l||u||(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),n&&this._updateValFromNumber(n)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoHideDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var t=this;this._handleHiddenInputSubmit=function(){t.hiddenInput.value=t.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var t=this.telInput;t&&"LABEL"!==t.tagName;)t=t.parentNode;return t}},{key:"_initDropdownListeners",value:function(){var t=this;this._handleLabelClick=function(e){t.countryList.classList.contains("iti__hide")?t.telInput.focus():e.preventDefault()};var e=this._getClosestLabel();e&&e.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){!t.countryList.classList.contains("iti__hide")||t.telInput.disabled||t.telInput.readOnly||t._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(e){t.countryList.classList.contains("iti__hide")&&-1!==["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(e.key)&&(e.preventDefault(),e.stopPropagation(),t._showDropdown()),"Tab"===e.key&&t._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var t=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",(function(){window.intlTelInputGlobals.loadUtils(t.options.utilsScript)})):this.resolveUtilsScriptPromise(),"auto"===this.options.initialCountry?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup((function(t){window.intlTelInputGlobals.autoCountry=t.toLowerCase(),setTimeout((function(){return c("handleAutoCountry")}))}),(function(){return c("rejectAutoCountryPromise")})))}},{key:"_initKeyListeners",value:function(){var t=this;this._handleKeyupEvent=function(){t._updateFlagFromNumber(t.telInput.value)&&t._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(t._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(t){var e=this.telInput.getAttribute("maxlength");return e&&t.length>e?t.substr(0,e):t}},{key:"_initBlurListeners",value:function(){var t=this;this._handleSubmitOrBlurEvent=function(){t._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if("+"===this.telInput.value.charAt(0)){var t=this._getNumeric(this.telInput.value);t&&this.selectedCountryData.dialCode!==t||(this.telInput.value="")}}},{key:"_getNumeric",value:function(t){return t.replace(/\D/g,"")}},{key:"_trigger",value:function(t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),this.telInput.dispatchEvent(e)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(t,e,n){n&&!t.classList.contains(e)?t.classList.add(e):!n&&t.classList.contains(e)&&t.classList.remove(e)}},{key:"_setDropdownPosition",value:function(){var t=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var e=this.telInput.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,i=e.top+n,o=this.countryList.offsetHeight,a=i+this.telInput.offsetHeight+o<n+window.innerHeight,r=i-o>n;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!a&&r),this.options.dropdownContainer){var s=!a&&r?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(i+s,"px"),this.dropdown.style.left="".concat(e.left+document.body.scrollLeft,"px"),this._handleWindowScroll=function(){return t._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(t){for(var e=t;e&&e!==this.countryList&&!e.classList.contains("iti__country");)e=e.parentNode;return e===this.countryList?null:e}},{key:"_bindDropdownListeners",value:function(){var t=this;this._handleMouseoverCountryList=function(e){var n=t._getClosestListItem(e.target);n&&t._highlightListItem(n,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(e){var n=t._getClosestListItem(e.target);n&&t._selectListItem(n)},this.countryList.addEventListener("click",this._handleClickCountryList);var e=!0;this._handleClickOffToClose=function(){e||t._closeDropdown(),e=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);var n="",i=null;this._handleKeydownOnDropdown=function(e){e.preventDefault(),"ArrowUp"===e.key||"Up"===e.key||"ArrowDown"===e.key||"Down"===e.key?t._handleUpDownKey(e.key):"Enter"===e.key?t._handleEnterKey():"Escape"===e.key?t._closeDropdown():/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(e.key)&&(i&&clearTimeout(i),n+=e.key.toLowerCase(),t._searchForCountry(n),i=setTimeout((function(){n=""}),1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(t){var e="ArrowUp"===t||"Up"===t?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;e&&(e.classList.contains("iti__divider")&&(e="ArrowUp"===t||"Up"===t?e.previousElementSibling:e.nextElementSibling),this._highlightListItem(e,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(t){for(var e=0;e<this.countries.length;e++)if(this._startsWith(this.countries[e].name,t)){var n=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[e].iso2));this._highlightListItem(n,!1),this._scrollTo(n,!0);break}}},{key:"_startsWith",value:function(t,e){return t.substr(0,e.length).toLowerCase()===e}},{key:"_updateValFromNumber",value:function(t){var e=t;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var n=!this.options.separateDialCode&&(this.options.nationalMode||"+"!==e.charAt(0)),i=intlTelInputUtils.numberFormat,o=i.NATIONAL,a=i.INTERNATIONAL,r=n?o:a;e=intlTelInputUtils.formatNumber(e,this.selectedCountryData.iso2,r)}e=this._beforeSetNumber(e),this.telInput.value=e}},{key:"_updateFlagFromNumber",value:function(t){var e=t,n=this.selectedCountryData.dialCode,i="1"===n;e&&this.options.nationalMode&&i&&"+"!==e.charAt(0)&&("1"!==e.charAt(0)&&(e="1".concat(e)),e="+".concat(e)),this.options.separateDialCode&&n&&"+"!==e.charAt(0)&&(e="+".concat(n).concat(e));var o=this._getDialCode(e,!0),a=this._getNumeric(e),r=null;if(o){var s=this.countryCodes[this._getNumeric(o)],l=-1!==s.indexOf(this.selectedCountryData.iso2)&&a.length<=o.length-1;if(!("1"===n&&this._isRegionlessNanp(a)||l))for(var u=0;u<s.length;u++)if(s[u]){r=s[u];break}}else"+"===e.charAt(0)&&a.length?r="":e&&"+"!==e||(r=this.defaultCountry);return null!==r&&this._setFlag(r)}},{key:"_isRegionlessNanp",value:function(t){var e=this._getNumeric(t);if("1"===e.charAt(0)){var n=e.substr(1,3);return-1!==l.indexOf(n)}return!1}},{key:"_highlightListItem",value:function(t,e){var n=this.highlightedItem;n&&n.classList.remove("iti__highlight"),this.highlightedItem=t,this.highlightedItem.classList.add("iti__highlight"),e&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(t,n,i){for(var o=n?e:this.countries,a=0;a<o.length;a++)if(o[a].iso2===t)return o[a];if(i)return null;throw new Error("No country data for '".concat(t,"'"))}},{key:"_setFlag",value:function(t){var e=this.selectedCountryData.iso2?this.selectedCountryData:{};this.selectedCountryData=t?this._getCountryData(t,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(t));var n=t?"".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):"Unknown";if(this.selectedFlag.setAttribute("title",n),this.options.separateDialCode){var i=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=i;var o=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.telInput.style.paddingLeft="".concat(o+6,"px")}if(this._updatePlaceholder(),this.options.allowDropdown){var a=this.activeItem;if(a&&(a.classList.remove("iti__active"),a.setAttribute("aria-selected","false")),t){var r=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t));r.setAttribute("aria-selected","true"),r.classList.add("iti__active"),this.activeItem=r,this.selectedFlag.setAttribute("aria-activedescendant",r.getAttribute("id"))}}return e.iso2!==t}},{key:"_getHiddenSelectedFlagWidth",value:function(){var t=this.telInput.parentNode.cloneNode();t.style.visibility="hidden",document.body.appendChild(t);var e=this.flagsContainer.cloneNode();t.appendChild(e);var n=this.selectedFlag.cloneNode(!0);e.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),i}},{key:"_updatePlaceholder",value:function(){var t="aggressive"===this.options.autoPlaceholder||!this.hadInitialPlaceholder&&"polite"===this.options.autoPlaceholder;if(window.intlTelInputUtils&&t){var e=intlTelInputUtils.numberType[this.options.placeholderNumberType],n=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,e):"";n=this._beforeSetNumber(n),"function"==typeof this.options.customPlaceholder&&(n=this.options.customPlaceholder(n,this.selectedCountryData)),this.telInput.setAttribute("placeholder",n)}}},{key:"_selectListItem",value:function(t){var e=this._setFlag(t.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(t.getAttribute("data-dial-code"),!0),this.telInput.focus();var n=this.telInput.value.length;this.telInput.setSelectionRange(n,n),e&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(t,e){var n=this.countryList,i=window.pageYOffset||document.documentElement.scrollTop,o=n.offsetHeight,a=n.getBoundingClientRect().top+i,r=a+o,s=t.offsetHeight,l=t.getBoundingClientRect().top+i,u=l+s,c=l-a+n.scrollTop,d=o/2-s/2;if(l<a)e&&(c-=d),n.scrollTop=c;else if(u>r){e&&(c+=d);var h=o-s;n.scrollTop=c-h}}},{key:"_updateDialCode",value:function(t,e){var n,i=this.telInput.value,o="+".concat(t);if("+"===i.charAt(0)){var a=this._getDialCode(i);n=a?i.replace(a,o):o}else{if(this.options.nationalMode||this.options.separateDialCode)return;if(i)n=o+i;else{if(!e&&this.options.autoHideDialCode)return;n=o}}this.telInput.value=n}},{key:"_getDialCode",value:function(t,e){var n="";if("+"===t.charAt(0))for(var i="",o=0;o<t.length;o++){var a=t.charAt(o);if(!isNaN(parseInt(a,10))){if(i+=a,e)this.countryCodes[i]&&(n=t.substr(0,o+1));else if(this.dialCodes[i]){n=t.substr(0,o+1);break}if(i.length===this.countryCodeMaxLen)break}}return n}},{key:"_getFullNumber",value:function(){var t=this.telInput.value.trim(),e=this.selectedCountryData.dialCode,n=this._getNumeric(t);return(this.options.separateDialCode&&"+"!==t.charAt(0)&&e&&n?"+".concat(e):"")+t}},{key:"_beforeSetNumber",value:function(t){var e=t;if(this.options.separateDialCode){var n=this._getDialCode(e);if(n){var i=" "===e[(n="+".concat(this.selectedCountryData.dialCode)).length]||"-"===e[n.length]?n.length+1:n.length;e=e.substr(i)}}return this._cap(e)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){"auto"===this.options.initialCountry&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var t=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var e=this._getClosestLabel();e&&e.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&t&&t.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoHideDialCode&&(t&&t.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var n=this.telInput.parentNode;n.parentNode.insertBefore(this.telInput,n),n.parentNode.removeChild(n),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(t){if(window.intlTelInputUtils){var e=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),e,t)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var t=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),t)}return-99}},{key:"isValidNumber",value:function(){var t=this._getFullNumber().trim(),e=this.options.nationalMode?this.selectedCountryData.iso2:"";return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(t,e):null}},{key:"setCountry",value:function(t){var e=t.toLowerCase();this.selectedFlagInner.classList.contains("iti__".concat(e))||(this._setFlag(e),this._updateDialCode(this.selectedCountryData.dialCode,!1),this._triggerCountryChange())}},{key:"setNumber",value:function(t){var e=this._updateFlagFromNumber(t);this._updateValFromNumber(t),e&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(t){this.options.placeholderNumberType=t,this._updatePlaceholder()}}],a&&o(i.prototype,a),d&&o(i,d),n}();a.getCountryData=function(){return e};var h=function(t,e,n){var i=document.createElement("script");i.onload=function(){c("handleUtils"),e&&e()},i.onerror=function(){c("rejectUtilsScriptPromise"),n&&n()},i.className="iti-load-utils",i.async=!0,i.src=t,document.body.appendChild(i)};return a.loadUtils=function(t){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,"undefined"!=typeof Promise)return new Promise((function(e,n){return h(t,e,n)}));h(t)}return null},a.defaults=s,a.version="17.0.21",function(t,e){var n=new d(t,e);return n._init(),t.setAttribute("data-intl-tel-input-id",n.id),window.intlTelInputGlobals.instances[n.id]=n,n}}()},t.exports?t.exports=e():window.intlTelInput=e()}(oo);var ao=y(oo.exports);function ro(t,e,n){return e=l(e),s(t,so()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function so(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(so=function(){return!!t})()}var lo=jQuery,uo=function(t){function e(t,i){var o;return n(this,e),d(o=ro(this,e,[t,i]),"onKeyUp",(function(){var t=o.$element,e=o.$element.val();o.$element.val().startsWith("00")&&(e=e.replace("00","+")),o.$element.val(e),o.updateDataAttributes(),t.data("phone-is-afd-valid",!1),o.clearValidation(),o.iti.isValidNumber()&&o.iti.setNumber(o.iti.getNumber("2")),lo(document).trigger("afd:phoneValidationUpdated",[t])})),d(o,"onFocusOut",(function(){void 0===o.$element.data("afd-already-valid")&&o.$element.data("afd-already-valid",[]),void 0===o.$element.data("afd-already-invalid")&&o.$element.data("afd-already-invalid",[]);var t=o.$element;if(!(t.val().length<1))if(o.iti.isValidNumber()){if(o.$element.data("afd-already-valid").indexOf(o.iti.getNumber())>-1)return o.handleValid(),t.data("phone-is-afd-valid",!0),void lo(document).trigger("afd:phoneValidationUpdated",[t]);if(o.$element.data("afd-already-invalid").indexOf(o.iti.getNumber())>-1)return o.handleInvalid(o.options.phone.invalidPhoneNumberMessage),t.data("phone-is-afd-valid",!1),void lo(document).trigger("afd:phoneValidationUpdated",[t]);lo(document).trigger("afd:phoneValidationStarted",[t]),o.showLoadingSpinner(t,o.options.phone.loadingSpinner),o.validatePhone(o.iti.getNumber(),o.countryData.iso3).done((function(e,n,i){if("1"===e.Result){o.handleValid(),t.data("phone-is-afd-valid",!0),lo(document).trigger("afd:phoneValidationUpdated",[t]);var a=o.$element.data("afd-already-valid");a.indexOf(o.iti.getNumber())<0&&(a.push(o.iti.getNumber()),o.$element.data("afd-already-valid",a))}else if("-2"===e.Result){o.handleInvalid(o.options.phone.invalidPhoneNumberMessage),t.data("phone-is-afd-valid",!1),lo(document).trigger("afd:phoneValidationUpdated",[t]);var r=o.$element.data("afd-already-invalid");r.indexOf(o.iti.getNumber())<0&&(r.push(o.iti.getNumber()),o.$element.data("afd-already-invalid",r))}else-7===e.Result&&(console.error("Unable to validate phone number using AFD PCE, data licence error"),t.data("phone-is-afd-valid",!0),lo(document).trigger("afd:phoneValidationUpdated",[t]));lo(document).trigger("afd:phoneValidationSuccess",[e,t,i]),o.hideLoadingSpinner(t,o.options.phone.loadingSpinner)})).fail((function(e){console.error(e),lo(document).trigger("afd:phoneValidationError",[e]),o.hideLoadingSpinner(t,o.options.phone.loadingSpinner)}))}else o.handleInvalid(o.options.phone.invalidPhoneNumberMessage),t.data("phone-is-afd-valid",!1),lo(document).trigger("afd:phoneValidationUpdated",[o.$element])})),d(o,"onCountryChange",(function(){var t=o.$element,e=t.val();o.countryData=o.iti.getSelectedCountryData(),void 0!==o.countryData.iso2&&(o.countryData.iso3=o.iso2ToIso3(o.countryData.iso2.toUpperCase())),void 0!==o.countryData.dialCode&&e.startsWith("+")&&(e=e.replace("+"+o.countryData.dialCode,"")),o.$element.val(e),o.updateDataAttributes(),lo(document).trigger("afd:phoneValidationUpdated",[t])})),d(o,"onCountryControlChange",(function(t){var e=o.options.phone.countryControlConverter?o.options.phone.countryControlConverter(t,o.iso2ToIso3):o.formatCountryISO2(t.target.value);o.iti.setCountry(e)})),d(o,"formatCountryISO2",(function(t){if([2,3].indexOf(t.length)<0)throw"Value of country field should be either ISO2 or ISo3 format";return t=2===t.length?t.toLowerCase():iso3ToIso2(t).toLowerCase()})),d(o,"setCountryDialingCode",(function(t,e){return"+"!==t.substr(0,1)&&t.substr(0,!0)?e+t:t})),d(o,"updateDataAttributes",(function(){var t=o.$element,e=o.iti.getNumberType();t.data("phone-is-regex-valid",o.iti.isValidNumber()),t.data("phone-is-syntax-valid",o.iti.isValidNumber()),t.data("phone-syntax-valid",o.iti.isValidNumber()),t.data("phone-region-name",void 0!==o.countryData.name?o.countryData.name:""),t.data("phone-region",void 0!==o.countryData.iso2?o.countryData.iso2.toUpperCase():""),t.data("phone-region-iso2",void 0!==o.countryData.iso2?o.countryData.iso2.toUpperCase():""),t.data("phone-region-iso3",void 0!==o.countryData.iso3?o.countryData.iso3:""),t.data("phone-number",o.iti.getNumber()),t.data("phone-number-e164",o.iti.getNumber()),t.data("phone-number-international",o.iti.getNumber(1)),t.data("phone-number-national",o.iti.getNumber(2)),t.data("phone-number-rfc3966",o.iti.getNumber(3));var n=["FIXED_LINE","MOBILE","FIXED_LINE_OR_MOBILE","TOLL_FREE","PREMIUM_RATE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];t.data("phone-is-mobile",e>-1&&"MOBILE"===n[e]),t.data("phone-is-landline",e>-1&&"FIXED_LINE"===n[e]),t.data("phone-number-type",e>-1?n[e]:"UNKNOWN")})),o.controlType="phone",o}return c(e,t),r(e,[{key:"init",value:function(){this.$element.data("phone-is-afd-valid",!1),this.countryControl=lo(this.options.phone.countryControl),this.countryControl&&0===this.countryControl.length&&console.warn("Country control `"+this.options.phone.countryControl+"` not found");var t=this.eventHandler;t(this.$element,"keyup",this.onKeyUp),t(this.$element,"focusout",this.onFocusOut),t(this.countryControl,"change",this.onCountryControlChange),t(this.$element,"countrychange",this.onCountryChange);var e=this.$element.val();this.iti=ao(this.element,{utilsScript:"https://cdn.afd.co.uk/plugins/shared/phone/19.5.7/utils.js",separateDialCode:!0}),this.$element.val(e),this.iti.setNumber(this.options.phone.defaultDialingCode),this.countryData=this.iti.getSelectedCountryData()}},{key:"validatePhone",value:function(t,e){lo(document).trigger("afd:phoneValidationStared",this.$element);var n=this.setupParams({phone:t,data:"phone",task:"full",fields:"standard",countryiso:e,afdc:this.options.afdc});return lo.ajax(n)}}])}(Xn(p));function co(t,n){var i=jQuery,o={};void 0!==n?o=n:"undefined"!=typeof afdOptions&&(o=afdOptions),o=i.extend(!0,{},e,o);var a=i(this);if(!a.is("input"))throw"<"+a.prop("tagName").toLowerCase()+'> is not a valid tag for `[data-afd-control="phone"]`, use <input>';var r=new uo(a,o);i(document).off("afd:init.afd").on("afd:init.afd",(function(){r.init()})),r.init()}var ho=function(t,e){for(var n=-1,i=null==t?0:t.length,o=0,a=[];++n<i;){var r=t[n];e(r,n,t)&&(a[o++]=r)}return a};var po=function(t){return function(e,n,i){for(var o=-1,a=Object(e),r=i(e),s=r.length;s--;){var l=r[t?s:++o];if(!1===n(a[l],l,a))break}return e}}();var fo=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i},vo={exports:{}};var go=function(){return!1};!function(t,e){var n=I,i=go,o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,r=a&&a.exports===o?n.Buffer:void 0,s=(r?r.isBuffer:void 0)||i;t.exports=s}(vo,vo.exports);var yo=vo.exports,mo=B,Co=Ne,bo=D,wo={};wo["[object Float32Array]"]=wo["[object Float64Array]"]=wo["[object Int8Array]"]=wo["[object Int16Array]"]=wo["[object Int32Array]"]=wo["[object Uint8Array]"]=wo["[object Uint8ClampedArray]"]=wo["[object Uint16Array]"]=wo["[object Uint32Array]"]=!0,wo["[object Arguments]"]=wo["[object Array]"]=wo["[object ArrayBuffer]"]=wo["[object Boolean]"]=wo["[object DataView]"]=wo["[object Date]"]=wo["[object Error]"]=wo["[object Function]"]=wo["[object Map]"]=wo["[object Number]"]=wo["[object Object]"]=wo["[object RegExp]"]=wo["[object Set]"]=wo["[object String]"]=wo["[object WeakMap]"]=!1;var ko=function(t){return bo(t)&&Co(t.length)&&!!wo[mo(t)]},So=En,Io=On&&On.isTypedArray,Lo=Io?So(Io):ko,xo=fo,_o=De,Mo=b,Ao=yo,Eo=Ve,Fo=Lo,Oo=Object.prototype.hasOwnProperty;var zo=function(t,e){var n=Mo(t),i=!n&&_o(t),o=!n&&!i&&Ao(t),a=!n&&!i&&!o&&Fo(t),r=n||i||o||a,s=r?xo(t.length,String):[],l=s.length;for(var u in t)!e&&!Oo.call(t,u)||r&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Eo(u,l))||s.push(u);return s},$o=Object.prototype;var Ro=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||$o)};var To=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Bo=Ro,Do=To,Po=Object.prototype.hasOwnProperty;var Vo=J,No=Ne;var jo=function(t){return null!=t&&No(t.length)&&!Vo(t)},Go=zo,Uo=function(t){if(!Bo(t))return Do(t);var e=[];for(var n in Object(t))Po.call(t,n)&&"constructor"!=n&&e.push(n);return e},qo=jo;var Ho=function(t){return qo(t)?Go(t):Uo(t)},Ko=po,Wo=Ho;var Zo=jo;var Qo=function(t,e){return function(n,i){if(null==n)return n;if(!Zo(n))return t(n,i);for(var o=n.length,a=e?o:-1,r=Object(n);(e?a--:++a<o)&&!1!==i(r[a],a,r););return n}}((function(t,e){return t&&Ko(t,e,Wo)}));var Jo=function(t,e){var n=[];return Qo(t,(function(t,i,o){e(t,i,o)&&n.push(t)})),n},Yo=Wt;var Xo=Wt,ta=Zt,ea=de;var na=Wt,ia=function(){this.__data__=new Yo,this.size=0},oa=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},aa=function(t){return this.__data__.get(t)},ra=function(t){return this.__data__.has(t)},sa=function(t,e){var n=this.__data__;if(n instanceof Xo){var i=n.__data__;if(!ta||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ea(i)}return n.set(t,e),this.size=n.size,this};function la(t){var e=this.__data__=new na(t);this.size=e.size}la.prototype.clear=ia,la.prototype.delete=oa,la.prototype.get=aa,la.prototype.has=ra,la.prototype.set=sa;var ua=la;var ca=de,da=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ha=function(t){return this.__data__.has(t)};function pa(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ca;++e<n;)this.add(t[e])}pa.prototype.add=pa.prototype.push=da,pa.prototype.has=ha;var fa=pa,va=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},ga=function(t,e){return t.has(e)};var ya=function(t,e,n,i,o,a){var r=1&n,s=t.length,l=e.length;if(s!=l&&!(r&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=2&n?new fa:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var f=t[d],v=e[d];if(i)var g=r?i(v,f,d,e,t,a):i(f,v,d,t,e,a);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!va(e,(function(t,e){if(!ga(p,e)&&(f===t||o(f,t,n,i,a)))return p.push(e)}))){h=!1;break}}else if(f!==v&&!o(f,v,n,i,a)){h=!1;break}}return a.delete(t),a.delete(e),h};var ma=I.Uint8Array,Ca=$t,ba=ya,wa=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n},ka=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Sa=L?L.prototype:void 0,Ia=Sa?Sa.valueOf:void 0;var La=function(t,e,n,i,o,a,r){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new ma(t),new ma(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ca(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=wa;case"[object Set]":var l=1&i;if(s||(s=ka),t.size!=e.size&&!l)return!1;var u=r.get(t);if(u)return u==e;i|=2,r.set(t,e);var c=ba(s(t),s(e),i,o,a,r);return r.delete(t),c;case"[object Symbol]":if(Ia)return Ia.call(t)==Ia.call(e)}return!1};var xa=function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t},_a=b;var Ma=function(t,e,n){var i=e(t);return _a(t)?i:xa(i,n(t))};var Aa=ho,Ea=function(){return[]},Fa=Object.prototype.propertyIsEnumerable,Oa=Object.getOwnPropertySymbols,za=Ma,$a=Oa?function(t){return null==t?[]:(t=Object(t),Aa(Oa(t),(function(e){return Fa.call(t,e)})))}:Ea,Ra=Ho;var Ta=function(t){return za(t,Ra,$a)},Ba=Object.prototype.hasOwnProperty;var Da=ua,Pa=ya,Va=La,Na=function(t,e,n,i,o,a){var r=1&n,s=Ta(t),l=s.length;if(l!=Ta(e).length&&!r)return!1;for(var u=l;u--;){var c=s[u];if(!(r?c in e:Ba.call(e,c)))return!1}var d=a.get(t),h=a.get(e);if(d&&h)return d==e&&h==t;var p=!0;a.set(t,e),a.set(e,t);for(var f=r;++u<l;){var v=t[c=s[u]],g=e[c];if(i)var y=r?i(g,v,c,e,t,a):i(v,g,c,t,e,a);if(!(void 0===y?v===g||o(v,g,n,i,a):y)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var m=t.constructor,C=e.constructor;m==C||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof C&&C instanceof C||(p=!1)}return a.delete(t),a.delete(e),p},ja=An,Ga=b,Ua=yo,qa=Lo,Ha="[object Arguments]",Ka="[object Array]",Wa="[object Object]",Za=Object.prototype.hasOwnProperty;var Qa=function(t,e,n,i,o,a){var r=Ga(t),s=Ga(e),l=r?Ka:ja(t),u=s?Ka:ja(e),c=(l=l==Ha?Wa:l)==Wa,d=(u=u==Ha?Wa:u)==Wa,h=l==u;if(h&&Ua(t)){if(!Ua(e))return!1;r=!0,c=!1}if(h&&!c)return a||(a=new Da),r||qa(t)?Pa(t,e,n,i,o,a):Va(t,e,l,n,i,o,a);if(!(1&n)){var p=c&&Za.call(t,"__wrapped__"),f=d&&Za.call(e,"__wrapped__");if(p||f){var v=p?t.value():t,g=f?e.value():e;return a||(a=new Da),o(v,g,n,i,a)}}return!!h&&(a||(a=new Da),Na(t,e,n,i,o,a))},Ja=D;var Ya=function t(e,n,i,o,a){return e===n||(null==e||null==n||!Ja(e)&&!Ja(n)?e!=e&&n!=n:Qa(e,n,i,o,t,a))},Xa=ua,tr=Ya;var er=K;var nr=function(t){return t==t&&!er(t)},ir=nr,or=Ho;var ar=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}},rr=function(t,e,n,i){var o=n.length,a=o,r=!i;if(null==t)return!a;for(t=Object(t);o--;){var s=n[o];if(r&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var l=(s=n[o])[0],u=t[l],c=s[1];if(r&&s[2]){if(void 0===u&&!(l in t))return!1}else{var d=new Xa;if(i)var h=i(u,c,l,t,e,d);if(!(void 0===h?tr(c,u,3,i,d):h))return!1}}return!0},sr=function(t){for(var e=or(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,ir(o)]}return e},lr=ar;var ur=function(t,e){return null!=t&&e in Object(t)},cr=Qe;var dr=Ya,hr=an,pr=function(t,e){return null!=t&&cr(t,e,ur)},fr=H,vr=nr,gr=ar,yr=Ge;var mr=nn;var Cr=function(t){return function(e){return null==e?void 0:e[t]}},br=function(t){return function(e){return mr(e,t)}},wr=H,kr=Ge;var Sr=function(t){var e=sr(t);return 1==e.length&&e[0][2]?lr(e[0][0],e[0][1]):function(n){return n===t||rr(n,t,e)}},Ir=function(t,e){return fr(t)&&vr(e)?gr(yr(t),e):function(n){var i=hr(n,t);return void 0===i&&i===e?pr(n,t):dr(e,i,3)}},Lr=function(t){return t},xr=b,_r=function(t){return wr(t)?Cr(kr(t)):br(t)};var Mr=ho,Ar=Jo,Er=function(t){return"function"==typeof t?t:null==t?Lr:"object"==typeof t?xr(t)?Ir(t[0],t[1]):Sr(t):_r(t)},Fr=b;var Or=y((function(t,e){return(Fr(t)?Mr:Ar)(t,Er(e))}));function zr(t,e,n){return e=l(e),s(t,$r()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function $r(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($r=function(){return!!t})()}!function(e){var n;n=function(t,e,n,i){var o="countrySelect",a=1,r={defaultCountry:"",defaultStyling:"inside",excludeCountries:[],onlyCountries:[],preferredCountries:["us","gb"],localizedCountries:null,responsiveDropdown:t(e).width()<768},s=38,l=40,u=13,c=27,d=8,h=32,p=65,f=90;function v(e,n){this.element=e,this.options=t.extend({},r,n),this._defaults=r,this.ns="."+o+a++,this._name=o,this.init()}t(e).on("load",(function(){})),v.prototype={init:function(){return this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this.autoCountryDeferred=new t.Deferred,this._initAutoCountry(),this.typedLetters="",this.autoCountryDeferred},_processCountryData:function(){this._setInstanceCountryData(),this._setPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)},_setInstanceCountryData:function(){var e=this;if(this.options.onlyCountries.length){var n=[];t.each(this.options.onlyCountries,(function(t,i){var o=e._getCountryData(i,!0);o&&n.push(o)})),this.countries=n}else if(this.options.excludeCountries.length){var i=this.options.excludeCountries.map((function(t){return t.toLowerCase()}));this.countries=g.filter((function(t){return-1===i.indexOf(t.iso2)}))}else this.countries=g},_setPreferredCountries:function(){var e=this;this.preferredCountries=[],t.each(this.options.preferredCountries,(function(t,n){var i=e._getCountryData(n,!1);i&&e.preferredCountries.push(i)}))},_translateCountriesByLocale(){for(let t=0;t<this.countries.length;t++){const e=this.countries[t].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(e)&&(this.countries[t].name=this.options.localizedCountries[e])}},_countryNameSort:(t,e)=>t.name.localeCompare(e.name),_generateMarkup:function(){this.countryInput=t(this.element);var n="country-select";this.options.defaultStyling&&(n+=" "+this.options.defaultStyling),this.countryInput.wrap(t("<div>",{class:n}));var i=t("<div>",{class:"flag-dropdown"}).insertAfter(this.countryInput),o=t("<div>",{class:"selected-flag"}).appendTo(i);this.selectedFlagInner=t("<div>",{class:"flag"}).appendTo(o),t("<div>",{class:"arrow"}).appendTo(o),this.countryList=t("<ul>",{class:"country-list v-hide"}).appendTo(i),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"preferred"),t("<li>",{class:"divider"}).appendTo(this.countryList)),this._appendListItems(this.countries,""),this.countryCodeInput=t("#"+this.countryInput.attr("id")+"_code"),this.countryCodeInput||(this.countryCodeInput=t('<input type="hidden" id="'+this.countryInput.attr("id")+'_code" name="'+this.countryInput.attr("name")+'_code" value="" />'),this.countryCodeInput.insertAfter(this.countryInput)),this.dropdownHeight=this.countryList.outerHeight(),this.options.responsiveDropdown&&t(e).resize((function(){t(".country-select").each((function(){var e=this.offsetWidth;t(this).find(".country-list").css("width",e+"px")}))})).resize(),this.countryList.removeClass("v-hide").addClass("hide"),this.countryListItems=this.countryList.children(".country")},_appendListItems:function(e,n){var i="";t.each(e,(function(t,e){i+='<li class="country '+n+'" data-country-code="'+e.iso2+'">',i+='<div class="flag '+e.iso2+'"></div>',i+='<span class="country-name">'+e.name+"</span>",i+="</li>"})),this.countryList.append(i)},_setInitialState:function(){var t=!1;this.countryInput.val()&&(t=this._updateFlagFromInputVal());var e,n=this.countryCodeInput.val();n&&this.selectCountry(n),t||(this.options.defaultCountry&&(e=this._getCountryData(this.options.defaultCountry,!1))||(e=this.preferredCountries.length?this.preferredCountries[0]:this.countries[0]),this.defaultCountry=e.iso2)},_initListeners:function(){var t=this;this.countryInput.on("keyup"+this.ns,(function(){t._updateFlagFromInputVal()})),this.selectedFlagInner.parent().on("click"+this.ns,(function(e){t.countryList.hasClass("hide")&&!t.countryInput.prop("disabled")&&t._showDropdown()})),this.countryInput.on("blur"+this.ns,(function(){t.countryInput.val()!=t.getSelectedCountryData().name&&t.setCountry(t.countryInput.val()),t.countryInput.val(t.getSelectedCountryData().name)}))},_initAutoCountry:function(){"auto"===this.options.initialCountry?this._loadAutoCountry():(this.defaultCountry&&this.selectCountry(this.defaultCountry),this.autoCountryDeferred.resolve())},_loadAutoCountry:function(){t.fn[o].autoCountry?this.handleAutoCountry():t.fn[o].startedLoadingAutoCountry||(t.fn[o].startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup((function(e){t.fn[o].autoCountry=e.toLowerCase(),setTimeout((function(){t(".country-select input").countrySelect("handleAutoCountry")}))})))},_focus:function(){this.countryInput.focus();var t=this.countryInput[0];if(t.setSelectionRange){var e=this.countryInput.val().length;t.setSelectionRange(e,e)}},_showDropdown:function(){this._setDropdownPosition();var t=this.countryList.children(".active");this._highlightListItem(t),this.countryList.removeClass("hide"),this._scrollTo(t),this._bindDropdownListeners(),this.selectedFlagInner.parent().children(".arrow").addClass("up")},_setDropdownPosition:function(){var n=this.countryInput.offset().top,i=t(e).scrollTop(),o=n+this.countryInput.outerHeight()+this.dropdownHeight<i+t(e).height(),a=n-this.dropdownHeight>i,r=!o&&a?"-"+(this.dropdownHeight-1)+"px":"";this.countryList.css("top",r)},_bindDropdownListeners:function(){var e=this;this.countryList.on("mouseover"+this.ns,".country",(function(n){e._highlightListItem(t(this))})),this.countryList.on("click"+this.ns,".country",(function(n){e._selectListItem(t(this))}));var i=!0;t("html").on("click"+this.ns,(function(t){t.preventDefault(),i||e._closeDropdown(),i=!1})),t(n).on("keydown"+this.ns,(function(t){t.preventDefault(),t.which==s||t.which==l?e._handleUpDownKey(t.which):t.which==u?e._handleEnterKey():t.which==c?e._closeDropdown():t.which>=p&&t.which<=f||t.which===h?(e.typedLetters+=String.fromCharCode(t.which),e._filterCountries(e.typedLetters)):t.which===d&&(e.typedLetters=e.typedLetters.slice(0,-1),e._filterCountries(e.typedLetters))}))},_handleUpDownKey:function(t){var e=this.countryList.children(".highlight").first(),n=t==s?e.prev():e.next();n.length&&(n.hasClass("divider")&&(n=t==s?n.prev():n.next()),this._highlightListItem(n),this._scrollTo(n))},_handleEnterKey:function(){var t=this.countryList.children(".highlight").first();t.length&&this._selectListItem(t)},_filterCountries:function(e){var n=this.countryListItems.filter((function(){return 0===t(this).text().toUpperCase().indexOf(e)&&!t(this).hasClass("preferred")}));if(n.length){var i,o=n.filter(".highlight").first();i=o&&o.next()&&0===o.next().text().toUpperCase().indexOf(e)?o.next():n.first(),this._highlightListItem(i),this._scrollTo(i)}},_updateFlagFromInputVal:function(){var e=this,n=this.countryInput.val().replace(/(?=[() ])/g,"\\");if(n){var i=[],o=new RegExp(n,"i");if(n.length<=2)for(var a=0;a<this.countries.length;a++)this.countries[a].iso2.match(o)&&i.push(this.countries[a].iso2);if(0==i.length)for(a=0;a<this.countries.length;a++)this.countries[a].name.match(o)&&i.push(this.countries[a].iso2);var r=!1;return t.each(i,(function(t,n){e.selectedFlagInner.hasClass(n)&&(r=!0)})),r||(this._selectFlag(i[0]),this.countryCodeInput.val(i[0]).trigger("change")),!0}return!1},_highlightListItem:function(t){this.countryListItems.removeClass("highlight"),t.addClass("highlight")},_getCountryData:function(t,e){for(var n=e?g:this.countries,i=0;i<n.length;i++)if(n[i].iso2==t)return n[i];return null},_selectFlag:function(t){if(!t)return!1;this.selectedFlagInner.attr("class","flag "+t);var e=this._getCountryData(t);this.selectedFlagInner.parent().attr("title",e.name);var n=this.countryListItems.children(".flag."+t).first().parent();this.countryListItems.removeClass("active"),n.addClass("active")},_selectListItem:function(t){var e=t.attr("data-country-code");this._selectFlag(e),this._closeDropdown(),this._updateName(e),this.countryInput.trigger("change"),this.countryCodeInput.trigger("change"),this._focus()},_closeDropdown:function(){this.countryList.addClass("hide"),this.selectedFlagInner.parent().children(".arrow").removeClass("up"),t(n).off("keydown"+this.ns),t("html").off("click"+this.ns),this.countryList.off(this.ns),this.typedLetters=""},_scrollTo:function(t){if(t&&t.offset()){var e=this.countryList,n=e.height(),i=e.offset().top,o=i+n,a=t.outerHeight(),r=t.offset().top,s=r+a,l=r-i+e.scrollTop();if(r<i)e.scrollTop(l);else if(s>o){var u=n-a;e.scrollTop(l-u)}}},_updateName:function(t){this.countryCodeInput.val(t).trigger("change"),this.countryInput.val(this._getCountryData(t).name)},handleAutoCountry:function(){"auto"===this.options.initialCountry&&(this.defaultCountry=t.fn[o].autoCountry,this.countryInput.val()||this.selectCountry(this.defaultCountry),this.autoCountryDeferred.resolve())},getSelectedCountryData:function(){var t=this.selectedFlagInner.attr("class").split(" ")[1];return this._getCountryData(t)},selectCountry:function(t){t=t.toLowerCase(),this.selectedFlagInner.hasClass(t)||(this._selectFlag(t),this._updateName(t))},setCountry:function(t){this.countryInput.val(t),this._updateFlagFromInputVal()},destroy:function(){this.countryInput.off(this.ns),this.selectedFlagInner.parent().off(this.ns),this.countryInput.parent().before(this.countryInput).remove()}},t.fn[o]=function(e){var n,a=arguments;return e===i||"object"==typeof e?this.each((function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new v(this,e))})):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each((function(){var i=t.data(this,"plugin_"+o);i instanceof v&&"function"==typeof i[e]&&(n=i[e].apply(i,Array.prototype.slice.call(a,1))),"destroy"===e&&t.data(this,"plugin_"+o,null)})),n!==i?n:this):void 0},t.fn[o].getCountryData=function(){return g},t.fn[o].setCountryData=function(t){g=t};var g=t.each([{n:"Afghanistan (‫افغانستان‬‎)",i:"af"},{n:"Åland Islands (Åland)",i:"ax"},{n:"Albania (Shqipëri)",i:"al"},{n:"Algeria (‫الجزائر‬‎)",i:"dz"},{n:"American Samoa",i:"as"},{n:"Andorra",i:"ad"},{n:"Angola",i:"ao"},{n:"Anguilla",i:"ai"},{n:"Antarctica",i:"aq"},{n:"Antigua and Barbuda",i:"ag"},{n:"Argentina",i:"ar"},{n:"Armenia (Հայաստան)",i:"am"},{n:"Aruba",i:"aw"},{n:"Australia",i:"au"},{n:"Austria (Österreich)",i:"at"},{n:"Azerbaijan (Azərbaycan)",i:"az"},{n:"Bahamas",i:"bs"},{n:"Bahrain (‫البحرين‬‎)",i:"bh"},{n:"Bangladesh (বাংলাদেশ)",i:"bd"},{n:"Barbados",i:"bb"},{n:"Belarus (Беларусь)",i:"by"},{n:"Belgium (België)",i:"be"},{n:"Belize",i:"bz"},{n:"Benin (Bénin)",i:"bj"},{n:"Bermuda",i:"bm"},{n:"Bhutan (འབྲུག)",i:"bt"},{n:"Bolivia",i:"bo"},{n:"Bosnia and Herzegovina (Босна и Херцеговина)",i:"ba"},{n:"Botswana",i:"bw"},{n:"Bouvet Island (Bouvetøya)",i:"bv"},{n:"Brazil (Brasil)",i:"br"},{n:"British Indian Ocean Territory",i:"io"},{n:"British Virgin Islands",i:"vg"},{n:"Brunei",i:"bn"},{n:"Bulgaria (България)",i:"bg"},{n:"Burkina Faso",i:"bf"},{n:"Burundi (Uburundi)",i:"bi"},{n:"Cambodia (កម្ពុជា)",i:"kh"},{n:"Cameroon (Cameroun)",i:"cm"},{n:"Canada",i:"ca"},{n:"Cape Verde (Kabu Verdi)",i:"cv"},{n:"Caribbean Netherlands",i:"bq"},{n:"Cayman Islands",i:"ky"},{n:"Central African Republic (République Centrafricaine)",i:"cf"},{n:"Chad (Tchad)",i:"td"},{n:"Chile",i:"cl"},{n:"China (中国)",i:"cn"},{n:"Christmas Island",i:"cx"},{n:"Cocos (Keeling) Islands (Kepulauan Cocos (Keeling))",i:"cc"},{n:"Colombia",i:"co"},{n:"Comoros (‫جزر القمر‬‎)",i:"km"},{n:"Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)",i:"cd"},{n:"Congo (Republic) (Congo-Brazzaville)",i:"cg"},{n:"Cook Islands",i:"ck"},{n:"Costa Rica",i:"cr"},{n:"Côte d’Ivoire",i:"ci"},{n:"Croatia (Hrvatska)",i:"hr"},{n:"Cuba",i:"cu"},{n:"Curaçao",i:"cw"},{n:"Cyprus (Κύπρος)",i:"cy"},{n:"Czech Republic (Česká republika)",i:"cz"},{n:"Denmark (Danmark)",i:"dk"},{n:"Djibouti",i:"dj"},{n:"Dominica",i:"dm"},{n:"Dominican Republic (República Dominicana)",i:"do"},{n:"Ecuador",i:"ec"},{n:"Egypt (‫مصر‬‎)",i:"eg"},{n:"El Salvador",i:"sv"},{n:"Equatorial Guinea (Guinea Ecuatorial)",i:"gq"},{n:"Eritrea",i:"er"},{n:"Estonia (Eesti)",i:"ee"},{n:"Ethiopia",i:"et"},{n:"Falkland Islands (Islas Malvinas)",i:"fk"},{n:"Faroe Islands (Føroyar)",i:"fo"},{n:"Fiji",i:"fj"},{n:"Finland (Suomi)",i:"fi"},{n:"France",i:"fr"},{n:"French Guiana (Guyane française)",i:"gf"},{n:"French Polynesia (Polynésie française)",i:"pf"},{n:"French Southern Territories (Terres australes françaises)",i:"tf"},{n:"Gabon",i:"ga"},{n:"Gambia",i:"gm"},{n:"Georgia (საქართველო)",i:"ge"},{n:"Germany (Deutschland)",i:"de"},{n:"Ghana (Gaana)",i:"gh"},{n:"Gibraltar",i:"gi"},{n:"Greece (Ελλάδα)",i:"gr"},{n:"Greenland (Kalaallit Nunaat)",i:"gl"},{n:"Grenada",i:"gd"},{n:"Guadeloupe",i:"gp"},{n:"Guam",i:"gu"},{n:"Guatemala",i:"gt"},{n:"Guernsey",i:"gg"},{n:"Guinea (Guinée)",i:"gn"},{n:"Guinea-Bissau (Guiné Bissau)",i:"gw"},{n:"Guyana",i:"gy"},{n:"Haiti",i:"ht"},{n:"Heard Island and Mcdonald Islands",i:"hm"},{n:"Honduras",i:"hn"},{n:"Hong Kong (香港)",i:"hk"},{n:"Hungary (Magyarország)",i:"hu"},{n:"Iceland (Ísland)",i:"is"},{n:"India (भारत)",i:"in"},{n:"Indonesia",i:"id"},{n:"Iran (‫ایران‬‎)",i:"ir"},{n:"Iraq (‫العراق‬‎)",i:"iq"},{n:"Ireland",i:"ie"},{n:"Isle of Man",i:"im"},{n:"Israel (‫ישראל‬‎)",i:"il"},{n:"Italy (Italia)",i:"it"},{n:"Jamaica",i:"jm"},{n:"Japan (日本)",i:"jp"},{n:"Jersey",i:"je"},{n:"Jordan (‫الأردن‬‎)",i:"jo"},{n:"Kazakhstan (Казахстан)",i:"kz"},{n:"Kenya",i:"ke"},{n:"Kiribati",i:"ki"},{n:"Kosovo (Kosovë)",i:"xk"},{n:"Kuwait (‫الكويت‬‎)",i:"kw"},{n:"Kyrgyzstan (Кыргызстан)",i:"kg"},{n:"Laos (ລາວ)",i:"la"},{n:"Latvia (Latvija)",i:"lv"},{n:"Lebanon (‫لبنان‬‎)",i:"lb"},{n:"Lesotho",i:"ls"},{n:"Liberia",i:"lr"},{n:"Libya (‫ليبيا‬‎)",i:"ly"},{n:"Liechtenstein",i:"li"},{n:"Lithuania (Lietuva)",i:"lt"},{n:"Luxembourg",i:"lu"},{n:"Macau (澳門)",i:"mo"},{n:"Macedonia (FYROM) (Македонија)",i:"mk"},{n:"Madagascar (Madagasikara)",i:"mg"},{n:"Malawi",i:"mw"},{n:"Malaysia",i:"my"},{n:"Maldives",i:"mv"},{n:"Mali",i:"ml"},{n:"Malta",i:"mt"},{n:"Marshall Islands",i:"mh"},{n:"Martinique",i:"mq"},{n:"Mauritania (‫موريتانيا‬‎)",i:"mr"},{n:"Mauritius (Moris)",i:"mu"},{n:"Mayotte",i:"yt"},{n:"Mexico (México)",i:"mx"},{n:"Micronesia",i:"fm"},{n:"Moldova (Republica Moldova)",i:"md"},{n:"Monaco",i:"mc"},{n:"Mongolia (Монгол)",i:"mn"},{n:"Montenegro (Crna Gora)",i:"me"},{n:"Montserrat",i:"ms"},{n:"Morocco (‫المغرب‬‎)",i:"ma"},{n:"Mozambique (Moçambique)",i:"mz"},{n:"Myanmar (Burma) (မြန်မာ)",i:"mm"},{n:"Namibia (Namibië)",i:"na"},{n:"Nauru",i:"nr"},{n:"Nepal (नेपाल)",i:"np"},{n:"Netherlands (Nederland)",i:"nl"},{n:"New Caledonia (Nouvelle-Calédonie)",i:"nc"},{n:"New Zealand",i:"nz"},{n:"Nicaragua",i:"ni"},{n:"Niger (Nijar)",i:"ne"},{n:"Nigeria",i:"ng"},{n:"Niue",i:"nu"},{n:"Norfolk Island",i:"nf"},{n:"North Korea (조선 민주주의 인민 공화국)",i:"kp"},{n:"Northern Mariana Islands",i:"mp"},{n:"Norway (Norge)",i:"no"},{n:"Oman (‫عُمان‬‎)",i:"om"},{n:"Pakistan (‫پاکستان‬‎)",i:"pk"},{n:"Palau",i:"pw"},{n:"Palestine (‫فلسطين‬‎)",i:"ps"},{n:"Panama (Panamá)",i:"pa"},{n:"Papua New Guinea",i:"pg"},{n:"Paraguay",i:"py"},{n:"Peru (Perú)",i:"pe"},{n:"Philippines",i:"ph"},{n:"Pitcairn Islands",i:"pn"},{n:"Poland (Polska)",i:"pl"},{n:"Portugal",i:"pt"},{n:"Puerto Rico",i:"pr"},{n:"Qatar (‫قطر‬‎)",i:"qa"},{n:"Réunion (La Réunion)",i:"re"},{n:"Romania (România)",i:"ro"},{n:"Russia (Россия)",i:"ru"},{n:"Rwanda",i:"rw"},{n:"Saint Barthélemy (Saint-Barthélemy)",i:"bl"},{n:"Saint Helena",i:"sh"},{n:"Saint Kitts and Nevis",i:"kn"},{n:"Saint Lucia",i:"lc"},{n:"Saint Martin (Saint-Martin (partie française))",i:"mf"},{n:"Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)",i:"pm"},{n:"Saint Vincent and the Grenadines",i:"vc"},{n:"Samoa",i:"ws"},{n:"San Marino",i:"sm"},{n:"São Tomé and Príncipe (São Tomé e Príncipe)",i:"st"},{n:"Saudi Arabia (‫المملكة العربية السعودية‬‎)",i:"sa"},{n:"Senegal (Sénégal)",i:"sn"},{n:"Serbia (Србија)",i:"rs"},{n:"Seychelles",i:"sc"},{n:"Sierra Leone",i:"sl"},{n:"Singapore",i:"sg"},{n:"Sint Maarten",i:"sx"},{n:"Slovakia (Slovensko)",i:"sk"},{n:"Slovenia (Slovenija)",i:"si"},{n:"Solomon Islands",i:"sb"},{n:"Somalia (Soomaaliya)",i:"so"},{n:"South Africa",i:"za"},{n:"South Georgia & South Sandwich Islands",i:"gs"},{n:"South Korea (대한민국)",i:"kr"},{n:"South Sudan (‫جنوب السودان‬‎)",i:"ss"},{n:"Spain (España)",i:"es"},{n:"Sri Lanka (ශ්‍රී ලංකාව)",i:"lk"},{n:"Sudan (‫السودان‬‎)",i:"sd"},{n:"Suriname",i:"sr"},{n:"Svalbard and Jan Mayen (Svalbard og Jan Mayen)",i:"sj"},{n:"Swaziland",i:"sz"},{n:"Sweden (Sverige)",i:"se"},{n:"Switzerland (Schweiz)",i:"ch"},{n:"Syria (‫سوريا‬‎)",i:"sy"},{n:"Taiwan (台灣)",i:"tw"},{n:"Tajikistan",i:"tj"},{n:"Tanzania",i:"tz"},{n:"Thailand (ไทย)",i:"th"},{n:"Timor-Leste",i:"tl"},{n:"Togo",i:"tg"},{n:"Tokelau",i:"tk"},{n:"Tonga",i:"to"},{n:"Trinidad and Tobago",i:"tt"},{n:"Tunisia (‫تونس‬‎)",i:"tn"},{n:"Turkey (Türkiye)",i:"tr"},{n:"Turkmenistan",i:"tm"},{n:"Turks and Caicos Islands",i:"tc"},{n:"Tuvalu",i:"tv"},{n:"Uganda",i:"ug"},{n:"Ukraine (Україна)",i:"ua"},{n:"United Arab Emirates (‫الإمارات العربية المتحدة‬‎)",i:"ae"},{n:"United Kingdom",i:"gb"},{n:"United States",i:"us"},{n:"U.S. Minor Outlying Islands",i:"um"},{n:"U.S. Virgin Islands",i:"vi"},{n:"Uruguay",i:"uy"},{n:"Uzbekistan (Oʻzbekiston)",i:"uz"},{n:"Vanuatu",i:"vu"},{n:"Vatican City (Città del Vaticano)",i:"va"},{n:"Venezuela",i:"ve"},{n:"Vietnam (Việt Nam)",i:"vn"},{n:"Wallis and Futuna",i:"wf"},{n:"Western Sahara (‫الصحراء الغربية‬‎)",i:"eh"},{n:"Yemen (‫اليمن‬‎)",i:"ye"},{n:"Zambia",i:"zm"},{n:"Zimbabwe",i:"zw"}],(function(t,e){e.name=e.n,e.iso2=e.i,delete e.n,delete e.i}))},e.exports?e.exports=n(t,window,document):n(jQuery,window,document)}({exports:{}});var Rr=jQuery,Tr=function(t){function e(t,i){var o;return n(this,e),d(o=zr(this,e,[t,i]),"getCountries",(function(){var t;Rr(document).trigger("afd:getCountriesStart");var e=new Promise((function(e){t=e})),n=o.setupParams({data:"list",task:"listcountries",fields:"standard",countryISO:"FRA"});return Rr.ajax(n).done(o.handleGetCountries.bind(null,t)),e})),d(o,"handleGetCountries",(function(t,e){if(-2===e.status){var n=void 0!==e.reason?e.reason:"";throw n+=void 0!==e.other?" - "+e.other:""}var i=e.Item,a=o.options.country.preferredCountries;Rr.each(a,(function(t,e){var n=Or(i,{iso:e});if(0!==n.length){var a=n[0];o.$element.append(Rr("<option />").val(a.iso).text(a.name))}else console.warn(e+" was supplied as a preferredCountry but is not a valid option.  Please use a valid country ISO3")}));var r=[];if("SELECT"===o.$element[0].tagName)Rr.each(i,(function(t,e){a.indexOf(e.iso)>-1||((o.options.typeahead.availableCountries.length>0&&o.options.typeahead.availableCountries.indexOf(e.iso)>-1||o.options.country.availableCountries.length>0&&o.options.country.availableCountries.indexOf(e.iso)>-1||o.options.typeahead.availableCountries.length<1&&o.options.country.availableCountries.length<1)&&(o.$element.append(Rr("<option />").val(e.iso).text(e.name)),r.push(o.iso3ToIso2(e.iso))),o.options.defaultCountry&&(o.$element.val(o.options.defaultCountry),o.$element.trigger("afd:countryChanged",[o.$element.val()])),o.options.country.defaultCountry&&(o.$element.val(o.options.country.defaultCountry),o.$element.trigger("afd:countryChanged",[o.$element.val()])))}));else{var s=[];Rr.each(a,(function(t,e){s.push(o.iso3ToIso2(e).toLowerCase())})),o.$element.countrySelect({defaultCountry:o.iso3ToIso2(o.options.country.defaultCountry).toLowerCase(),onlyCountries:r,preferredCountries:s})}Rr(document).trigger("afd:getCountriesComplete",i),t()})),o}return c(e,t),r(e,[{key:"init",value:function(){return this.$element.addClass("afd-country"),this.getCountries()}}])}(cn(p));function Br(t,n,i){var o=jQuery,a=o(this),r={};if(n?r=n:"undefined"!=typeof afdOptions&&(r=afdOptions),r=o.extend(!0,{},e,r),-1===["SELECT","INPUT"].indexOf(a.prop("tagName")))throw"Country control should be either INPUT or SELECT";try{new Tr(a,r).init().then((function(){i()}))}catch(t){console.error("Error initialising country control"),console.error(t)}}function Dr(t,e,n){try{t.afd(e,void 0,n)}catch(t){console.error(t)}}window.afdInitScripts=void 0===window.afdInitScripts?{lookupButton:null,typeahead:null,reverseGeocodeButton:null,account:null,card:null,email:null,phone:null,country:null}:window.afdInitScripts,window.afdInitScripts.lookupButton=void 0!==Bn?Bn:window.afdInitScripts.lookupButton?window.afdInitScripts.lookupButton:null,window.afdInitScripts.typeahead=void 0!==Un?Un:window.afdInitScripts.typeahead?window.afdInitScripts.typeahead:null,window.afdInitScripts.reverseGeocodeButton=void 0!==Qn?Qn:window.afdInitScripts.reverseGeocodeButton?window.afdInitScripts.reverseGeocodeButton:null,window.afdInitScripts.account=void 0!==oi?oi:window.afdInitScripts.account?window.afdInitScripts.account:null,window.afdInitScripts.card=void 0!==Qi?Qi:window.afdInitScripts.card?i(window.afdInitScripts.card):null,window.afdInitScripts.email=void 0!==io?io:window.afdInitScripts.email?window.afdInitScripts.email:null,window.afdInitScripts.phone=void 0!==co?co:window.afdInitScripts.phone?window.afdInitScripts.phone:null,window.afdInitScripts.country=void 0!==Br?Br:window.afdInitScripts.country?window.afdInitScripts.country:null,function(t){t.fn.afd=function(e,n,i){return this.each((function(){t(this).attr("data-afd-control",e);var o=["lookupField","lookupResultsList","reverseGeocodeResultsList","sort","expiry","cvv"];if(!(o.indexOf(e)>-1)){var a=["typeahead","lookupButton","country","reverseGeocodeButton","phone","email","account","card"];if(-1===a.indexOf(e))throw"`"+e+"` is not a valid AFD jQuery control.  Please use one of "+a+","+o;return function(t){if(!window.afdInitScripts[t])throw"You are trying to intitialise the control `"+t+"` but it seems that you have not loaded this module"}(e),function(t,e,n,i){try{window.afdInitScripts[e].call(t,e,n,i)}catch(t){console.error("Problem initialising AFD Control"),console.error(t)}}(this,e,n,i),this}}))},function(t){void 0===window.afdDataInit&&(window.afdDataInit=!1),t(document).ready((function(){window.afdDataInit||(window.afdDataInit=!0,t(document).trigger("afd::page_ready"))})),t(document).off("afd::page_ready").on("afd::page_ready",(function(){var e=["country"],n=[];t("[data-afd-control]").each((function(){var i=t(this),o=i.data("afd-control");e.indexOf(o)>-1&&n.push(new Promise((function(t,e){Dr(i,o,t)})))})),Promise.all(n).then((function(){t("[data-afd-control]").each((function(){var n=t(this),i=n.data("afd-control");-1===e.indexOf(i)&&Dr(n,i,null)}))}))}))}(t),"undefined"!=typeof postRender&&(t(document).ready((function(){afdOptions.postRender.preventAutoInit||t(document).trigger("afd::initPostRender")})),t(document).on("afd::initPostRender",(function(){try{if(void 0===afdOptions.postRender)throw"Post Render version of plugin used but no post render options supplied";postRender(afdOptions.postRender),t(document).trigger("afd:postRenderInitComplete")}catch(t){console.error(t)}t(document).trigger("afd::page_ready")})))}(t)}));
//# sourceMappingURL=afd.jquery.1.11.3.min.js.map
